/*! For license information please see main.38717869.js.LICENSE.txt */
(()=>{var e={49:(e,t)=>{"use strict";var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,x={};function g(e,t,s){this.props=e,this.context=t,this.refs=x,this.updater=s||f}function y(){}function v(e,t,s){this.props=e,this.context=t,this.refs=x,this.updater=s||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,p(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,a={},i=null,l=null;if(null!=t)for(n in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,n)&&!S.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===a[n]&&(a[n]=o[n]);return{$$typeof:s,type:e,key:i,ref:l,props:a,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,n,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case r:o=!0}}if(o)return i=i(o=e),e=""===a?"."+_(o,0):a,j(i)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),A(i,t,n,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(o=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+_(l=e[c],c);o+=A(l,t,n,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=A(l=l.value,t,n,d=a+_(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function P(e,t,s){if(null==e)return e;var r=[],n=0;return A(e,r,"","",function(e){return t.call(s,e,n++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},R={transition:null},F={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:R,ReactCurrentOwner:w};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,s){P(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=n,t.Profiler=i,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=p({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!S.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:s,type:e.type,key:a,ref:i,props:n,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,s){return T.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,s){return T.current.useReducer(e,t,s)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return T.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},63:(e,t,s)=>{"use strict";s.d(t,{QueryClientProvider:()=>u});var r=s(854),n=s(119).unstable_batchedUpdates;r.j.setBatchNotifyFunction(n);var a=s(592),i=console;(0,a.B)(i);var l=s(950),o=l.createContext(void 0),c=l.createContext(!1);function d(e){return e&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=o),window.ReactQueryClientContext):o}var u=function(e){var t=e.client,s=e.contextSharing,r=void 0!==s&&s,n=e.children;l.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var a=d(r);return l.createElement(c.Provider,{value:r},l.createElement(a.Provider,{value:t},n))}},119:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(345)},127:()=>{},146:(e,t,s)=>{"use strict";s.d(t,{QueryClient:()=>r.E});var r=s(984),n=s(127);s.o(n,"QueryClientProvider")&&s.d(t,{QueryClientProvider:function(){return n.QueryClientProvider}})},168:(e,t,s)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},r.apply(null,arguments)}s.d(t,{A:()=>r})},339:(e,t,s)=>{"use strict";s.d(t,{BH:()=>y,Cp:()=>x,F$:()=>f,G6:()=>w,HN:()=>o,MK:()=>m,Od:()=>p,S$:()=>n,Zw:()=>i,b_:()=>u,gn:()=>l,j3:()=>c,jY:()=>S,lQ:()=>a,nJ:()=>h,vh:()=>d,yy:()=>N});var r=s(168),n="undefined"===typeof window;function a(){}function i(e,t){return"function"===typeof e?e(t):e}function l(e){return"number"===typeof e&&e>=0&&e!==1/0}function o(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function d(e,t,s){return j(e)?"function"===typeof t?(0,r.A)({},s,{queryKey:e,queryFn:t}):(0,r.A)({},t,{queryKey:e}):e}function u(e,t,s){return j(e)?[(0,r.A)({},t,{queryKey:e}),s]:[e||{},t]}function m(e,t){var s=e.active,r=e.exact,n=e.fetching,a=e.inactive,i=e.predicate,l=e.queryKey,o=e.stale;if(j(l))if(r){if(t.queryHash!==f(l,t.options))return!1}else if(!x(t.queryKey,l))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(s,a);if("none"===c)return!1;if("all"!==c){var d=t.isActive();if("active"===c&&!d)return!1;if("inactive"===c&&d)return!1}return("boolean"!==typeof o||t.isStale()===o)&&(("boolean"!==typeof n||t.isFetching()===n)&&!(i&&!i(t)))}function h(e,t){var s=e.exact,r=e.fetching,n=e.predicate,a=e.mutationKey;if(j(a)){if(!t.options.mutationKey)return!1;if(s){if(p(t.options.mutationKey)!==p(a))return!1}else if(!x(t.options.mutationKey,a))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(n&&!n(t))}function f(e,t){return((null==t?void 0:t.queryKeyHashFn)||p)(e)}function p(e){var t,s=o(e);return t=s,JSON.stringify(t,function(e,t){return v(t)?Object.keys(t).sort().reduce(function(e,s){return e[s]=t[s],e},{}):t})}function x(e,t){return g(o(e),o(t))}function g(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some(function(s){return!g(e[s],t[s])}))}function y(e,t){if(e===t)return e;var s=Array.isArray(e)&&Array.isArray(t);if(s||v(e)&&v(t)){for(var r=s?e.length:Object.keys(e).length,n=s?t:Object.keys(t),a=n.length,i=s?[]:{},l=0,o=0;o<a;o++){var c=s?o:n[o];i[c]=y(e[c],t[c]),i[c]===e[c]&&l++}return r===a&&l===r?e:i}return t}function v(e){if(!b(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var s=t.prototype;return!!b(s)&&!!s.hasOwnProperty("isPrototypeOf")}function b(e){return"[object Object]"===Object.prototype.toString.call(e)}function j(e){return"string"===typeof e||Array.isArray(e)}function N(e){return new Promise(function(t){setTimeout(t,e)})}function w(e){Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})})}function S(){if("function"===typeof AbortController)return new AbortController}},340:(e,t,s)=>{"use strict";e.exports=s(761)},345:(e,t,s)=>{"use strict";var r=s(950),n=s(340);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(e,t,s,r,n,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,s,r){var n=x.hasOwnProperty(t)?x[t]:null;(null!==n?0!==n.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,r){if(null===t||"undefined"===typeof t||function(e,t,s,r){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,r))return!0;if(r)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,n,r)&&(s=null),r||null===n?function(e){return!!u.call(f,e)||!u.call(h,e)&&(m.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=null===s?3!==n.type&&"":s:(t=n.attributeName,r=n.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(n=n.type)||4===n&&!0===s?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);x[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var D,B=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var I=!1;function M(e,t){if(!e||I)return"";I=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),a=r.stack.split("\n"),i=n.length-1,l=a.length-1;1<=i&&0<=l&&n[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(n[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||n[i]!==a[l]){var o="\n"+n[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{I=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case k:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return q(e(t))}catch(s){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var n=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==s&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var s=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function J(e,t){var s=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;s=H(null!=t.value?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){G(e,t);var s=H(t.value),r=t.type;if(null!=s)"number"===r?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&K(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,r){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&r&&(e[s].defaultSelected=!0)}else{for(s=""+H(s),t=null,n=0;n<e.length;n++){if(e[n].value===s)return e[n].selected=!0,void(r&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(a(92));if(te(s)){if(1<s.length)throw Error(a(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:H(s)}}function ae(e,t){var s=H(t.value),r=H(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,s,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var r=0===s.indexOf("--"),n=pe(s,t[s],r);"float"===s&&(s="cssFloat"),r?e.setProperty(s,n):e[s]=n}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,Se=null;function ke(e){if(e=vn(e)){if("function"!==typeof Ne)throw Error(a(280));var t=e.stateNode;t&&(t=jn(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?Se?Se.push(e):Se=[e]:we=e}function Ee(){if(we){var e=we,t=Se;if(Se=we=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function _e(e,t){return e(t)}function Ae(){}var Pe=!1;function Oe(e,t,s){if(Pe)return e(t,s);Pe=!0;try{return _e(e,t,s)}finally{Pe=!1,(null!==we||null!==Se)&&(Ae(),Ee())}}function Te(e,t){var s=e.stateNode;if(null===s)return null;var r=jn(s);if(null===r)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(a(231,t,typeof s));return s}var Re=!1;if(d)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(de){Re=!1}function Le(e,t,s,r,n,a,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var De=!1,Be=null,ze=!1,Ie=null,Me={onError:function(e){De=!0,Be=e}};function Ue(e,t,s,r,n,a,i,l,o){De=!1,Be=null,Le.apply(Me,arguments)}function qe(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var s=e,r=t;;){var n=s.return;if(null===n)break;var i=n.alternate;if(null===i){if(null!==(r=n.return)){s=r;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return He(n),e;if(i===r)return He(n),t;i=i.sibling}throw Error(a(188))}if(s.return!==r.return)s=n,r=i;else{for(var l=!1,o=n.child;o;){if(o===s){l=!0,s=n,r=i;break}if(o===r){l=!0,r=n,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,r=n;break}if(o===r){l=!0,r=i,s=n;break}o=o.sibling}if(!l)throw Error(a(189))}}if(s.alternate!==r)throw Error(a(190))}if(3!==s.tag)throw Error(a(188));return s.stateNode.current===s?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var $e=n.unstable_scheduleCallback,Ke=n.unstable_cancelCallback,Ye=n.unstable_shouldYield,Je=n.unstable_requestPaint,Ge=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,st=n.unstable_LowPriority,rt=n.unstable_IdlePriority,nt=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var s=e.pendingLanes;if(0===s)return 0;var r=0,n=e.suspendedLanes,a=e.pingedLanes,i=268435455&s;if(0!==i){var l=i&~n;0!==l?r=ut(l):0!==(a&=i)&&(r=ut(a))}else 0!==(i=s&~n)?r=ut(i):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&n)&&((n=r&-r)>=(a=t&-t)||16===n&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)n=1<<(s=31-it(t)),r|=e[s],t&=~n;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function gt(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=s}function yt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-it(s),n=1<<r;n&t|e[r]&t&&(e[r]|=t),s&=~n}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,St,kt,Ct=!1,Et=[],_t=null,At=null,Pt=null,Ot=new Map,Tt=new Map,Rt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Dt(e,t,s,r,n,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[n]},null!==t&&(null!==(t=vn(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Bt(e){var t=yn(e.target);if(null!==t){var s=qe(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=Ve(s)))return e.blockedOn=t,void kt(e.priority,function(){wt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=vn(s))&&Nt(t),e.blockedOn=s,!1;var r=new(s=e.nativeEvent).constructor(s.type,s);be=r,s.target.dispatchEvent(r),be=null,t.shift()}return!0}function It(e,t,s){zt(e)&&s.delete(t)}function Mt(){Ct=!1,null!==_t&&zt(_t)&&(_t=null),null!==At&&zt(At)&&(At=null),null!==Pt&&zt(Pt)&&(Pt=null),Ot.forEach(It),Tt.forEach(It)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Mt)))}function qt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var s=1;s<Et.length;s++){var r=Et[s];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Ut(_t,e),null!==At&&Ut(At,e),null!==Pt&&Ut(Pt,e),Ot.forEach(t),Tt.forEach(t),s=0;s<Rt.length;s++)(r=Rt[s]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(s=Rt[0]).blockedOn;)Bt(s),null===s.blockedOn&&Rt.shift()}var Vt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,s,r){var n=vt,a=Vt.transition;Vt.transition=null;try{vt=1,$t(e,t,s,r)}finally{vt=n,Vt.transition=a}}function Qt(e,t,s,r){var n=vt,a=Vt.transition;Vt.transition=null;try{vt=4,$t(e,t,s,r)}finally{vt=n,Vt.transition=a}}function $t(e,t,s,r){if(Ht){var n=Yt(e,t,s,r);if(null===n)Vr(e,t,r,Kt,s),Lt(e,r);else if(function(e,t,s,r,n){switch(t){case"focusin":return _t=Dt(_t,e,t,s,r,n),!0;case"dragenter":return At=Dt(At,e,t,s,r,n),!0;case"mouseover":return Pt=Dt(Pt,e,t,s,r,n),!0;case"pointerover":var a=n.pointerId;return Ot.set(a,Dt(Ot.get(a)||null,e,t,s,r,n)),!0;case"gotpointercapture":return a=n.pointerId,Tt.set(a,Dt(Tt.get(a)||null,e,t,s,r,n)),!0}return!1}(n,e,t,s,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==n;){var a=vn(n);if(null!==a&&jt(a),null===(a=Yt(e,t,s,r))&&Vr(e,t,r,Kt,s),a===n)break;n=a}null!==n&&r.stopPropagation()}else Vr(e,t,r,null,s)}}var Kt=null;function Yt(e,t,s,r){if(Kt=null,null!==(e=yn(e=je(r))))if(null===(t=qe(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case st:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Gt=null,Xt=null,Zt=null;function es(){if(Zt)return Zt;var e,t,s=Xt,r=s.length,n="value"in Gt?Gt.value:Gt.textContent,a=n.length;for(e=0;e<r&&s[e]===n[e];e++);var i=r-e;for(t=1;t<=i&&s[r-t]===n[a-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ss(){return!0}function rs(){return!1}function ns(e){function t(t,s,r,n,a){for(var i in this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=n,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ss:rs,this.isPropagationStopped=rs,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var as,is,ls,os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=ns(os),ds=B({},os,{view:0,detail:0}),us=ns(ds),ms=B({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&"mousemove"===e.type?(as=e.screenX-ls.screenX,is=e.screenY-ls.screenY):is=as=0,ls=e),as)},movementY:function(e){return"movementY"in e?e.movementY:is}}),hs=ns(ms),fs=ns(B({},ms,{dataTransfer:0})),ps=ns(B({},ds,{relatedTarget:0})),xs=ns(B({},os,{animationName:0,elapsedTime:0,pseudoElement:0})),gs=B({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ys=ns(gs),vs=ns(B({},os,{data:0})),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},js={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ns={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ws(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ns[e])&&!!t[e]}function Ss(){return ws}var ks=B({},ds,{key:function(e){if(e.key){var t=bs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ts(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?js[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return"keypress"===e.type?ts(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ts(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cs=ns(ks),Es=ns(B({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_s=ns(B({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss})),As=ns(B({},os,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ps=B({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Os=ns(Ps),Ts=[9,13,27,32],Rs=d&&"CompositionEvent"in window,Fs=null;d&&"documentMode"in document&&(Fs=document.documentMode);var Ls=d&&"TextEvent"in window&&!Fs,Ds=d&&(!Rs||Fs&&8<Fs&&11>=Fs),Bs=String.fromCharCode(32),zs=!1;function Is(e,t){switch(e){case"keyup":return-1!==Ts.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ms(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Us=!1;var qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qs[e.type]:"textarea"===t}function Hs(e,t,s,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(s=new cs("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Ws=null,Qs=null;function $s(e){Br(e,0)}function Ks(e){if($(bn(e)))return e}function Ys(e,t){if("change"===e)return t}var Js=!1;if(d){var Gs;if(d){var Xs="oninput"in document;if(!Xs){var Zs=document.createElement("div");Zs.setAttribute("oninput","return;"),Xs="function"===typeof Zs.oninput}Gs=Xs}else Gs=!1;Js=Gs&&(!document.documentMode||9<document.documentMode)}function er(){Ws&&(Ws.detachEvent("onpropertychange",tr),Qs=Ws=null)}function tr(e){if("value"===e.propertyName&&Ks(Qs)){var t=[];Hs(t,Qs,e,je(e)),Oe($s,t)}}function sr(e,t,s){"focusin"===e?(er(),Qs=s,(Ws=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ks(Qs)}function nr(e,t){if("click"===e)return Ks(t)}function ar(e,t){if("input"===e||"change"===e)return Ks(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var n=s[r];if(!u.call(t,n)||!ir(e[n],t[n]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var s,r=or(e);for(e=0;r;){if(3===r.nodeType){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(r){s=!1}if(!s)break;t=K((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=ur(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&dr(s.ownerDocument.documentElement,s)){if(null!==r&&mr(s))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=s.textContent.length,a=Math.min(r.start,n);r=void 0===r.end?a:Math.min(r.end,n),!e.extend&&a>r&&(n=r,r=a,a=n),n=cr(s,a);var i=cr(s,r);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,pr=null,xr=null,gr=null,yr=!1;function vr(e,t,s){var r=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;yr||null==pr||pr!==K(r)||("selectionStart"in(r=pr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Wr(xr,"onSelect")).length&&(t=new cs("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var jr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Nr={},wr={};function Sr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,s=jr[e];for(t in s)if(s.hasOwnProperty(t)&&t in wr)return Nr[e]=s[t];return e}d&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var kr=Sr("animationend"),Cr=Sr("animationiteration"),Er=Sr("animationstart"),_r=Sr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),o(t,[e])}for(var Tr=0;Tr<Pr.length;Tr++){var Rr=Pr[Tr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(kr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(Er,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Dr(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,r,n,i,l,o,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(a(198));var d=Be;De=!1,Be=null,ze||(ze=!0,Ie=d)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var r=e[s],n=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&n.isPropagationStopped())break e;Dr(n,l,c),a=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==a&&n.isPropagationStopped())break e;Dr(n,l,c),a=o}}}if(ze)throw e=Ie,ze=!1,Ie=null,e}function zr(e,t){var s=t[pn];void 0===s&&(s=t[pn]=new Set);var r=e+"__bubble";s.has(r)||(qr(t,e,2,!1),s.add(r))}function Ir(e,t,s){var r=0;t&&(r|=4),qr(s,e,r,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Mr]){e[Mr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Ir(t,!1,e),Ir(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mr]||(t[Mr]=!0,Ir("selectionchange",!1,t))}}function qr(e,t,s,r){switch(Jt(t)){case 1:var n=Wt;break;case 4:n=Qt;break;default:n=$t}s=n.bind(null,t,s,e),n=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),r?void 0!==n?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):void 0!==n?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Vr(e,t,s,r,n){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===n||8===l.nodeType&&l.parentNode===n)break;if(4===i)for(i=r.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===n||8===o.nodeType&&o.parentNode===n))return;i=i.return}for(;null!==l;){if(null===(i=yn(l)))return;if(5===(o=i.tag)||6===o){r=a=i;continue e}l=l.parentNode}}r=r.return}Oe(function(){var r=a,n=je(s),i=[];e:{var l=Ar.get(e);if(void 0!==l){var o=cs,c=e;switch(e){case"keypress":if(0===ts(s))break e;case"keydown":case"keyup":o=Cs;break;case"focusin":c="focus",o=ps;break;case"focusout":c="blur",o=ps;break;case"beforeblur":case"afterblur":o=ps;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=fs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=_s;break;case kr:case Cr:case Er:o=xs;break;case _r:o=As;break;case"scroll":o=us;break;case"wheel":o=Os;break;case"copy":case"cut":case"paste":o=ys;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Es}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==l?l+"Capture":null:l;d=[];for(var h,f=r;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&(null!=(p=Te(f,m))&&d.push(Hr(f,p,h)))),u)break;f=f.return}0<d.length&&(l=new o(l,c,null,s,n),i.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||s===be||!(c=s.relatedTarget||s.fromElement)||!yn(c)&&!c[fn])&&(o||l)&&(l=n.window===n?n:(l=n.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=r,null!==(c=(c=s.relatedTarget||s.toElement)?yn(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=hs,p="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Es,p="onPointerLeave",m="onPointerEnter",f="pointer"),u=null==o?l:bn(o),h=null==c?l:bn(c),(l=new d(p,f+"leave",o,s,n)).target=u,l.relatedTarget=h,p=null,yn(n)===r&&((d=new d(m,f+"enter",c,s,n)).target=h,d.relatedTarget=u,p=d),u=p,o&&c)e:{for(m=c,f=0,h=d=o;h;h=Qr(h))f++;for(h=0,p=m;p;p=Qr(p))h++;for(;0<f-h;)d=Qr(d),f--;for(;0<h-f;)m=Qr(m),h--;for(;f--;){if(d===m||null!==m&&d===m.alternate)break e;d=Qr(d),m=Qr(m)}d=null}else d=null;null!==o&&$r(i,l,o,d,!1),null!==c&&null!==u&&$r(i,u,c,d,!0)}if("select"===(o=(l=r?bn(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var x=Ys;else if(Vs(l))if(Js)x=ar;else{x=rr;var g=sr}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(x=nr);switch(x&&(x=x(e,r))?Hs(i,x,s,n):(g&&g(e,l,r),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=r?bn(r):window,e){case"focusin":(Vs(g)||"true"===g.contentEditable)&&(pr=g,xr=r,gr=null);break;case"focusout":gr=xr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,vr(i,s,n);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":vr(i,s,n)}var y;if(Rs)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Us?Is(e,s)&&(v="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(v="onCompositionStart");v&&(Ds&&"ko"!==s.locale&&(Us||"onCompositionStart"!==v?"onCompositionEnd"===v&&Us&&(y=es()):(Xt="value"in(Gt=n)?Gt.value:Gt.textContent,Us=!0)),0<(g=Wr(r,v)).length&&(v=new vs(v,e,null,s,n),i.push({event:v,listeners:g}),y?v.data=y:null!==(y=Ms(s))&&(v.data=y))),(y=Ls?function(e,t){switch(e){case"compositionend":return Ms(t);case"keypress":return 32!==t.which?null:(zs=!0,Bs);case"textInput":return(e=t.data)===Bs&&zs?null:e;default:return null}}(e,s):function(e,t){if(Us)return"compositionend"===e||!Rs&&Is(e,t)?(e=es(),Zt=Xt=Gt=null,Us=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ds&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(r=Wr(r,"onBeforeInput")).length&&(n=new vs("onBeforeInput","beforeinput",null,s,n),i.push({event:n,listeners:r}),n.data=y))}Br(i,t)})}function Hr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Wr(e,t){for(var s=t+"Capture",r=[];null!==e;){var n=e,a=n.stateNode;5===n.tag&&null!==a&&(n=a,null!=(a=Te(e,s))&&r.unshift(Hr(e,a,n)),null!=(a=Te(e,t))&&r.push(Hr(e,a,n))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,s,r,n){for(var a=t._reactName,i=[];null!==s&&s!==r;){var l=s,o=l.alternate,c=l.stateNode;if(null!==o&&o===r)break;5===l.tag&&null!==c&&(l=c,n?null!=(o=Te(s,a))&&i.unshift(Hr(s,o,l)):n||null!=(o=Te(s,a))&&i.push(Hr(s,o,l))),s=s.return}0!==i.length&&e.push({event:t,listeners:i})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Gr(e,t,s){if(t=Jr(t),Jr(e)!==t&&s)throw Error(a(425))}function Xr(){}var Zr=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sn="function"===typeof setTimeout?setTimeout:void 0,rn="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,an="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(ln)}:sn;function ln(e){setTimeout(function(){throw e})}function on(e,t){var s=t,r=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&8===n.nodeType)if("/$"===(s=n.data)){if(0===r)return e.removeChild(n),void qt(t);r--}else"$"!==s&&"$?"!==s&&"$!"!==s||r++;s=n}while(s);qt(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),mn="__reactFiber$"+un,hn="__reactProps$"+un,fn="__reactContainer$"+un,pn="__reactEvents$"+un,xn="__reactListeners$"+un,gn="__reactHandles$"+un;function yn(e){var t=e[mn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[fn]||s[mn]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=dn(e);null!==e;){if(s=e[mn])return s;e=dn(e)}return t}s=(e=s).parentNode}return null}function vn(e){return!(e=e[mn]||e[fn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function jn(e){return e[hn]||null}var Nn=[],wn=-1;function Sn(e){return{current:e}}function kn(e){0>wn||(e.current=Nn[wn],Nn[wn]=null,wn--)}function Cn(e,t){wn++,Nn[wn]=e.current,e.current=t}var En={},_n=Sn(En),An=Sn(!1),Pn=En;function On(e,t){var s=e.type.contextTypes;if(!s)return En;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n,a={};for(n in s)a[n]=t[n];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Tn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rn(){kn(An),kn(_n)}function Fn(e,t,s){if(_n.current!==En)throw Error(a(168));Cn(_n,t),Cn(An,s)}function Ln(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return s;for(var n in r=r.getChildContext())if(!(n in t))throw Error(a(108,V(e)||"Unknown",n));return B({},s,r)}function Dn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Pn=_n.current,Cn(_n,e),Cn(An,An.current),!0}function Bn(e,t,s){var r=e.stateNode;if(!r)throw Error(a(169));s?(e=Ln(e,t,Pn),r.__reactInternalMemoizedMergedChildContext=e,kn(An),kn(_n),Cn(_n,e)):kn(An),Cn(An,s)}var zn=null,In=!1,Mn=!1;function Un(e){null===zn?zn=[e]:zn.push(e)}function qn(){if(!Mn&&null!==zn){Mn=!0;var e=0,t=vt;try{var s=zn;for(vt=1;e<s.length;e++){var r=s[e];do{r=r(!0)}while(null!==r)}zn=null,In=!1}catch(n){throw null!==zn&&(zn=zn.slice(e+1)),$e(Ze,qn),n}finally{vt=t,Mn=!1}}return null}var Vn=[],Hn=0,Wn=null,Qn=0,$n=[],Kn=0,Yn=null,Jn=1,Gn="";function Xn(e,t){Vn[Hn++]=Qn,Vn[Hn++]=Wn,Wn=e,Qn=t}function Zn(e,t,s){$n[Kn++]=Jn,$n[Kn++]=Gn,$n[Kn++]=Yn,Yn=e;var r=Jn;e=Gn;var n=32-it(r)-1;r&=~(1<<n),s+=1;var a=32-it(t)+n;if(30<a){var i=n-n%5;a=(r&(1<<i)-1).toString(32),r>>=i,n-=i,Jn=1<<32-it(t)+n|s<<n|r,Gn=a+e}else Jn=1<<a|s<<n|r,Gn=e}function ea(e){null!==e.return&&(Xn(e,1),Zn(e,1,0))}function ta(e){for(;e===Wn;)Wn=Vn[--Hn],Vn[Hn]=null,Qn=Vn[--Hn],Vn[Hn]=null;for(;e===Yn;)Yn=$n[--Kn],$n[Kn]=null,Gn=$n[--Kn],$n[Kn]=null,Jn=$n[--Kn],$n[Kn]=null}var sa=null,ra=null,na=!1,aa=null;function ia(e,t){var s=Oc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function la(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sa=e,ra=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sa=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==Yn?{id:Jn,overflow:Gn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=Oc(18,null,null,0)).stateNode=t,s.return=e,e.child=s,sa=e,ra=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(na){var t=ra;if(t){var s=t;if(!la(e,t)){if(oa(e))throw Error(a(418));t=cn(s.nextSibling);var r=sa;t&&la(e,t)?ia(r,s):(e.flags=-4097&e.flags|2,na=!1,sa=e)}}else{if(oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,na=!1,sa=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sa=e}function ua(e){if(e!==sa)return!1;if(!na)return da(e),na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=ra)){if(oa(e))throw ma(),Error(a(418));for(;t;)ia(e,t),t=cn(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){ra=cn(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}ra=null}}else ra=sa?cn(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=ra;e;)e=cn(e.nextSibling)}function ha(){ra=sa=null,na=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var pa=b.ReactCurrentBatchConfig;function xa(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(a(309));var r=s.stateNode}if(!r)throw Error(a(147,e));var n=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!s._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function va(e){function t(t,s){if(e){var r=t.deletions;null===r?(t.deletions=[s],t.flags|=16):r.push(s)}}function s(s,r){if(!e)return null;for(;null!==r;)t(s,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function i(t,s,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<s?(t.flags|=2,s):r:(t.flags|=2,s):(t.flags|=1048576,s)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,s,r){return null===t||6!==t.tag?((t=Bc(s,e.mode,r)).return=e,t):((t=n(t,s)).return=e,t)}function c(e,t,s,r){var a=s.type;return a===w?u(e,t,s.props.children,r,s.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ya(a)===t.type)?((r=n(t,s.props)).ref=xa(e,t,s),r.return=e,r):((r=Fc(s.type,s.key,s.props,null,e.mode,r)).ref=xa(e,t,s),r.return=e,r)}function d(e,t,s,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=zc(s,e.mode,r)).return=e,t):((t=n(t,s.children||[])).return=e,t)}function u(e,t,s,r,a){return null===t||7!==t.tag?((t=Lc(s,e.mode,r,a)).return=e,t):((t=n(t,s)).return=e,t)}function m(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(s=Fc(t.type,t.key,t.props,null,e.mode,s)).ref=xa(e,null,t),s.return=e,s;case N:return(t=zc(t,e.mode,s)).return=e,t;case T:return m(e,(0,t._init)(t._payload),s)}if(te(t)||L(t))return(t=Lc(t,e.mode,s,null)).return=e,t;ga(e,t)}return null}function h(e,t,s,r){var n=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==n?null:o(e,t,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return s.key===n?c(e,t,s,r):null;case N:return s.key===n?d(e,t,s,r):null;case T:return h(e,t,(n=s._init)(s._payload),r)}if(te(s)||L(s))return null!==n?null:u(e,t,s,r,null);ga(e,s)}return null}function f(e,t,s,r,n){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(s)||null,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?s:r.key)||null,r,n);case N:return d(t,e=e.get(null===r.key?s:r.key)||null,r,n);case T:return f(e,t,s,(0,r._init)(r._payload),n)}if(te(r)||L(r))return u(t,e=e.get(s)||null,r,n,null);ga(t,r)}return null}function p(n,a,l,o){for(var c=null,d=null,u=a,p=a=0,x=null;null!==u&&p<l.length;p++){u.index>p?(x=u,u=null):x=u.sibling;var g=h(n,u,l[p],o);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(n,u),a=i(g,a,p),null===d?c=g:d.sibling=g,d=g,u=x}if(p===l.length)return s(n,u),na&&Xn(n,p),c;if(null===u){for(;p<l.length;p++)null!==(u=m(n,l[p],o))&&(a=i(u,a,p),null===d?c=u:d.sibling=u,d=u);return na&&Xn(n,p),c}for(u=r(n,u);p<l.length;p++)null!==(x=f(u,n,p,l[p],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?p:x.key),a=i(x,a,p),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(n,e)}),na&&Xn(n,p),c}function x(n,l,o,c){var d=L(o);if("function"!==typeof d)throw Error(a(150));if(null==(o=d.call(o)))throw Error(a(151));for(var u=d=null,p=l,x=l=0,g=null,y=o.next();null!==p&&!y.done;x++,y=o.next()){p.index>x?(g=p,p=null):g=p.sibling;var v=h(n,p,y.value,c);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(n,p),l=i(v,l,x),null===u?d=v:u.sibling=v,u=v,p=g}if(y.done)return s(n,p),na&&Xn(n,x),d;if(null===p){for(;!y.done;x++,y=o.next())null!==(y=m(n,y.value,c))&&(l=i(y,l,x),null===u?d=y:u.sibling=y,u=y);return na&&Xn(n,x),d}for(p=r(n,p);!y.done;x++,y=o.next())null!==(y=f(p,n,x,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?x:y.key),l=i(y,l,x),null===u?d=y:u.sibling=y,u=y);return e&&p.forEach(function(e){return t(n,e)}),na&&Xn(n,x),d}return function e(r,a,i,o){if("object"===typeof i&&null!==i&&i.type===w&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===w){if(7===d.tag){s(r,d.sibling),(a=n(d,i.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&ya(c)===d.type){s(r,d.sibling),(a=n(d,i.props)).ref=xa(r,d,i),a.return=r,r=a;break e}s(r,d);break}t(r,d),d=d.sibling}i.type===w?((a=Lc(i.props.children,r.mode,o,i.key)).return=r,r=a):((o=Fc(i.type,i.key,i.props,null,r.mode,o)).ref=xa(r,a,i),o.return=r,r=o)}return l(r);case N:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){s(r,a.sibling),(a=n(a,i.children||[])).return=r,r=a;break e}s(r,a);break}t(r,a),a=a.sibling}(a=zc(i,r.mode,o)).return=r,r=a}return l(r);case T:return e(r,a,(d=i._init)(i._payload),o)}if(te(i))return p(r,a,i,o);if(L(i))return x(r,a,i,o);ga(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(s(r,a.sibling),(a=n(a,i)).return=r,r=a):(s(r,a),(a=Bc(i,r.mode,o)).return=r,r=a),l(r)):s(r,a)}}var ba=va(!0),ja=va(!1),Na=Sn(null),wa=null,Sa=null,ka=null;function Ca(){ka=Sa=wa=null}function Ea(e){var t=Na.current;kn(Na),e._currentValue=t}function _a(e,t,s){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Aa(e,t){wa=e,ka=Sa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yl=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Sa){if(null===wa)throw Error(a(308));Sa=e,wa.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Oa=null;function Ta(e){null===Oa?Oa=[e]:Oa.push(e)}function Ra(e,t,s,r){var n=t.interleaved;return null===n?(s.next=s,Ta(t)):(s.next=n.next,n.next=s),t.interleaved=s,Fa(e,r)}function Fa(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var La=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,s){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_o)){var n=r.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Fa(e,s)}return null===(n=r.interleaved)?(t.next=t,Ta(r)):(t.next=n.next,n.next=t),r.interleaved=t,Fa(e,s)}function Ma(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var r=t.lanes;s|=r&=e.pendingLanes,t.lanes=s,yt(e,s)}}function Ua(e,t){var s=e.updateQueue,r=e.alternate;if(null!==r&&s===(r=r.updateQueue)){var n=null,a=null;if(null!==(s=s.firstBaseUpdate)){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===a?n=a=i:a=a.next=i,s=s.next}while(null!==s);null===a?n=a=t:a=a.next=t}else n=a=t;return s={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function qa(e,t,s,r){var n=e.updateQueue;La=!1;var a=n.firstBaseUpdate,i=n.lastBaseUpdate,l=n.shared.pending;if(null!==l){n.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?a=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==a){var u=n.baseState;for(i=0,d=c=o=null,l=a;;){var m=l.lane,h=l.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,p=l;switch(m=t,h=s,p.tag){case 1:if("function"===typeof(f=p.payload)){u=f.call(h,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=p.payload)?f.call(h,u,m):f)||void 0===m)break e;u=B({},u,m);break e;case 2:La=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(m=n.effects)?n.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,i|=m;if(null===(l=l.next)){if(null===(l=n.shared.pending))break;l=(m=l).next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}if(null===d&&(o=u),n.baseState=o,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===a&&(n.shared.lanes=0);Do|=i,e.lanes=i,e.memoizedState=u}}function Va(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(null!==n){if(r.callback=null,r=s,"function"!==typeof n)throw Error(a(191,n));n.call(r)}}}var Ha={},Wa=Sn(Ha),Qa=Sn(Ha),$a=Sn(Ha);function Ka(e){if(e===Ha)throw Error(a(174));return e}function Ya(e,t){switch(Cn($a,t),Cn(Qa,e),Cn(Wa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}kn(Wa),Cn(Wa,t)}function Ja(){kn(Wa),kn(Qa),kn($a)}function Ga(e){Ka($a.current);var t=Ka(Wa.current),s=oe(t,e.type);t!==s&&(Cn(Qa,e),Cn(Wa,s))}function Xa(e){Qa.current===e&&(kn(Wa),kn(Qa))}var Za=Sn(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function si(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=b.ReactCurrentDispatcher,ni=b.ReactCurrentBatchConfig,ai=0,ii=null,li=null,oi=null,ci=!1,di=!1,ui=0,mi=0;function hi(){throw Error(a(321))}function fi(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ir(e[s],t[s]))return!1;return!0}function pi(e,t,s,r,n,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Zi,e=s(r,n),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(a(301));i+=1,oi=li=null,t.updateQueue=null,ri.current=el,e=s(r,n)}while(di)}if(ri.current=Gi,t=null!==li&&null!==li.next,ai=0,oi=li=ii=null,ci=!1,t)throw Error(a(300));return e}function xi(){var e=0!==ui;return ui=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function yi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(a(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function vi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=yi(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var r=li,n=r.baseQueue,i=s.pending;if(null!==i){if(null!==n){var l=n.next;n.next=i.next,i.next=l}r.baseQueue=n=i,s.pending=null}if(null!==n){i=n.next,r=r.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,l=r):c=c.next=m,ii.lanes|=u,Do|=u}d=d.next}while(null!==d&&d!==i);null===c?l=r:c.next=o,ir(r,t.memoizedState)||(yl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,s.lastRenderedState=r}if(null!==(e=s.interleaved)){n=e;do{i=n.lane,ii.lanes|=i,Do|=i,n=n.next}while(n!==e)}else null===n&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ji(e){var t=yi(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var r=s.dispatch,n=s.pending,i=t.memoizedState;if(null!==n){s.pending=null;var l=n=n.next;do{i=e(i,l.action),l=l.next}while(l!==n);ir(i,t.memoizedState)||(yl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),s.lastRenderedState=i}return[i,r]}function Ni(){}function wi(e,t){var s=ii,r=yi(),n=t(),i=!ir(r.memoizedState,n);if(i&&(r.memoizedState=n,yl=!0),r=r.queue,Li(Ci.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(s.flags|=2048,Pi(9,ki.bind(null,s,r,n,t),void 0,null),null===Ao)throw Error(a(349));0!==(30&ai)||Si(s,t,n)}return n}function Si(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function ki(e,t,s,r){t.value=s,t.getSnapshot=r,Ei(t)&&_i(e)}function Ci(e,t,s){return s(function(){Ei(t)&&_i(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ir(e,s)}catch(r){return!0}}function _i(e){var t=Fa(e,1);null!==t&&sc(t,e,1,-1)}function Ai(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=$i.bind(null,ii,e),[t.memoizedState,e]}function Pi(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e),e}function Oi(){return yi().memoizedState}function Ti(e,t,s,r){var n=gi();ii.flags|=e,n.memoizedState=Pi(1|t,s,void 0,void 0===r?null:r)}function Ri(e,t,s,r){var n=yi();r=void 0===r?null:r;var a=void 0;if(null!==li){var i=li.memoizedState;if(a=i.destroy,null!==r&&fi(r,i.deps))return void(n.memoizedState=Pi(t,s,a,r))}ii.flags|=e,n.memoizedState=Pi(1|t,s,a,r)}function Fi(e,t){return Ti(8390656,8,e,t)}function Li(e,t){return Ri(2048,8,e,t)}function Di(e,t){return Ri(4,2,e,t)}function Bi(e,t){return Ri(4,4,e,t)}function zi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ii(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ri(4,4,zi.bind(null,t,e),s)}function Mi(){}function Ui(e,t){var s=yi();t=void 0===t?null:t;var r=s.memoizedState;return null!==r&&null!==t&&fi(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function qi(e,t){var s=yi();t=void 0===t?null:t;var r=s.memoizedState;return null!==r&&null!==t&&fi(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Vi(e,t,s){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,yl=!0),e.memoizedState=s):(ir(s,t)||(s=pt(),ii.lanes|=s,Do|=s,e.baseState=!0),t)}function Hi(e,t){var s=vt;vt=0!==s&&4>s?s:4,e(!0);var r=ni.transition;ni.transition={};try{e(!1),t()}finally{vt=s,ni.transition=r}}function Wi(){return yi().memoizedState}function Qi(e,t,s){var r=tc(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Ki(e))Yi(t,s);else if(null!==(s=Ra(e,t,s,r))){sc(s,e,r,ec()),Ji(s,t,r)}}function $i(e,t,s){var r=tc(e),n={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Yi(t,n);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,s);if(n.hasEagerState=!0,n.eagerState=l,ir(l,i)){var o=t.interleaved;return null===o?(n.next=n,Ta(t)):(n.next=o.next,o.next=n),void(t.interleaved=n)}}catch(c){}null!==(s=Ra(e,t,n,r))&&(sc(s,e,r,n=ec()),Ji(s,t,r))}}function Ki(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Yi(e,t){di=ci=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Ji(e,t,s){if(0!==(4194240&s)){var r=t.lanes;s|=r&=e.pendingLanes,t.lanes=s,yt(e,s)}}var Gi={readContext:Pa,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Xi={readContext:Pa,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Fi,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ti(4194308,4,zi.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var s=gi();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=gi();return t=void 0!==s?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Ai,useDebugValue:Mi,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Ai(!1),t=e[0];return e=Hi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=ii,n=gi();if(na){if(void 0===s)throw Error(a(407));s=s()}else{if(s=t(),null===Ao)throw Error(a(349));0!==(30&ai)||Si(r,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,Fi(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Pi(9,ki.bind(null,r,i,s,t),void 0,null),s},useId:function(){var e=gi(),t=Ao.identifierPrefix;if(na){var s=Gn;t=":"+t+"R"+(s=(Jn&~(1<<32-it(Jn)-1)).toString(32)+s),0<(s=ui++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Pa,useCallback:Ui,useContext:Pa,useEffect:Li,useImperativeHandle:Ii,useInsertionEffect:Di,useLayoutEffect:Bi,useMemo:qi,useReducer:bi,useRef:Oi,useState:function(){return bi(vi)},useDebugValue:Mi,useDeferredValue:function(e){return Vi(yi(),li.memoizedState,e)},useTransition:function(){return[bi(vi)[0],yi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:wi,useId:Wi,unstable_isNewReconciler:!1},el={readContext:Pa,useCallback:Ui,useContext:Pa,useEffect:Li,useImperativeHandle:Ii,useInsertionEffect:Di,useLayoutEffect:Bi,useMemo:qi,useReducer:ji,useRef:Oi,useState:function(){return ji(vi)},useDebugValue:Mi,useDeferredValue:function(e){var t=yi();return null===li?t.memoizedState=e:Vi(t,li.memoizedState,e)},useTransition:function(){return[ji(vi)[0],yi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:wi,useId:Wi,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var s in t=B({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function sl(e,t,s,r){s=null===(s=s(r,t=e.memoizedState))||void 0===s?t:B({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var rl={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=ec(),n=tc(e),a=za(r,n);a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=Ia(e,a,n))&&(sc(t,e,n,r),Ma(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=ec(),n=tc(e),a=za(r,n);a.tag=1,a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=Ia(e,a,n))&&(sc(t,e,n,r),Ma(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ec(),r=tc(e),n=za(s,r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Ia(e,n,r))&&(sc(t,e,r,s),Ma(t,e,r))}};function nl(e,t,s,r,n,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(s,r)||!lr(n,a))}function al(e,t,s){var r=!1,n=En,a=t.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(n=Tn(t)?Pn:_n.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?On(e,n):En),t=new t(s,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function il(e,t,s,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function ll(e,t,s,r){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?n.context=Pa(a):(a=Tn(t)?Pn:_n.current,n.context=On(e,a)),n.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sl(e,t,a,s),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&rl.enqueueReplaceState(n,n.state,null),qa(e,s,n,r),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var s="",r=t;do{s+=U(r),r=r.return}while(r);var n=s}catch(a){n="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:n,digest:null}}function cl(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var ul="function"===typeof WeakMap?WeakMap:Map;function ml(e,t,s){(s=za(-1,s)).tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Ho||(Ho=!0,Wo=r),dl(0,t)},s}function hl(e,t,s){(s=za(-1,s)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var n=t.value;s.payload=function(){return r(n)},s.callback=function(){dl(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(s.callback=function(){dl(0,t),"function"!==typeof r&&(null===Qo?Qo=new Set([this]):Qo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function fl(e,t,s){var r=e.pingCache;if(null===r){r=e.pingCache=new ul;var n=new Set;r.set(t,n)}else void 0===(n=r.get(t))&&(n=new Set,r.set(t,n));n.has(s)||(n.add(s),e=kc.bind(null,e,t,s),t.then(e,e))}function pl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xl(e,t,s,r,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=za(-1,1)).tag=2,Ia(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var gl=b.ReactCurrentOwner,yl=!1;function vl(e,t,s,r){t.child=null===e?ja(t,null,s,r):ba(t,e.child,s,r)}function bl(e,t,s,r,n){s=s.render;var a=t.ref;return Aa(t,n),r=pi(e,t,s,r,a,n),s=xi(),null===e||yl?(na&&s&&ea(t),t.flags|=1,vl(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Vl(e,t,n))}function jl(e,t,s,r,n){if(null===e){var a=s.type;return"function"!==typeof a||Tc(a)||void 0!==a.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Fc(s.type,null,r,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Nl(e,t,a,r,n))}if(a=e.child,0===(e.lanes&n)){var i=a.memoizedProps;if((s=null!==(s=s.compare)?s:lr)(i,r)&&e.ref===t.ref)return Vl(e,t,n)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Nl(e,t,s,r,n){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(yl=!1,t.pendingProps=r=a,0===(e.lanes&n))return t.lanes=e.lanes,Vl(e,t,n);0!==(131072&e.flags)&&(yl=!0)}}return kl(e,t,s,r,n)}function wl(e,t,s){var r=t.pendingProps,n=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Ro,To),To|=s;else{if(0===(1073741824&s))return e=null!==a?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cn(Ro,To),To|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:s,Cn(Ro,To),To|=r}else null!==a?(r=a.baseLanes|s,t.memoizedState=null):r=s,Cn(Ro,To),To|=r;return vl(e,t,n,s),t.child}function Sl(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function kl(e,t,s,r,n){var a=Tn(s)?Pn:_n.current;return a=On(t,a),Aa(t,n),s=pi(e,t,s,r,a,n),r=xi(),null===e||yl?(na&&r&&ea(t),t.flags|=1,vl(e,t,s,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Vl(e,t,n))}function Cl(e,t,s,r,n){if(Tn(s)){var a=!0;Dn(t)}else a=!1;if(Aa(t,n),null===t.stateNode)ql(e,t),al(t,s,r),ll(t,s,r,n),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=s.contextType;"object"===typeof c&&null!==c?c=Pa(c):c=On(t,c=Tn(s)?Pn:_n.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==r||o!==c)&&il(t,i,r,c),La=!1;var m=t.memoizedState;i.state=m,qa(t,r,i,n),o=t.memoizedState,l!==r||m!==o||An.current||La?("function"===typeof d&&(sl(t,s,d,r),o=t.memoizedState),(l=La||nl(t,s,l,r,m,o,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),i.props=r,i.state=o,i.context=c,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ba(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(o=s.contextType)&&null!==o?o=Pa(o):o=On(t,o=Tn(s)?Pn:_n.current);var h=s.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||m!==o)&&il(t,i,r,o),La=!1,m=t.memoizedState,i.state=m,qa(t,r,i,n);var f=t.memoizedState;l!==u||m!==f||An.current||La?("function"===typeof h&&(sl(t,s,h,r),f=t.memoizedState),(c=La||nl(t,s,c,r,m,f,o)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=o,r=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return El(e,t,s,r,a,n)}function El(e,t,s,r,n,a){Sl(e,t);var i=0!==(128&t.flags);if(!r&&!i)return n&&Bn(t,s,!1),Vl(e,t,a);r=t.stateNode,gl.current=t;var l=i&&"function"!==typeof s.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,l,a)):vl(e,t,l,a),t.memoizedState=r.state,n&&Bn(t,s,!0),t.child}function _l(e){var t=e.stateNode;t.pendingContext?Fn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fn(0,t.context,!1),Ya(e,t.containerInfo)}function Al(e,t,s,r,n){return ha(),fa(n),t.flags|=256,vl(e,t,s,r),t.child}var Pl,Ol,Tl,Rl,Fl={dehydrated:null,treeContext:null,retryLane:0};function Ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dl(e,t,s){var r,n=t.pendingProps,i=Za.current,l=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cn(Za,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&n)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Dc(o,n,0,null),e=Lc(e,n,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ll(s),t.memoizedState=Fl,e):Bl(t,o));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,s,r,n,i,l){if(s)return 256&t.flags?(t.flags&=-257,zl(e,t,l,r=cl(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,n=t.mode,r=Dc({mode:"visible",children:r.children},n,0,null),(i=Lc(i,n,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ba(t,e.child,null,l),t.child.memoizedState=Ll(l),t.memoizedState=Fl,i);if(0===(1&t.mode))return zl(e,t,l,null);if("$!"===n.data){if(r=n.nextSibling&&n.nextSibling.dataset)var o=r.dgst;return r=o,zl(e,t,l,r=cl(i=Error(a(419)),r,void 0))}if(o=0!==(l&e.childLanes),yl||o){if(null!==(r=Ao)){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(r.suspendedLanes|l))?0:n)&&n!==i.retryLane&&(i.retryLane=n,Fa(e,n),sc(r,e,n,-1))}return pc(),zl(e,t,l,r=cl(Error(a(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,ra=cn(n.nextSibling),sa=t,na=!0,aa=null,null!==e&&($n[Kn++]=Jn,$n[Kn++]=Gn,$n[Kn++]=Yn,Jn=e.id,Gn=e.overflow,Yn=t),t=Bl(t,r.children),t.flags|=4096,t)}(e,t,o,n,r,i,s);if(l){l=n.fallback,o=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&o)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Rc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?l=Rc(r,l):(l=Lc(l,o,s,null)).flags|=2,l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=null===(o=e.child.memoizedState)?Ll(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~s,t.memoizedState=Fl,n}return e=(l=e.child).sibling,n=Rc(l,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=s),n.return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Bl(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zl(e,t,s,r){return null!==r&&fa(r),ba(t,e.child,null,s),(e=Bl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Il(e,t,s){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,s)}function Ml(e,t,s,r,n){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=n)}function Ul(e,t,s){var r=t.pendingProps,n=r.revealOrder,a=r.tail;if(vl(e,t,r.children,s),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Il(e,s,t);else if(19===e.tag)Il(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cn(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;null!==s;)null!==(e=s.alternate)&&null===ei(e)&&(n=s),s=s.sibling;null===(s=n)?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),Ml(t,!1,n,s,a);break;case"backwards":for(s=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ei(e)){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Ml(t,!0,s,null,a);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vl(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Do|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(s=Rc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Rc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Hl(e,t){if(!na)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;null!==s;)null!==s.alternate&&(r=s),s=s.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wl(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,r=0;if(t)for(var n=e.child;null!==n;)s|=n.lanes|n.childLanes,r|=14680064&n.subtreeFlags,r|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Ql(e,t,s){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wl(t),null;case 1:case 17:return Tn(t.type)&&Rn(),Wl(t),null;case 3:return r=t.stateNode,Ja(),kn(An),kn(_n),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),Ol(e,t),Wl(t),null;case 5:Xa(t);var n=Ka($a.current);if(s=t.type,null!==e&&null!=t.stateNode)Tl(e,t,s,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wl(t),null}if(e=Ka(Wa.current),ua(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[mn]=t,r[hn]=i,e=0!==(1&t.mode),s){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(n=0;n<Fr.length;n++)zr(Fr[n],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":J(r,i),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zr("invalid",r);break;case"textarea":ne(r,i),zr("invalid",r)}for(var o in ye(s,i),n=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Gr(r.textContent,c,e),n=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Gr(r.textContent,c,e),n=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&zr("scroll",r)}switch(s){case"input":Q(r),Z(r,i,!0);break;case"textarea":Q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Xr)}r=n,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),"select"===s&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[mn]=t,e[hn]=r,Pl(e,t,!1,!1),t.stateNode=e;e:{switch(o=ve(s,r),s){case"dialog":zr("cancel",e),zr("close",e),n=r;break;case"iframe":case"object":case"embed":zr("load",e),n=r;break;case"video":case"audio":for(n=0;n<Fr.length;n++)zr(Fr[n],e);n=r;break;case"source":zr("error",e),n=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),n=r;break;case"details":zr("toggle",e),n=r;break;case"input":J(e,r),n=Y(e,r),zr("invalid",e);break;case"option":default:n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=B({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ne(e,r),n=re(e,r),zr("invalid",e)}for(i in ye(s,n),c=n)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==s||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&zr("scroll",e):null!=d&&v(e,i,d,o))}switch(s){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?se(e,!!r.multiple,i,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Xr)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wl(t),null;case 6:if(e&&null!=t.stateNode)Rl(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(s=Ka($a.current),Ka(Wa.current),ua(t)){if(r=t.stateNode,s=t.memoizedProps,r[mn]=t,(i=r.nodeValue!==s)&&null!==(e=sa))switch(e.tag){case 3:Gr(r.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Gr(r.nodeValue,s,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===s.nodeType?s:s.ownerDocument).createTextNode(r))[mn]=t,t.stateNode=r}return Wl(t),null;case 13:if(kn(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(na&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ma(),ha(),t.flags|=98560,i=!1;else if(i=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[mn]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wl(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Fo&&(Fo=3):pc())),null!==t.updateQueue&&(t.flags|=4),Wl(t),null);case 4:return Ja(),Ol(e,t),null===e&&Ur(t.stateNode.containerInfo),Wl(t),null;case 10:return Ea(t.type._context),Wl(t),null;case 19:if(kn(Za),null===(i=t.memoizedState))return Wl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Hl(i,!1);else{if(0!==Fo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,Hl(i,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;null!==s;)e=r,(i=s).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Cn(Za,1&Za.current|2),t.child}e=e.sibling}null!==i.tail&&Ge()>qo&&(t.flags|=128,r=!0,Hl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(o))){if(t.flags|=128,r=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),Hl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!na)return Wl(t),null}else 2*Ge()-i.renderingStartTime>qo&&1073741824!==s&&(t.flags|=128,r=!0,Hl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(s=i.last)?s.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,s=Za.current,Cn(Za,r?1&s|2:1&s),t):(Wl(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&To)&&(Wl(t),6&t.subtreeFlags&&(t.flags|=8192)):Wl(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $l(e,t){switch(ta(t),t.tag){case 1:return Tn(t.type)&&Rn(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),kn(An),kn(_n),si(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(kn(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return kn(Za),null;case 4:return Ja(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Pl=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ol=function(){},Tl=function(e,t,s,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,Ka(Wa.current);var a,i=null;switch(s){case"input":n=Y(e,n),r=Y(e,r),i=[];break;case"select":n=B({},n,{value:void 0}),r=B({},r,{value:void 0}),i=[];break;case"textarea":n=re(e,n),r=re(e,r),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(d in ye(s,r),s=null,n)if(!r.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var o=n[d];for(a in o)o.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=n?n[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(i||(i=[]),i.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zr("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Rl=function(e,t,s,r){s!==r&&(t.flags|=4)};var Kl=!1,Yl=!1,Jl="function"===typeof WeakSet?WeakSet:Set,Gl=null;function Xl(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(r){Sc(e,t,r)}else s.current=null}function Zl(e,t,s){try{s()}catch(r){Sc(e,t,r)}}var eo=!1;function to(e,t,s){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,void 0!==a&&Zl(t,s,a)}n=n.next}while(n!==r)}}function so(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function ro(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function no(e){var t=e.alternate;null!==t&&(e.alternate=null,no(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mn],delete t[hn],delete t[pn],delete t[xn],delete t[gn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ao(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ao(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,s){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(lo(e,t,s),e=e.sibling;null!==e;)lo(e,t,s),e=e.sibling}function oo(e,t,s){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,s),e=e.sibling;null!==e;)oo(e,t,s),e=e.sibling}var co=null,uo=!1;function mo(e,t,s){for(s=s.child;null!==s;)ho(e,t,s),s=s.sibling}function ho(e,t,s){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(nt,s)}catch(l){}switch(s.tag){case 5:Yl||Xl(s,t);case 6:var r=co,n=uo;co=null,mo(e,t,s),uo=n,null!==(co=r)&&(uo?(e=co,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):co.removeChild(s.stateNode));break;case 18:null!==co&&(uo?(e=co,s=s.stateNode,8===e.nodeType?on(e.parentNode,s):1===e.nodeType&&on(e,s),qt(e)):on(co,s.stateNode));break;case 4:r=co,n=uo,co=s.stateNode.containerInfo,uo=!0,mo(e,t,s),co=r,uo=n;break;case 0:case 11:case 14:case 15:if(!Yl&&(null!==(r=s.updateQueue)&&null!==(r=r.lastEffect))){n=r=r.next;do{var a=n,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&Zl(s,t,i),n=n.next}while(n!==r)}mo(e,t,s);break;case 1:if(!Yl&&(Xl(s,t),"function"===typeof(r=s.stateNode).componentWillUnmount))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){Sc(s,t,l)}mo(e,t,s);break;case 21:mo(e,t,s);break;case 22:1&s.mode?(Yl=(r=Yl)||null!==s.memoizedState,mo(e,t,s),Yl=r):mo(e,t,s);break;default:mo(e,t,s)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new Jl),t.forEach(function(t){var r=_c.bind(null,e,t);s.has(t)||(s.add(t),t.then(r,r))})}}function po(e,t){var s=t.deletions;if(null!==s)for(var r=0;r<s.length;r++){var n=s[r];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(a(160));ho(i,l,n),co=null,uo=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){Sc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),go(e),4&r){try{to(3,e,e.return),so(3,e)}catch(x){Sc(e,e.return,x)}try{to(5,e,e.return)}catch(x){Sc(e,e.return,x)}}break;case 1:po(t,e),go(e),512&r&&null!==s&&Xl(s,s.return);break;case 5:if(po(t,e),go(e),512&r&&null!==s&&Xl(s,s.return),32&e.flags){var n=e.stateNode;try{me(n,"")}catch(x){Sc(e,e.return,x)}}if(4&r&&null!=(n=e.stateNode)){var i=e.memoizedProps,l=null!==s?s.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&G(n,i),ve(o,l);var d=ve(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];"style"===u?xe(n,m):"dangerouslySetInnerHTML"===u?ue(n,m):"children"===u?me(n,m):v(n,u,m,d)}switch(o){case"input":X(n,i);break;case"textarea":ae(n,i);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?se(n,!!i.multiple,f,!1):h!==!!i.multiple&&(null!=i.defaultValue?se(n,!!i.multiple,i.defaultValue,!0):se(n,!!i.multiple,i.multiple?[]:"",!1))}n[hn]=i}catch(x){Sc(e,e.return,x)}}break;case 6:if(po(t,e),go(e),4&r){if(null===e.stateNode)throw Error(a(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(x){Sc(e,e.return,x)}}break;case 3:if(po(t,e),go(e),4&r&&null!==s&&s.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(x){Sc(e,e.return,x)}break;case 4:default:po(t,e),go(e);break;case 13:po(t,e),go(e),8192&(n=e.child).flags&&(i=null!==n.memoizedState,n.stateNode.isHidden=i,!i||null!==n.alternate&&null!==n.alternate.memoizedState||(Uo=Ge())),4&r&&fo(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(Yl=(d=Yl)||u,po(t,e),Yl=d):po(t,e),go(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Gl=e,u=e.child;null!==u;){for(m=Gl=u;null!==Gl;){switch(f=(h=Gl).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Xl(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){r=h,s=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){Sc(r,s,x)}}break;case 5:Xl(h,h.return);break;case 22:if(null!==h.memoizedState){jo(m);continue}}null!==f?(f.return=h,Gl=f):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{n=m.stateNode,d?"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=m.stateNode,l=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",l))}catch(x){Sc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){Sc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:po(t,e),go(e),4&r&&fo(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(ao(s)){var r=s;break e}s=s.return}throw Error(a(160))}switch(r.tag){case 5:var n=r.stateNode;32&r.flags&&(me(n,""),r.flags&=-33),oo(e,io(e),n);break;case 3:case 4:var i=r.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(a(161))}}catch(l){Sc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,s){Gl=e,vo(e,t,s)}function vo(e,t,s){for(var r=0!==(1&e.mode);null!==Gl;){var n=Gl,a=n.child;if(22===n.tag&&r){var i=null!==n.memoizedState||Kl;if(!i){var l=n.alternate,o=null!==l&&null!==l.memoizedState||Yl;l=Kl;var c=Yl;if(Kl=i,(Yl=o)&&!c)for(Gl=n;null!==Gl;)o=(i=Gl).child,22===i.tag&&null!==i.memoizedState?No(n):null!==o?(o.return=i,Gl=o):No(n);for(;null!==a;)Gl=a,vo(a,t,s),a=a.sibling;Gl=n,Kl=l,Yl=c}bo(e)}else 0!==(8772&n.subtreeFlags)&&null!==a?(a.return=n,Gl=a):bo(e)}}function bo(e){for(;null!==Gl;){var t=Gl;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yl||so(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yl)if(null===s)r.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:tl(t.type,s.memoizedProps);r.componentDidUpdate(n,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Va(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Va(t,l,s)}break;case 5:var o=t.stateNode;if(null===s&&4&t.flags){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&qt(m)}}}break;default:throw Error(a(163))}Yl||512&t.flags&&ro(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Gl=null;break}if(null!==(s=t.sibling)){s.return=t.return,Gl=s;break}Gl=t.return}}function jo(e){for(;null!==Gl;){var t=Gl;if(t===e){Gl=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Gl=s;break}Gl=t.return}}function No(e){for(;null!==Gl;){var t=Gl;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{so(4,t)}catch(o){Sc(t,s,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var n=t.return;try{r.componentDidMount()}catch(o){Sc(t,n,o)}}var a=t.return;try{ro(t)}catch(o){Sc(t,a,o)}break;case 5:var i=t.return;try{ro(t)}catch(o){Sc(t,i,o)}}}catch(o){Sc(t,t.return,o)}if(t===e){Gl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Gl=l;break}Gl=t.return}}var wo,So=Math.ceil,ko=b.ReactCurrentDispatcher,Co=b.ReactCurrentOwner,Eo=b.ReactCurrentBatchConfig,_o=0,Ao=null,Po=null,Oo=0,To=0,Ro=Sn(0),Fo=0,Lo=null,Do=0,Bo=0,zo=0,Io=null,Mo=null,Uo=0,qo=1/0,Vo=null,Ho=!1,Wo=null,Qo=null,$o=!1,Ko=null,Yo=0,Jo=0,Go=null,Xo=-1,Zo=0;function ec(){return 0!==(6&_o)?Ge():-1!==Xo?Xo:Xo=Ge()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_o)&&0!==Oo?Oo&-Oo:null!==pa.transition?(0===Zo&&(Zo=pt()),Zo):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function sc(e,t,s,r){if(50<Jo)throw Jo=0,Go=null,Error(a(185));gt(e,s,r),0!==(2&_o)&&e===Ao||(e===Ao&&(0===(2&_o)&&(Bo|=s),4===Fo&&lc(e,Oo)),rc(e,r),1===s&&0===_o&&0===(1&t.mode)&&(qo=Ge()+500,In&&qn()))}function rc(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),l=1<<i,o=n[i];-1===o?0!==(l&s)&&0===(l&r)||(n[i]=ht(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=mt(e,e===Ao?Oo:0);if(0===r)null!==s&&Ke(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=s&&Ke(s),1===t)0===e.tag?function(e){In=!0,Un(e)}(oc.bind(null,e)):Un(oc.bind(null,e)),an(function(){0===(6&_o)&&qn()}),s=null;else{switch(bt(r)){case 1:s=Ze;break;case 4:s=et;break;case 16:default:s=tt;break;case 536870912:s=rt}s=Ac(s,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function nc(e,t){if(Xo=-1,Zo=0,0!==(6&_o))throw Error(a(327));var s=e.callbackNode;if(Nc()&&e.callbackNode!==s)return null;var r=mt(e,e===Ao?Oo:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var n=_o;_o|=2;var i=fc();for(Ao===e&&Oo===t||(Vo=null,qo=Ge()+500,mc(e,t));;)try{yc();break}catch(o){hc(e,o)}Ca(),ko.current=i,_o=n,null!==Po?t=0:(Ao=null,Oo=0,t=Fo)}if(0!==t){if(2===t&&(0!==(n=ft(e))&&(r=n,t=ac(e,n))),1===t)throw s=Lo,mc(e,0),lc(e,r),rc(e,Ge()),s;if(6===t)lc(e,r);else{if(n=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var r=0;r<s.length;r++){var n=s[r],a=n.getSnapshot;n=n.value;try{if(!ir(a(),n))return!1}catch(l){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=xc(e,r))&&(0!==(i=ft(e))&&(r=i,t=ac(e,i))),1===t))throw s=Lo,mc(e,0),lc(e,r),rc(e,Ge()),s;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,Mo,Vo);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Uo+500-Ge())){if(0!==mt(e,0))break;if(((n=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=sn(jc.bind(null,e,Mo,Vo),t);break}jc(e,Mo,Vo);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,n=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>n&&(n=l),r&=~i}if(r=n,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*So(r/1960))-r)){e.timeoutHandle=sn(jc.bind(null,e,Mo,Vo),r);break}jc(e,Mo,Vo);break;default:throw Error(a(329))}}}return rc(e,Ge()),e.callbackNode===s?nc.bind(null,e):null}function ac(e,t){var s=Io;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Mo,Mo=s,null!==t&&ic(t)),e}function ic(e){null===Mo?Mo=e:Mo.push.apply(Mo,e)}function lc(e,t){for(t&=~zo,t&=~Bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-it(t),r=1<<s;e[s]=-1,t&=~r}}function oc(e){if(0!==(6&_o))throw Error(a(327));Nc();var t=mt(e,0);if(0===(1&t))return rc(e,Ge()),null;var s=xc(e,t);if(0!==e.tag&&2===s){var r=ft(e);0!==r&&(t=r,s=ac(e,r))}if(1===s)throw s=Lo,mc(e,0),lc(e,t),rc(e,Ge()),s;if(6===s)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Mo,Vo),rc(e,Ge()),null}function cc(e,t){var s=_o;_o|=1;try{return e(t)}finally{0===(_o=s)&&(qo=Ge()+500,In&&qn())}}function dc(e){null!==Ko&&0===Ko.tag&&0===(6&_o)&&Nc();var t=_o;_o|=1;var s=Eo.transition,r=vt;try{if(Eo.transition=null,vt=1,e)return e()}finally{vt=r,Eo.transition=s,0===(6&(_o=t))&&qn()}}function uc(){To=Ro.current,kn(Ro)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,rn(s)),null!==Po)for(s=Po.return;null!==s;){var r=s;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Rn();break;case 3:Ja(),kn(An),kn(_n),si();break;case 5:Xa(r);break;case 4:Ja();break;case 13:case 19:kn(Za);break;case 10:Ea(r.type._context);break;case 22:case 23:uc()}s=s.return}if(Ao=e,Po=e=Rc(e.current,null),Oo=To=t,Fo=0,Lo=null,zo=Bo=Do=0,Mo=Io=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(r=(s=Oa[t]).interleaved)){s.interleaved=null;var n=r.next,a=s.pending;if(null!==a){var i=a.next;a.next=n,r.next=i}s.pending=r}Oa=null}return e}function hc(e,t){for(;;){var s=Po;try{if(Ca(),ri.current=Gi,ci){for(var r=ii.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}ci=!1}if(ai=0,oi=li=ii=null,di=!1,ui=0,Co.current=null,null===s||null===s.return){Fo=1,Lo=t,Po=null;break}e:{var i=e,l=s.return,o=s,c=t;if(t=Oo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=pl(l);if(null!==f){f.flags&=-257,xl(f,l,o,0,t),1&f.mode&&fl(i,d,t),c=d;var p=(t=f).updateQueue;if(null===p){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}if(0===(1&t)){fl(i,d,t),pc();break e}c=Error(a(426))}else if(na&&1&o.mode){var g=pl(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),xl(g,l,o,0,t),fa(ol(c,o));break e}}i=c=ol(c,o),4!==Fo&&(Fo=2),null===Io?Io=[i]:Io.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,ml(0,c,t));break e;case 1:o=c;var y=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Qo||!Qo.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,hl(i,o,t));break e}}i=i.return}while(null!==i)}bc(s)}catch(b){t=b,Po===s&&null!==s&&(Po=s=s.return);continue}break}}function fc(){var e=ko.current;return ko.current=Gi,null===e?Gi:e}function pc(){0!==Fo&&3!==Fo&&2!==Fo||(Fo=4),null===Ao||0===(268435455&Do)&&0===(268435455&Bo)||lc(Ao,Oo)}function xc(e,t){var s=_o;_o|=2;var r=fc();for(Ao===e&&Oo===t||(Vo=null,mc(e,t));;)try{gc();break}catch(n){hc(e,n)}if(Ca(),_o=s,ko.current=r,null!==Po)throw Error(a(261));return Ao=null,Oo=0,Fo}function gc(){for(;null!==Po;)vc(Po)}function yc(){for(;null!==Po&&!Ye();)vc(Po)}function vc(e){var t=wo(e.alternate,e,To);e.memoizedProps=e.pendingProps,null===t?bc(e):Po=t,Co.current=null}function bc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=Ql(s,t,To)))return void(Po=s)}else{if(null!==(s=$l(s,t)))return s.flags&=32767,void(Po=s);if(null===e)return Fo=6,void(Po=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Po=t);Po=t=e}while(null!==t);0===Fo&&(Fo=5)}function jc(e,t,s){var r=vt,n=Eo.transition;try{Eo.transition=null,vt=1,function(e,t,s,r){do{Nc()}while(null!==Ko);if(0!==(6&_o))throw Error(a(327));s=e.finishedWork;var n=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-it(s),a=1<<n;t[n]=0,r[n]=-1,e[n]=-1,s&=~a}}(e,i),e===Ao&&(Po=Ao=null,Oo=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||$o||($o=!0,Ac(tt,function(){return Nc(),null})),i=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||i){i=Eo.transition,Eo.transition=null;var l=vt;vt=1;var o=_o;_o|=4,Co.current=null,function(e,t){if(Zr=Ht,mr(e=ur())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(r&&0!==r.rangeCount){s=r.anchorNode;var n=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch(j){s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==s||0!==n&&3!==m.nodeType||(o=l+n),m!==i||0!==r&&3!==m.nodeType||(c=l+r),3===m.nodeType&&(l+=m.nodeValue.length),null!==(f=m.firstChild);)h=m,m=f;for(;;){if(m===e)break t;if(h===s&&++d===n&&(o=l),h===i&&++u===r&&(c=l),null!==(f=m.nextSibling))break;h=(m=h).parentNode}m=f}s=-1===o||-1===c?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(en={focusedElem:e,selectionRange:s},Ht=!1,Gl=t;null!==Gl;)if(e=(t=Gl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Gl=e;else for(;null!==Gl;){t=Gl;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var x=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:tl(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(j){Sc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Gl=e;break}Gl=t.return}p=eo,eo=!1}(e,s),xo(s,e),hr(en),Ht=!!Zr,en=Zr=null,e.current=s,yo(s,e,n),Je(),_o=o,vt=l,Eo.transition=i}else e.current=s;if($o&&($o=!1,Ko=e,Yo=n),i=e.pendingLanes,0===i&&(Qo=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),rc(e,Ge()),null!==t)for(r=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],r(n.value,{componentStack:n.stack,digest:n.digest});if(Ho)throw Ho=!1,e=Wo,Wo=null,e;0!==(1&Yo)&&0!==e.tag&&Nc(),i=e.pendingLanes,0!==(1&i)?e===Go?Jo++:(Jo=0,Go=e):Jo=0,qn()}(e,t,s,r)}finally{Eo.transition=n,vt=r}return null}function Nc(){if(null!==Ko){var e=bt(Yo),t=Eo.transition,s=vt;try{if(Eo.transition=null,vt=16>e?16:e,null===Ko)var r=!1;else{if(e=Ko,Ko=null,Yo=0,0!==(6&_o))throw Error(a(331));var n=_o;for(_o|=4,Gl=e.current;null!==Gl;){var i=Gl,l=i.child;if(0!==(16&Gl.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Gl=d;null!==Gl;){var u=Gl;switch(u.tag){case 0:case 11:case 15:to(8,u,i)}var m=u.child;if(null!==m)m.return=u,Gl=m;else for(;null!==Gl;){var h=(u=Gl).sibling,f=u.return;if(no(u),u===d){Gl=null;break}if(null!==h){h.return=f,Gl=h;break}Gl=f}}}var p=i.alternate;if(null!==p){var x=p.child;if(null!==x){p.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Gl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Gl=l;else e:for(;null!==Gl;){if(0!==(2048&(i=Gl).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Gl=y;break e}Gl=i.return}}var v=e.current;for(Gl=v;null!==Gl;){var b=(l=Gl).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,Gl=b;else e:for(l=v;null!==Gl;){if(0!==(2048&(o=Gl).flags))try{switch(o.tag){case 0:case 11:case 15:so(9,o)}}catch(N){Sc(o,o.return,N)}if(o===l){Gl=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Gl=j;break e}Gl=o.return}}if(_o=n,qn(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(nt,e)}catch(N){}r=!0}return r}finally{vt=s,Eo.transition=t}}return!1}function wc(e,t,s){e=Ia(e,t=ml(0,t=ol(s,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Sc(e,t,s){if(3===e.tag)wc(e,e,s);else for(;null!==t;){if(3===t.tag){wc(t,e,s);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qo||!Qo.has(r))){t=Ia(t,e=hl(t,e=ol(s,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,s){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&s,Ao===e&&(Oo&s)===s&&(4===Fo||3===Fo&&(130023424&Oo)===Oo&&500>Ge()-Uo?mc(e,0):zo|=s),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=ec();null!==(e=Fa(e,t))&&(gt(e,t,s),rc(e,s))}function Ec(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Cc(e,s)}function _c(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;null!==n&&(s=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,s)}function Ac(e,t){return $e(e,t)}function Pc(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,s,r){return new Pc(e,t,s,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var s=e.alternate;return null===s?((s=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Fc(e,t,s,r,n,i){var l=2;if(r=e,"function"===typeof e)Tc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case w:return Lc(s.children,n,i,t);case S:l=8,n|=8;break;case k:return(e=Oc(12,s,t,2|n)).elementType=k,e.lanes=i,e;case A:return(e=Oc(13,s,t,n)).elementType=A,e.lanes=i,e;case P:return(e=Oc(19,s,t,n)).elementType=P,e.lanes=i,e;case R:return Dc(s,n,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case E:l=9;break e;case _:l=11;break e;case O:l=14;break e;case T:l=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(l,s,t,n)).elementType=e,t.type=r,t.lanes=i,t}function Lc(e,t,s,r){return(e=Oc(7,e,r,t)).lanes=s,e}function Dc(e,t,s,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=s,e.stateNode={isHidden:!1},e}function Bc(e,t,s){return(e=Oc(6,e,null,t)).lanes=s,e}function zc(e,t,s){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ic(e,t,s,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Mc(e,t,s,r,n,a,i,l,o){return e=new Ic(e,t,s,l,o),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Uc(e){if(!e)return En;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var s=e.type;if(Tn(s))return Ln(e,s,t)}return t}function qc(e,t,s,r,n,a,i,l,o){return(e=Mc(s,r,!0,e,0,a,0,l,o)).context=Uc(null),s=e.current,(a=za(r=ec(),n=tc(s))).callback=void 0!==t&&null!==t?t:null,Ia(s,a,n),e.current.lanes=n,gt(e,n,r),rc(e,r),e}function Vc(e,t,s,r){var n=t.current,a=ec(),i=tc(n);return s=Uc(s),null===t.context?t.context=s:t.pendingContext=s,(t=za(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ia(n,t,i))&&(sc(e,n,i,a),Ma(e,n,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function Qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}wo=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||An.current)yl=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return yl=!1,function(e,t,s){switch(t.tag){case 3:_l(t),ha();break;case 5:Ga(t);break;case 1:Tn(t.type)&&Dn(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;Cn(Na,r._currentValue),r._currentValue=n;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cn(Za,1&Za.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Dl(e,t,s):(Cn(Za,1&Za.current),null!==(e=Vl(e,t,s))?e.sibling:null);Cn(Za,1&Za.current);break;case 19:if(r=0!==(s&t.childLanes),0!==(128&e.flags)){if(r)return Ul(e,t,s);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Cn(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,wl(e,t,s)}return Vl(e,t,s)}(e,t,s);yl=0!==(131072&e.flags)}else yl=!1,na&&0!==(1048576&t.flags)&&Zn(t,Qn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ql(e,t),e=t.pendingProps;var n=On(t,_n.current);Aa(t,s),n=pi(null,t,r,e,n,s);var i=xi();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tn(r)?(i=!0,Dn(t)):i=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Da(t),n.updater=rl,t.stateNode=n,n._reactInternals=t,ll(t,r,e,s),t=El(null,t,r,!0,i,s)):(t.tag=0,na&&i&&ea(t),vl(null,t,n,s),t=t.child),t;case 16:r=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,r=(n=r._init)(r._payload),t.type=r,n=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===O)return 14}return 2}(r),e=tl(r,e),n){case 0:t=kl(null,t,r,e,s);break e;case 1:t=Cl(null,t,r,e,s);break e;case 11:t=bl(null,t,r,e,s);break e;case 14:t=jl(null,t,r,tl(r.type,e),s);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,kl(e,t,r,n=t.elementType===r?n:tl(r,n),s);case 1:return r=t.type,n=t.pendingProps,Cl(e,t,r,n=t.elementType===r?n:tl(r,n),s);case 3:e:{if(_l(t),null===e)throw Error(a(387));r=t.pendingProps,n=(i=t.memoizedState).element,Ba(e,t),qa(t,r,null,s);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Al(e,t,r,s,n=ol(Error(a(423)),t));break e}if(r!==n){t=Al(e,t,r,s,n=ol(Error(a(424)),t));break e}for(ra=cn(t.stateNode.containerInfo.firstChild),sa=t,na=!0,aa=null,s=ja(t,null,r,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(ha(),r===n){t=Vl(e,t,s);break e}vl(e,t,r,s)}t=t.child}return t;case 5:return Ga(t),null===e&&ca(t),r=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,l=n.children,tn(r,n)?l=null:null!==i&&tn(r,i)&&(t.flags|=32),Sl(e,t),vl(e,t,l,s),t.child;case 6:return null===e&&ca(t),null;case 13:return Dl(e,t,s);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,s):vl(e,t,r,s),t.child;case 11:return r=t.type,n=t.pendingProps,bl(e,t,r,n=t.elementType===r?n:tl(r,n),s);case 7:return vl(e,t,t.pendingProps,s),t.child;case 8:case 12:return vl(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,i=t.memoizedProps,l=n.value,Cn(Na,r._currentValue),r._currentValue=l,null!==i)if(ir(i.value,l)){if(i.children===n.children&&!An.current){t=Vl(e,t,s);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=za(-1,s&-s)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,null!==(c=i.alternate)&&(c.lanes|=s),_a(i.return,s,t),o.lanes|=s;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=s,null!==(o=l.alternate)&&(o.lanes|=s),_a(l,s,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}vl(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,Aa(t,s),r=r(n=Pa(n)),t.flags|=1,vl(e,t,r,s),t.child;case 14:return n=tl(r=t.type,t.pendingProps),jl(e,t,r,n=tl(r.type,n),s);case 15:return Nl(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:tl(r,n),ql(e,t),t.tag=1,Tn(r)?(e=!0,Dn(t)):e=!1,Aa(t,s),al(t,r,n),ll(t,r,n,s),El(null,t,r,!0,e,s);case 19:return Ul(e,t,s);case 22:return wl(e,t,s)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,s,r,n){var a=s._reactRootContainer;if(a){var i=a;if("function"===typeof n){var l=n;n=function(){var e=Hc(i);l.call(e)}}Vc(t,i,e,n)}else i=function(e,t,s,r,n){if(n){if("function"===typeof r){var a=r;r=function(){var e=Hc(i);a.call(e)}}var i=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[fn]=i.current,Ur(8===e.nodeType?e.parentNode:e),dc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof r){var l=r;r=function(){var e=Hc(o);l.call(e)}}var o=Mc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[fn]=o.current,Ur(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,o,s,r)}),o}(s,t,e,n,r);return Hc(i)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[fn]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Rt.length&&0!==t&&t<Rt[s].priority;s++);Rt.splice(s,0,e),0===s&&Bt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ut(t.pendingLanes);0!==s&&(yt(t,1|s),rc(t,Ge()),0===(6&_o)&&(qo=Ge()+500,qn()))}break;case 13:dc(function(){var t=Fa(e,1);if(null!==t){var s=ec();sc(t,e,1,s)}}),Qc(e,1)}},Nt=function(e){if(13===e.tag){var t=Fa(e,134217728);if(null!==t)sc(t,e,134217728,ec());Qc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),s=Fa(e,t);if(null!==s)sc(s,e,t,ec());Qc(e,t)}},St=function(){return vt},kt=function(e,t){var s=vt;try{return vt=e,t()}finally{vt=s}},Ne=function(e,t,s){switch(t){case"input":if(X(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var n=jn(r);if(!n)throw Error(a(90));$(r),X(r,n)}}}break;case"textarea":ae(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},_e=cc,Ae=dc;var ed={usingClientEntryPoint:!1,Events:[vn,bn,jn,Ce,Ee,cc]},td={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{nt=rd.inject(sd),at=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,s){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var s=!1,r="",n=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Mc(e,1,!1,null,0,s,0,r,n),e[fn]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,s){if(!Gc(t))throw Error(a(200));return Zc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!Jc(e))throw Error(a(405));var r=null!=s&&s.hydratedSources||null,n=!1,i="",l=$c;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(i=s.identifierPrefix),void 0!==s.onRecoverableError&&(l=s.onRecoverableError)),t=qc(t,null,e,1,null!=s?s:null,n,0,i,l),e[fn]=t.current,Ur(e),r)for(e=0;e<r.length;e++)n=(n=(s=r[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new Yc(t)},t.render=function(e,t,s){if(!Gc(t))throw Error(a(200));return Zc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!Gc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Gc(s))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,s,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,s)=>{"use strict";var r=s(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},414:(e,t,s)=>{"use strict";e.exports=s(654)},592:(e,t,s)=>{"use strict";s.d(t,{B:()=>a,t:()=>n});var r=console;function n(){return r}function a(e){r=e}},654:(e,t,s)=>{"use strict";var r=s(950),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,a={},c=null,d=null;for(r in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:d,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},761:(e,t)=>{"use strict";function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var r=s-1>>>1,n=e[r];if(!(0<a(n,t)))break e;e[r]=t,e[s]=n,s=r}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var r=0,n=e.length,i=n>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,d=e[c];if(0>a(o,s))c<n&&0>a(d,o)?(e[r]=d,e[c]=s,r=c):(e[r]=o,e[l]=s,r=l);else{if(!(c<n&&0>a(d,s)))break e;e[r]=d,e[c]=s,r=c}}}return t}function a(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,h=3,f=!1,p=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,s(c,t)}t=r(d)}}function j(e){if(x=!1,b(e),!p)if(null!==r(c))p=!0,R(N);else{var t=r(d);null!==t&&F(j,t.startTime-e)}}function N(e,s){p=!1,x&&(x=!1,y(C),C=-1),f=!0;var a=h;try{for(b(s),m=r(c);null!==m&&(!(m.expirationTime>s)||e&&!A());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var l=i(m.expirationTime<=s);s=t.unstable_now(),"function"===typeof l?m.callback=l:m===r(c)&&n(c),b(s)}else n(c);m=r(c)}if(null!==m)var o=!0;else{var u=r(d);null!==u&&F(j,u.startTime-s),o=!1}return o}finally{m=null,h=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,k=null,C=-1,E=5,_=-1;function A(){return!(t.unstable_now()-_<E)}function P(){if(null!==k){var e=t.unstable_now();_=e;var s=!0;try{s=k(!0,e)}finally{s?w():(S=!1,k=null)}}else S=!1}if("function"===typeof v)w=function(){v(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,T=O.port2;O.port1.onmessage=P,w=function(){T.postMessage(null)}}else w=function(){g(P,0)};function R(e){k=e,S||(S=!0,w())}function F(e,s){C=g(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var s=h;h=t;try{return e()}finally{h=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=h;h=e;try{return t()}finally{h=s}},t.unstable_scheduleCallback=function(e,n,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,s(d,e),null===r(c)&&e===r(d)&&(x?(y(C),C=-1):x=!0,F(j,a-i))):(e.sortIndex=l,s(c,e),p||f||(p=!0,R(N))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var s=h;h=t;try{return e.apply(this,arguments)}finally{h=s}}}},854:(e,t,s)=>{"use strict";s.d(t,{j:()=>n});var r=s(339),n=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,r.G6)(function(){t.notifyFn(e)})},t.batchCalls=function(e){var t=this;return function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];t.schedule(function(){e.apply(void 0,r)})}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,r.G6)(function(){e.batchNotifyFn(function(){t.forEach(function(t){e.notifyFn(t)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())},920:(e,t,s)=>{"use strict";s.d(t,{QueryClient:()=>r.QueryClient,QueryClientProvider:()=>n.QueryClientProvider});var r=s(146);s.o(r,"QueryClientProvider")&&s.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}});var n=s(63)},950:(e,t,s)=>{"use strict";e.exports=s(49)},984:(e,t,s)=>{"use strict";s.d(t,{E:()=>w});var r=s(168),n=s(339);function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}var l=s(854),o=s(592),c=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,s=e||function(){};return this.listeners.push(s),this.onSubscribe(),function(){t.listeners=t.listeners.filter(function(e){return e!==s}),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),d=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!n.S$&&(null==(t=window)?void 0:t.addEventListener)){var s=function(){return e()};return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),function(){window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}},t}i(t,e);var s=t.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},s.setEventListener=function(e){var t,s=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?s.setFocused(e):s.onFocus()})},s.setFocused=function(e){this.focused=e,e&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function(e){e()})},s.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(c)),u=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!n.S$&&(null==(t=window)?void 0:t.addEventListener)){var s=function(){return e()};return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}},t}i(t,e);var s=t.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},s.setEventListener=function(e){var t,s=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?s.setOnline(e):s.onOnline()})},s.setOnline=function(e){this.online=e,e&&this.onOnline()},s.onOnline=function(){this.listeners.forEach(function(e){e()})},s.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},t}(c));function m(e){return Math.min(1e3*Math.pow(2,e),3e4)}function h(e){return"function"===typeof(null==e?void 0:e.cancel)}var f=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function p(e){return e instanceof f}var x=function(e){var t,s,r,a,i=this,l=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){l=!0},this.continueRetry=function(){l=!1},this.continue=function(){return null==s?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(e,t){r=e,a=t});var o=function(t){i.isResolved||(i.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==s||s(),r(t))},c=function(t){i.isResolved||(i.isResolved=!0,null==e.onError||e.onError(t),null==s||s(),a(t))};!function r(){if(!i.isResolved){var a;try{a=e.fn()}catch(p){a=Promise.reject(p)}t=function(e){if(!i.isResolved&&(c(new f(e)),null==i.abort||i.abort(),h(a)))try{a.cancel()}catch(t){}},i.isTransportCancelable=h(a),Promise.resolve(a).then(o).catch(function(t){var a,o;if(!i.isResolved){var h=null!=(a=e.retry)?a:3,f=null!=(o=e.retryDelay)?o:m,p="function"===typeof f?f(i.failureCount,t):f,x=!0===h||"number"===typeof h&&i.failureCount<h||"function"===typeof h&&h(i.failureCount,t);!l&&x?(i.failureCount++,null==e.onFail||e.onFail(i.failureCount,t),(0,n.yy)(p).then(function(){if(!d.isFocused()||!u.isOnline())return new Promise(function(t){s=t,i.isPaused=!0,null==e.onPause||e.onPause()}).then(function(){s=void 0,i.isPaused=!1,null==e.onContinue||e.onContinue()})}).then(function(){l?c(t):r()})):c(t)}})}}()},g=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,r.A)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,n.gn)(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var s,r,a=this.state.data,i=(0,n.Zw)(e,a);return(null==(s=(r=this.options).isDataEqual)?void 0:s.call(r,a,i))?i=a:!1!==this.options.structuralSharing&&(i=(0,n.BH)(a,i)),this.dispatch({data:i,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),i},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,s=this.promise;return null==(t=this.retryer)||t.cancel(e),s?s.then(n.lQ).catch(n.lQ):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return!1!==e.options.enabled})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,n.j3)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnReconnect()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter(function(t){return t!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var s,r,a,i=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var l;return null==(l=this.retryer)||l.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var c=this.observers.find(function(e){return e.options.queryFn});c&&this.setOptions(c.options)}var d=(0,n.HN)(this.queryKey),u=(0,n.jY)(),m={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(u)return i.abortSignalConsumed=!0,u.signal}});var h,f,g={fetchOptions:t,options:this.options,queryKey:d,state:this.state,fetchFn:function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(m)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(s=this.options.behavior)?void 0:s.onFetch)&&(null==(h=this.options.behavior)||h.onFetch(g));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(r=g.fetchOptions)?void 0:r.meta))||this.dispatch({type:"fetch",meta:null==(f=g.fetchOptions)?void 0:f.meta});return this.retryer=new x({fn:g.fetchFn,abort:null==u||null==(a=u.abort)?void 0:a.bind(u),onSuccess:function(e){i.setData(e),null==i.cache.config.onSuccess||i.cache.config.onSuccess(e,i),0===i.cacheTime&&i.optionalRemove()},onError:function(e){p(e)&&e.silent||i.dispatch({type:"error",error:e}),p(e)||(null==i.cache.config.onError||i.cache.config.onError(e,i),(0,o.t)().error(e)),0===i.cacheTime&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),l.j.batch(function(){t.observers.forEach(function(t){t.onQueryUpdate(e)}),t.cache.notify({query:t,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,s="undefined"!==typeof e.initialData?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,r="undefined"!==typeof t;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=s?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:r?"success":"idle"}},t.reducer=function(e,t){var s,n;switch(t.type){case"failed":return(0,r.A)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,r.A)({},e,{isPaused:!0});case"continue":return(0,r.A)({},e,{isPaused:!1});case"fetch":return(0,r.A)({},e,{fetchFailureCount:0,fetchMeta:null!=(s=t.meta)?s:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,r.A)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(n=t.dataUpdatedAt)?n:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=t.error;return p(a)&&a.revert&&this.revertState?(0,r.A)({},this.revertState):(0,r.A)({},e,{error:a,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,r.A)({},e,{isInvalidated:!0});case"setState":return(0,r.A)({},e,t.state);default:return e}},e}(),y=function(e){function t(t){var s;return(s=e.call(this)||this).config=t||{},s.queries=[],s.queriesMap={},s}i(t,e);var s=t.prototype;return s.build=function(e,t,s){var r,a=t.queryKey,i=null!=(r=t.queryHash)?r:(0,n.F$)(a,t),l=this.get(i);return l||(l=new g({cache:this,queryKey:a,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a),meta:t.meta}),this.add(l)),l},s.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},s.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(function(t){return t!==e}),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},s.clear=function(){var e=this;l.j.batch(function(){e.queries.forEach(function(t){e.remove(t)})})},s.get=function(e){return this.queriesMap[e]},s.getAll=function(){return this.queries},s.find=function(e,t){var s=(0,n.b_)(e,t)[0];return"undefined"===typeof s.exact&&(s.exact=!0),this.queries.find(function(e){return(0,n.MK)(s,e)})},s.findAll=function(e,t){var s=(0,n.b_)(e,t)[0];return Object.keys(s).length>0?this.queries.filter(function(e){return(0,n.MK)(s,e)}):this.queries},s.notify=function(e){var t=this;l.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},s.onFocus=function(){var e=this;l.j.batch(function(){e.queries.forEach(function(e){e.onFocus()})})},s.onOnline=function(){var e=this;l.j.batch(function(){e.queries.forEach(function(e){e.onOnline()})})},t}(c),v=function(){function e(e){this.options=(0,r.A)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(t){return t!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(n.lQ).catch(n.lQ)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,s="loading"===this.state.status,r=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then(function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)}).then(function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})})),r.then(function(){return t.executeMutation()}).then(function(s){e=s,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,o.t)().error(e),Promise.resolve().then(function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:e}),e})})},t.executeMutation=function(){var e,t=this;return this.retryer=new x({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,r.A)({},e,{failureCount:e.failureCount+1});case"pause":return(0,r.A)({},e,{isPaused:!0});case"continue":return(0,r.A)({},e,{isPaused:!1});case"loading":return(0,r.A)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,r.A)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,r.A)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,r.A)({},e,t.state);default:return e}}(this.state,e),l.j.batch(function(){t.observers.forEach(function(t){t.onMutationUpdate(e)}),t.mutationCache.notify(t)})},e}();var b=function(e){function t(t){var s;return(s=e.call(this)||this).config=t||{},s.mutations=[],s.mutationId=0,s}i(t,e);var s=t.prototype;return s.build=function(e,t,s){var r=new v({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:s,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(r),r},s.add=function(e){this.mutations.push(e),this.notify(e)},s.remove=function(e){this.mutations=this.mutations.filter(function(t){return t!==e}),e.cancel(),this.notify(e)},s.clear=function(){var e=this;l.j.batch(function(){e.mutations.forEach(function(t){e.remove(t)})})},s.getAll=function(){return this.mutations},s.find=function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find(function(t){return(0,n.nJ)(e,t)})},s.findAll=function(e){return this.mutations.filter(function(t){return(0,n.nJ)(e,t)})},s.notify=function(e){var t=this;l.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},s.onFocus=function(){this.resumePausedMutations()},s.onOnline=function(){this.resumePausedMutations()},s.resumePausedMutations=function(){var e=this.mutations.filter(function(e){return e.state.isPaused});return l.j.batch(function(){return e.reduce(function(e,t){return e.then(function(){return t.continue().catch(n.lQ)})},Promise.resolve())})},t}(c);function j(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function N(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var w=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new y,this.mutationCache=e.mutationCache||new b,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=d.subscribe(function(){d.isFocused()&&u.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=u.subscribe(function(){d.isFocused()&&u.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var s=(0,n.b_)(e,t)[0];return s.fetching=!0,this.queryCache.findAll(s).length},t.isMutating=function(e){return this.mutationCache.findAll((0,r.A)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var s;return null==(s=this.queryCache.find(e,t))?void 0:s.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(e){return[e.queryKey,e.state.data]})},t.setQueryData=function(e,t,s){var r=(0,n.vh)(e),a=this.defaultQueryOptions(r);return this.queryCache.build(this,a).setData(t,s)},t.setQueriesData=function(e,t,s){var r=this;return l.j.batch(function(){return r.getQueryCache().findAll(e).map(function(e){var n=e.queryKey;return[n,r.setQueryData(n,t,s)]})})},t.getQueryState=function(e,t){var s;return null==(s=this.queryCache.find(e,t))?void 0:s.state},t.removeQueries=function(e,t){var s=(0,n.b_)(e,t)[0],r=this.queryCache;l.j.batch(function(){r.findAll(s).forEach(function(e){r.remove(e)})})},t.resetQueries=function(e,t,s){var a=this,i=(0,n.b_)(e,t,s),o=i[0],c=i[1],d=this.queryCache,u=(0,r.A)({},o,{active:!0});return l.j.batch(function(){return d.findAll(o).forEach(function(e){e.reset()}),a.refetchQueries(u,c)})},t.cancelQueries=function(e,t,s){var r=this,a=(0,n.b_)(e,t,s),i=a[0],o=a[1],c=void 0===o?{}:o;"undefined"===typeof c.revert&&(c.revert=!0);var d=l.j.batch(function(){return r.queryCache.findAll(i).map(function(e){return e.cancel(c)})});return Promise.all(d).then(n.lQ).catch(n.lQ)},t.invalidateQueries=function(e,t,s){var a,i,o,c=this,d=(0,n.b_)(e,t,s),u=d[0],m=d[1],h=(0,r.A)({},u,{active:null==(a=null!=(i=u.refetchActive)?i:u.active)||a,inactive:null!=(o=u.refetchInactive)&&o});return l.j.batch(function(){return c.queryCache.findAll(u).forEach(function(e){e.invalidate()}),c.refetchQueries(h,m)})},t.refetchQueries=function(e,t,s){var a=this,i=(0,n.b_)(e,t,s),o=i[0],c=i[1],d=l.j.batch(function(){return a.queryCache.findAll(o).map(function(e){return e.fetch(void 0,(0,r.A)({},c,{meta:{refetchPage:null==o?void 0:o.refetchPage}}))})}),u=Promise.all(d).then(n.lQ);return(null==c?void 0:c.throwOnError)||(u=u.catch(n.lQ)),u},t.fetchQuery=function(e,t,s){var r=(0,n.vh)(e,t,s),a=this.defaultQueryOptions(r);"undefined"===typeof a.retry&&(a.retry=!1);var i=this.queryCache.build(this,a);return i.isStaleByTime(a.staleTime)?i.fetch(a):Promise.resolve(i.state.data)},t.prefetchQuery=function(e,t,s){return this.fetchQuery(e,t,s).then(n.lQ).catch(n.lQ)},t.fetchInfiniteQuery=function(e,t,s){var r=(0,n.vh)(e,t,s);return r.behavior={onFetch:function(e){e.fetchFn=function(){var t,s,r,a,i,l,o,c=null==(t=e.fetchOptions)||null==(s=t.meta)?void 0:s.refetchPage,d=null==(r=e.fetchOptions)||null==(a=r.meta)?void 0:a.fetchMore,u=null==d?void 0:d.pageParam,m="forward"===(null==d?void 0:d.direction),f="backward"===(null==d?void 0:d.direction),p=(null==(i=e.state.data)?void 0:i.pages)||[],x=(null==(l=e.state.data)?void 0:l.pageParams)||[],g=(0,n.jY)(),y=null==g?void 0:g.signal,v=x,b=!1,w=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(e,t,s,r){return v=r?[t].concat(v):[].concat(v,[t]),r?[s].concat(e):[].concat(e,[s])},k=function(t,s,r,n){if(b)return Promise.reject("Cancelled");if("undefined"===typeof r&&!s&&t.length)return Promise.resolve(t);var a={queryKey:e.queryKey,signal:y,pageParam:r,meta:e.meta},i=w(a),l=Promise.resolve(i).then(function(e){return S(t,r,e,n)});return h(i)&&(l.cancel=i.cancel),l};if(p.length)if(m){var C="undefined"!==typeof u,E=C?u:j(e.options,p);o=k(p,C,E)}else if(f){var _="undefined"!==typeof u,A=_?u:N(e.options,p);o=k(p,_,A,!0)}else!function(){v=[];var t="undefined"===typeof e.options.getNextPageParam,s=!c||!p[0]||c(p[0],0,p);o=s?k([],t,x[0]):Promise.resolve(S([],x[0],p[0]));for(var r=function(s){o=o.then(function(r){if(!c||!p[s]||c(p[s],s,p)){var n=t?x[s]:j(e.options,r);return k(r,t,n)}return Promise.resolve(S(r,x[s],p[s]))})},n=1;n<p.length;n++)r(n)}();else o=k([]);var P=o.then(function(e){return{pages:e,pageParams:v}});return P.cancel=function(){b=!0,null==g||g.abort(),h(o)&&o.cancel()},P}}},this.fetchQuery(r)},t.prefetchInfiniteQuery=function(e,t,s){return this.fetchInfiniteQuery(e,t,s).then(n.lQ).catch(n.lQ)},t.cancelMutations=function(){var e=this,t=l.j.batch(function(){return e.mutationCache.getAll().map(function(e){return e.cancel()})});return Promise.all(t).then(n.lQ).catch(n.lQ)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var s=this.queryDefaults.find(function(t){return(0,n.Od)(e)===(0,n.Od)(t.queryKey)});s?s.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find(function(t){return(0,n.Cp)(e,t.queryKey)}))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var s=this.mutationDefaults.find(function(t){return(0,n.Od)(e)===(0,n.Od)(t.mutationKey)});s?s.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find(function(t){return(0,n.Cp)(e,t.mutationKey)}))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,r.A)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,n.F$)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,r.A)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var a=Object.create(null);s.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,s.d(a,i),a}})(),s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};s.r(e),s.d(e,{hasBrowserEnv:()=>ir,hasStandardBrowserEnv:()=>or,hasStandardBrowserWebWorkerEnv:()=>cr,navigator:()=>lr,origin:()=>dr});var t={};s.r(t),s.d(t,{Decoder:()=>ri,Encoder:()=>ti,PacketType:()=>ei,protocol:()=>Za});var r,n=s(950),a=s.t(n,2),i=s(352),l=s(119),o=s.t(l,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const d="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ue){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,s,r){return void 0===s&&(s=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:s,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function x(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,s,n){void 0===n&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=r.Pop,m=null,x=g();function g(){return(l.state||{idx:null}).idx}function y(){o=r.Pop;let e=g(),t=null==e?null:e-x;x=e,m&&m({action:o,location:b.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,s="string"===typeof e?e:p(e);return s=s.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==x&&(x=0,l.replaceState(c({},l.state,{idx:x}),""));let b={get action(){return o},get location(){return e(a,l)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(d,y),m=e,()=>{a.removeEventListener(d,y),m=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=r.Push;let n=f(b.location,e,t);s&&s(n,e),x=g()+1;let c=h(n,x),d=b.createHref(n);try{l.pushState(c,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;a.location.assign(d)}i&&m&&m({action:o,location:b.location,delta:1})},replace:function(e,t){o=r.Replace;let n=f(b.location,e,t);s&&s(n,e),x=g();let a=h(n,x),c=b.createHref(n);l.replaceState(a,"",c),i&&m&&m({action:o,location:b.location,delta:0})},go:e=>l.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,s){return void 0===s&&(s="/"),b(e,t,s,!1)}function b(e,t,s,r){let n=F(("string"===typeof t?x(t):t).pathname||"/",s);if(null==n)return null;let a=j(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let l=0;null==i&&l<a.length;++l){let e=R(n);i=O(a[l],e,r)}return i}function j(e,t,s,r){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===r&&(r="");let n=(e,n,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(u(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=I([r,i.relativePath]),o=s.concat(i);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),j(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:P(l,e.index),routesMeta:o})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let r of N(e.path))n(e,t,r);else n(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[s,...r]=t,n=s.endsWith("?"),a=s.replace(/\?$/,"");if(0===r.length)return n?[a,""]:[a];let i=N(r.join("/")),l=[];return l.push(...i.map(e=>""===e?a:[a,e].join("/"))),n&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,S=3,k=2,C=1,E=10,_=-2,A=e=>"*"===e;function P(e,t){let s=e.split("/"),r=s.length;return s.some(A)&&(r+=_),t&&(r+=k),s.filter(e=>!A(e)).reduce((e,t)=>e+(w.test(t)?S:""===t?C:E),r)}function O(e,t,s){void 0===s&&(s=!1);let{routesMeta:r}=e,n={},a="/",i=[];for(let l=0;l<r.length;++l){let e=r[l],o=l===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&s&&!r[r.length-1].route.index&&(d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:I([a,d.pathname]),pathnameBase:M(I([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=I([a,d.pathnameBase]))}return i}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(r.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let a=new RegExp(n,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let a=n[0],i=a.replace(/(.)\/+$/,"$1"),l=n.slice(1),o=r.reduce((e,t,s)=>{let{paramName:r,isOptional:n}=t;if("*"===r){let e=l[s]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[s];return e[r]=n&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{});return{params:o,pathname:a,pathnameBase:i,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&"/"!==r?null:e.slice(s)||"/"}function L(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function B(e,t){let s=D(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function z(e,t,s,r){let n;void 0===r&&(r=!1),"string"===typeof e?n=x(e):(n=c({},e),u(!n.pathname||!n.pathname.includes("?"),L("?","pathname","search",n)),u(!n.pathname||!n.pathname.includes("#"),L("#","pathname","hash",n)),u(!n.search||!n.search.includes("#"),L("#","search","hash",n)));let a,i=""===e||""===n.pathname,l=i?"/":n.pathname;if(null==l)a=s;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}a=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:s,search:r="",hash:n=""}="string"===typeof e?x(e):e,a=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:a,search:U(r),hash:q(n)}}(n,a),d=l&&"/"!==l&&l.endsWith("/"),m=(i||"."===l)&&s.endsWith("/");return o.pathname.endsWith("/")||!d&&!m||(o.pathname+="/"),o}const I=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=(new Set(H),["get",...H]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Q.apply(this,arguments)}const $=n.createContext(null);const K=n.createContext(null);const Y=n.createContext(null);const J=n.createContext(null);const G=n.createContext({outlet:null,matches:[],isDataRoute:!1});const X=n.createContext(null);function Z(){return null!=n.useContext(J)}function ee(){return Z()||u(!1),n.useContext(J).location}function te(e){n.useContext(Y).static||n.useLayoutEffect(e)}function se(){let{isDataRoute:e}=n.useContext(G);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(me.UseNavigateStable),s=n.useRef(!1);return te(()=>{s.current=!0}),n.useCallback(function(r,n){void 0===n&&(n={}),s.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Q({fromRouteId:t},n)))},[e,t])}():function(){Z()||u(!1);let e=n.useContext($),{basename:t,future:s,navigator:r}=n.useContext(Y),{matches:a}=n.useContext(G),{pathname:i}=ee(),l=JSON.stringify(B(a,s.v7_relativeSplatPath)),o=n.useRef(!1);return te(()=>{o.current=!0}),n.useCallback(function(s,n){if(void 0===n&&(n={}),!o.current)return;if("number"===typeof s)return void r.go(s);let a=z(s,JSON.parse(l),i,"path"===n.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:I([t,a.pathname])),(n.replace?r.replace:r.push)(a,n.state,n)},[t,r,l,i,e])}()}const re=n.createContext(null);function ne(e,t){let{relative:s}=void 0===t?{}:t,{future:r}=n.useContext(Y),{matches:a}=n.useContext(G),{pathname:i}=ee(),l=JSON.stringify(B(a,r.v7_relativeSplatPath));return n.useMemo(()=>z(e,JSON.parse(l),i,"path"===s),[e,l,i,s])}function ae(e,t,s,a){Z()||u(!1);let{navigator:i}=n.useContext(Y),{matches:l}=n.useContext(G),o=l[l.length-1],c=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,h=ee();if(t){var f;let e="string"===typeof t?x(t):t;"/"===d||(null==(f=e.pathname)?void 0:f.startsWith(d))||u(!1),m=e}else m=h;let p=m.pathname||"/",g=p;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=v(e,{pathname:g});let b=de(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:I([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:I([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,s,a);return t&&b?n.createElement(J.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:r.Pop}},b):b}function ie(){let e=function(){var e;let t=n.useContext(X),s=fe(me.UseRouteError),r=pe(me.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),s?n.createElement("pre",{style:a},s):null,null)}const le=n.createElement(ie,null);class oe extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(G.Provider,{value:this.props.routeContext},n.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:s,children:r}=e,a=n.useContext($);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),n.createElement(G.Provider,{value:t},r)}function de(e,t,s,r){var a;if(void 0===t&&(t=[]),void 0===s&&(s=null),void 0===r&&(r=null),null==e){var i;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let l=e,o=null==(a=s)?void 0:a.errors;if(null!=o){let e=l.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||u(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let n=0;n<l.length;n++){let e=l[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=n),e.route.id){let{loaderData:t,errors:r}=s,n=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||n){c=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,r,a)=>{let i,u=!1,m=null,h=null;var f;s&&(i=o&&r.route.id?o[r.route.id]:void 0,m=r.route.errorElement||le,c&&(d<0&&0===a?(f="route-fallback",!1||xe[f]||(xe[f]=!0),u=!0,h=null):d===a&&(u=!0,h=r.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,a+1)),x=()=>{let t;return t=i?m:u?h:r.route.Component?n.createElement(r.route.Component,null):r.route.element?r.route.element:e,n.createElement(ce,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=s},children:t})};return s&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?n.createElement(oe,{location:s.location,revalidation:s.revalidation,component:m,error:i,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(me||{});function he(e){let t=n.useContext($);return t||u(!1),t}function fe(e){let t=n.useContext(K);return t||u(!1),t}function pe(e){let t=function(){let e=n.useContext(G);return e||u(!1),e}(),s=t.matches[t.matches.length-1];return s.route.id||u(!1),s.route.id}const xe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ye(e){let{to:t,replace:s,state:r,relative:a}=e;Z()||u(!1);let{future:i,static:l}=n.useContext(Y),{matches:o}=n.useContext(G),{pathname:c}=ee(),d=se(),m=z(t,B(o,i.v7_relativeSplatPath),c,"path"===a),h=JSON.stringify(m);return n.useEffect(()=>d(JSON.parse(h),{replace:s,state:r,relative:a}),[d,h,a,s,r]),null}function ve(e){return function(e){let t=n.useContext(G).outlet;return t?n.createElement(re.Provider,{value:e},t):t}(e.context)}function be(e){u(!1)}function je(e){let{basename:t="/",children:s=null,location:a,navigationType:i=r.Pop,navigator:l,static:o=!1,future:c}=e;Z()&&u(!1);let d=t.replace(/^\/*/,"/"),m=n.useMemo(()=>({basename:d,navigator:l,static:o,future:Q({v7_relativeSplatPath:!1},c)}),[d,c,l,o]);"string"===typeof a&&(a=x(a));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:y="default"}=a,v=n.useMemo(()=>{let e=F(h,d);return null==e?null:{location:{pathname:e,search:f,hash:p,state:g,key:y},navigationType:i}},[d,h,f,p,g,y,i]);return null==v?null:n.createElement(Y.Provider,{value:m},n.createElement(J.Provider,{children:s,value:v}))}function Ne(e){let{children:t,location:s}=e;return ae(we(t),s)}new Promise(()=>{});n.Component;function we(e,t){void 0===t&&(t=[]);let s=[];return n.Children.forEach(e,(e,r)=>{if(!n.isValidElement(e))return;let a=[...t,r];if(e.type===n.Fragment)return void s.push.apply(s,we(e.props.children,a));e.type!==be&&u(!1),e.props.index&&e.props.children&&u(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=we(e.props.children,a)),s.push(i)}),s}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Se.apply(this,arguments)}function ke(e,t){if(null==e)return{};var s,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ue){}new Map;const Ee=a.startTransition;o.flushSync,a.useId;function _e(e){let{basename:t,children:s,future:r,window:a}=e,i=n.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:a,v5Compat:!0})&&(l={}),g(function(e,t){let{pathname:s,search:r,hash:n}=e.location;return f("",{pathname:s,search:r,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,l)));let o=i.current,[c,d]=n.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},m=n.useCallback(e=>{u&&Ee?Ee(()=>d(e)):d(e)},[d,u]);return n.useLayoutEffect(()=>o.listen(m),[o,m]),n.useEffect(()=>ge(r),[r]),n.createElement(je,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:o,future:r})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=n.forwardRef(function(e,t){let s,{onClick:r,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:m,viewTransition:h}=e,f=ke(e,Ce),{basename:x}=n.useContext(Y),g=!1;if("string"===typeof d&&Pe.test(d)&&(s=d,Ae))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),s=F(t.pathname,x);t.origin===e.origin&&null!=s?d=s+t.search+t.hash:g=!0}catch(Ue){}let y=function(e,t){let{relative:s}=void 0===t?{}:t;Z()||u(!1);let{basename:r,navigator:a}=n.useContext(Y),{hash:i,pathname:l,search:o}=ne(e,{relative:s}),c=l;return"/"!==r&&(c="/"===l?r:I([r,l])),a.createHref({pathname:c,search:o,hash:i})}(d,{relative:a}),v=function(e,t){let{target:s,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:o}=void 0===t?{}:t,c=se(),d=ee(),u=ne(e,{relative:l});return n.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==r?r:p(d)===p(u);c(e,{replace:s,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,r,a,s,e,i,l,o])}(d,{replace:l,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:h});return n.createElement("a",Se({},f,{href:s||y,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Te,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));var Fe=s(920);function Le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Be(e){var t=function(e,t){if("object"!=De(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==De(t)?t:t+""}function ze(e,t,s){return(t=Be(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ie(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Me(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(s),!0).forEach(function(t){ze(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ie(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let Ue={data:""},qe=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ue,Ve=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,He=/\/\*[^]*?\*\/|  +/g,We=/\n+/g,Qe=(e,t)=>{let s="",r="",n="";for(let a in e){let i=e[a];"@"==a[0]?"i"==a[1]?s=a+" "+i+";":r+="f"==a[1]?Qe(i,a):a+"{"+Qe(i,"k"==a[1]?"":t)+"}":"object"==typeof i?r+=Qe(i,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Qe.p?Qe.p(a,i):a+":"+i+";")}return s+(t&&n?t+"{"+n+"}":n)+r},$e={},Ke=e=>{if("object"==typeof e){let t="";for(let s in e)t+=s+Ke(e[s]);return t}return e},Ye=(e,t,s,r,n)=>{let a=Ke(e),i=$e[a]||($e[a]=(e=>{let t=0,s=11;for(;t<e.length;)s=101*s+e.charCodeAt(t++)>>>0;return"go"+s})(a));if(!$e[i]){let t=a!==e?e:(e=>{let t,s,r=[{}];for(;t=Ve.exec(e.replace(He,""));)t[4]?r.shift():t[3]?(s=t[3].replace(We," ").trim(),r.unshift(r[0][s]=r[0][s]||{})):r[0][t[1]]=t[2].replace(We," ").trim();return r[0]})(e);$e[i]=Qe(n?{["@keyframes "+i]:t}:t,s?"":"."+i)}let l=s&&$e.g?$e.g:null;return s&&($e.g=$e[i]),((e,t,s,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=s?e+t.data:t.data+e)})($e[i],t,r,l),i};function Je(e){let t=this||{},s=e.call?e(t.p):e;return Ye(s.unshift?s.raw?((e,t,s)=>e.reduce((e,r,n)=>{let a=t[n];if(a&&a.call){let e=a(s),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":Qe(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(s,[].slice.call(arguments,1),t.p):s.reduce((e,s)=>Object.assign(e,s&&s.call?s(t.p):s),{}):s,qe(t.target),t.g,t.o,t.k)}Je.bind({g:1});let Ge,Xe,Ze,et=Je.bind({k:1});function tt(e,t){let s=this||{};return function(){let r=arguments;function n(a,i){let l=Object.assign({},a),o=l.className||n.className;s.p=Object.assign({theme:Xe&&Xe()},l),s.o=/ *go\d+/.test(o),l.className=Je.apply(s,r)+(o?" "+o:""),t&&(l.ref=i);let c=e;return e[0]&&(c=l.as||e,delete l.as),Ze&&c[0]&&Ze(l),Ge(c,l)}return t?t(n):n}}var st,rt,nt,at,it,lt,ot,ct,dt,ut,mt,ht,ft,pt,xt,gt,yt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,vt=(()=>{let e=0;return()=>(++e).toString()})(),bt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),jt="default",Nt=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return Me(Me({},e),{},{toasts:[t.toast,...e.toasts].slice(0,s)});case 1:return Me(Me({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Me(Me({},e),t.toast):e)});case 2:let{toast:r}=t;return Nt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return Me(Me({},e),{},{toasts:e.toasts.map(e=>e.id===n||void 0===n?Me(Me({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Me(Me({},e),{},{toasts:[]}):Me(Me({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Me(Me({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Me(Me({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Me(Me({},e),{},{pauseDuration:e.pauseDuration+a}))})}},wt=[],St={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},kt={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt;kt[t]=Nt(kt[t]||St,e),wt.forEach(e=>{let[s,r]=e;s===t&&r(kt[t])})},Et=e=>Object.keys(kt).forEach(t=>Ct(e,t)),_t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return t=>{Ct(t,e)}},At={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Pt=e=>(t,s)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",s=arguments.length>2?arguments[2]:void 0;return Me(Me({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},s),{},{id:(null==s?void 0:s.id)||vt()})}(t,e,s);return _t(r.toasterId||(e=>Object.keys(kt).find(t=>kt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Ot=(e,t)=>Pt("blank")(e,t);Ot.error=Pt("error"),Ot.success=Pt("success"),Ot.loading=Pt("loading"),Ot.custom=Pt("custom"),Ot.dismiss=(e,t)=>{let s={type:3,toastId:e};t?_t(t)(s):Et(s)},Ot.dismissAll=e=>Ot.dismiss(void 0,e),Ot.remove=(e,t)=>{let s={type:4,toastId:e};t?_t(t)(s):Et(s)},Ot.removeAll=e=>Ot.remove(void 0,e),Ot.promise=(e,t,s)=>{let r=Ot.loading(t.loading,Me(Me({},s),null==s?void 0:s.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let n=t.success?yt(t.success,e):void 0;return n?Ot.success(n,Me(Me({id:r},s),null==s?void 0:s.success)):Ot.dismiss(r),e}).catch(e=>{let n=t.error?yt(t.error,e):void 0;n?Ot.error(n,Me(Me({id:r},s),null==s?void 0:s.error)):Ot.dismiss(r)}),e};var Tt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:s,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt,[s,r]=(0,n.useState)(kt[t]||St),a=(0,n.useRef)(kt[t]);(0,n.useEffect)(()=>(a.current!==kt[t]&&r(kt[t]),wt.push([t,r]),()=>{let e=wt.findIndex(e=>{let[s]=e;return s===t});e>-1&&wt.splice(e,1)}),[t]);let i=s.toasts.map(t=>{var s,r,n;return Me(Me(Me(Me({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(s=e[t.type])?void 0:s.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||At[t.type],style:Me(Me(Me({},e.style),null==(n=e[t.type])?void 0:n.style),t.style)})});return Me(Me({},s),{},{toasts:i})}(e,t),a=(0,n.useRef)(new Map).current,i=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let s=setTimeout(()=>{a.delete(e),l({type:4,toastId:e})},t);a.set(e,s)},[]);(0,n.useEffect)(()=>{if(r)return;let e=Date.now(),n=s.map(s=>{if(s.duration===1/0)return;let r=(s.duration||0)+s.pauseDuration-(e-s.createdAt);if(!(r<0))return setTimeout(()=>Ot.dismiss(s.id,t),r);s.visible&&Ot.dismiss(s.id)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[s,r,t]);let l=(0,n.useCallback)(_t(t),[t]),o=(0,n.useCallback)(()=>{l({type:5,time:Date.now()})},[l]),c=(0,n.useCallback)((e,t)=>{l({type:1,toast:{id:e,height:t}})},[l]),d=(0,n.useCallback)(()=>{r&&l({type:6,time:Date.now()})},[r,l]),u=(0,n.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:n=8,defaultPosition:a}=t||{},i=s.filter(t=>(t.position||a)===(e.position||a)&&t.height),l=i.findIndex(t=>t.id===e.id),o=i.filter((e,t)=>t<l&&e.visible).length;return i.filter(e=>e.visible).slice(...r?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+n,0)},[s]);return(0,n.useEffect)(()=>{s.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},Rt=et(st||(st=Le(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Ft=et(rt||(rt=Le(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Lt=et(nt||(nt=Le(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Dt=tt("div")(at||(at=Le(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Rt,Ft,e=>e.secondary||"#fff",Lt),Bt=et(it||(it=Le(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),zt=tt("div")(lt||(lt=Le(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Bt),It=et(ot||(ot=Le(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Mt=et(ct||(ct=Le(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Ut=tt("div")(dt||(dt=Le(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",It,Mt,e=>e.secondary||"#fff"),qt=tt("div")(ut||(ut=Le(["\n  position: absolute;\n"]))),Vt=tt("div")(mt||(mt=Le(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Ht=et(ht||(ht=Le(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Wt=tt("div")(ft||(ft=Le(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Ht),Qt=e=>{let{toast:t}=e,{icon:s,type:r,iconTheme:a}=t;return void 0!==s?"string"==typeof s?n.createElement(Wt,null,s):s:"blank"===r?null:n.createElement(Vt,null,n.createElement(zt,Me({},a)),"loading"!==r&&n.createElement(qt,null,"error"===r?n.createElement(Dt,Me({},a)):n.createElement(Ut,Me({},a))))},$t=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Kt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Yt=tt("div")(pt||(pt=Le(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Jt=tt("div")(xt||(xt=Le(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Gt=n.memo(e=>{let{toast:t,position:s,style:r,children:a}=e,i=t.height?((e,t)=>{let s=e.includes("top")?1:-1,[r,n]=bt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[$t(s),Kt(s)];return{animation:t?"".concat(et(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(et(n)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||s||"top-center",t.visible):{opacity:0},l=n.createElement(Qt,{toast:t}),o=n.createElement(Jt,Me({},t.ariaProps),yt(t.message,t));return n.createElement(Yt,{className:t.className,style:Me(Me(Me({},i),r),t.style)},"function"==typeof a?a({icon:l,message:o}):n.createElement(n.Fragment,null,l,o))});!function(e,t,s,r){Qe.p=t,Ge=e,Xe=s,Ze=r}(n.createElement);var Xt=e=>{let{id:t,className:s,style:r,onHeightUpdate:a,children:i}=e,l=n.useCallback(e=>{if(e){let s=()=>{let s=e.getBoundingClientRect().height;a(t,s)};s(),new MutationObserver(s).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return n.createElement("div",{ref:l,className:s,style:r},i)},Zt=Je(gt||(gt=Le(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),es=e=>{let{reverseOrder:t,position:s="top-center",toastOptions:r,gutter:a,children:i,toasterId:l,containerStyle:o,containerClassName:c}=e,{toasts:d,handlers:u}=Tt(r,l);return n.createElement("div",{"data-rht-toaster":l||"",style:Me({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let r=e.position||s,l=((e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Me(Me({left:0,right:0,display:"flex",position:"absolute",transition:bt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(s?1:-1),"px)")},r),n)})(r,u.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:s}));return n.createElement(Xt,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?Zt:"",style:l},"custom"===e.type?yt(e.message,e):i?i(e):n.createElement(Gt,{toast:e,position:r}))}))},ts=Ot;function ss(e,t){return function(){return e.apply(t,arguments)}}const{toString:rs}=Object.prototype,{getPrototypeOf:ns}=Object,{iterator:as,toStringTag:is}=Symbol,ls=(e=>t=>{const s=rs.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),os=e=>(e=e.toLowerCase(),t=>ls(t)===e),cs=e=>t=>typeof t===e,{isArray:ds}=Array,us=cs("undefined");function ms(e){return null!==e&&!us(e)&&null!==e.constructor&&!us(e.constructor)&&ps(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hs=os("ArrayBuffer");const fs=cs("string"),ps=cs("function"),xs=cs("number"),gs=e=>null!==e&&"object"===typeof e,ys=e=>{if("object"!==ls(e))return!1;const t=ns(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(is in e)&&!(as in e)},vs=os("Date"),bs=os("File"),js=os("Blob"),Ns=os("FileList"),ws=os("URLSearchParams"),[Ss,ks,Cs,Es]=["ReadableStream","Request","Response","Headers"].map(os);function _s(e,t){let s,r,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ds(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(ms(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(s=0;s<a;s++)i=r[s],t.call(null,e[i],i,e)}}function As(e,t){if(ms(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r,n=s.length;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const Ps="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Os=e=>!us(e)&&e!==Ps;const Ts=(Rs="undefined"!==typeof Uint8Array&&ns(Uint8Array),e=>Rs&&e instanceof Rs);var Rs;const Fs=os("HTMLFormElement"),Ls=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),Ds=os("RegExp"),Bs=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};_s(s,(s,n)=>{let a;!1!==(a=t(s,n,e))&&(r[n]=a||s)}),Object.defineProperties(e,r)};const zs=os("AsyncFunction"),Is=((e,t)=>{return e?setImmediate:t?(s="axios@".concat(Math.random()),r=[],Ps.addEventListener("message",e=>{let{source:t,data:n}=e;t===Ps&&n===s&&r.length&&r.shift()()},!1),e=>{r.push(e),Ps.postMessage(s,"*")}):e=>setTimeout(e);var s,r})("function"===typeof setImmediate,ps(Ps.postMessage)),Ms="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ps):"undefined"!==typeof process&&process.nextTick||Is,Us={isArray:ds,isArrayBuffer:hs,isBuffer:ms,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ps(e.append)&&("formdata"===(t=ls(e))||"object"===t&&ps(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&hs(e.buffer),t},isString:fs,isNumber:xs,isBoolean:e=>!0===e||!1===e,isObject:gs,isPlainObject:ys,isEmptyObject:e=>{if(!gs(e)||ms(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ue){return!1}},isReadableStream:Ss,isRequest:ks,isResponse:Cs,isHeaders:Es,isUndefined:us,isDate:vs,isFile:bs,isBlob:js,isRegExp:Ds,isFunction:ps,isStream:e=>gs(e)&&ps(e.pipe),isURLSearchParams:ws,isTypedArray:Ts,isFileList:Ns,forEach:_s,merge:function e(){const{caseless:t}=Os(this)&&this||{},s={},r=(r,n)=>{const a=t&&As(s,n)||n;ys(s[a])&&ys(r)?s[a]=e(s[a],r):ys(r)?s[a]=e({},r):ds(r)?s[a]=r.slice():s[a]=r};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&_s(arguments[n],r);return s},extend:function(e,t,s){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _s(t,(t,r)=>{s&&ps(t)?e[r]=ss(t,s):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,r)=>{let n,a,i;const l={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)i=n[a],r&&!r(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==s&&ns(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:ls,kindOfTest:os,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return-1!==r&&r===s},toArray:e=>{if(!e)return null;if(ds(e))return e;let t=e.length;if(!xs(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[as]).call(e);let r;for(;(r=s.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const r=[];for(;null!==(s=e.exec(t));)r.push(s);return r},isHTMLForm:Fs,hasOwnProperty:Ls,hasOwnProp:Ls,reduceDescriptors:Bs,freezeMethods:e=>{Bs(e,(t,s)=>{if(ps(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const r=e[s];ps(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},r=e=>{e.forEach(e=>{s[e]=!0})};return ds(e)?r(e):r(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:As,global:Ps,isContextDefined:Os,isSpecCompliantForm:function(e){return!!(e&&ps(e.append)&&"FormData"===e[is]&&e[as])},toJSONObject:e=>{const t=new Array(10),s=(e,r)=>{if(gs(e)){if(t.indexOf(e)>=0)return;if(ms(e))return e;if(!("toJSON"in e)){t[r]=e;const n=ds(e)?[]:{};return _s(e,(e,t)=>{const a=s(e,r+1);!us(a)&&(n[t]=a)}),t[r]=void 0,n}}return e};return s(e,0)},isAsyncFn:zs,isThenable:e=>e&&(gs(e)||ps(e))&&ps(e.then)&&ps(e.catch),setImmediate:Is,asap:Ms,isIterable:e=>null!=e&&ps(e[as])};function qs(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}Us.inherits(qs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Us.toJSONObject(this.config),code:this.code,status:this.status}}});const Vs=qs.prototype,Hs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Hs[e]={value:e}}),Object.defineProperties(qs,Hs),Object.defineProperty(Vs,"isAxiosError",{value:!0}),qs.from=(e,t,s,r,n,a)=>{const i=Object.create(Vs);return Us.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),qs.call(i,e.message,t,s,r,n),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Ws=qs;function Qs(e){return Us.isPlainObject(e)||Us.isArray(e)}function $s(e){return Us.endsWith(e,"[]")?e.slice(0,-2):e}function Ks(e,t,s){return e?e.concat(t).map(function(e,t){return e=$s(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const Ys=Us.toFlatObject(Us,{},null,function(e){return/^is[A-Z]/.test(e)});const Js=function(e,t,s){if(!Us.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(s=Us.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Us.isUndefined(t[e])})).metaTokens,n=s.visitor||c,a=s.dots,i=s.indexes,l=(s.Blob||"undefined"!==typeof Blob&&Blob)&&Us.isSpecCompliantForm(t);if(!Us.isFunction(n))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(Us.isDate(e))return e.toISOString();if(Us.isBoolean(e))return e.toString();if(!l&&Us.isBlob(e))throw new Ws("Blob is not supported. Use a Buffer instead.");return Us.isArrayBuffer(e)||Us.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,n){let l=e;if(e&&!n&&"object"===typeof e)if(Us.endsWith(s,"{}"))s=r?s:s.slice(0,-2),e=JSON.stringify(e);else if(Us.isArray(e)&&function(e){return Us.isArray(e)&&!e.some(Qs)}(e)||(Us.isFileList(e)||Us.endsWith(s,"[]"))&&(l=Us.toArray(e)))return s=$s(s),l.forEach(function(e,r){!Us.isUndefined(e)&&null!==e&&t.append(!0===i?Ks([s],r,a):null===i?s:s+"[]",o(e))}),!1;return!!Qs(e)||(t.append(Ks(n,s,a),o(e)),!1)}const d=[],u=Object.assign(Ys,{defaultVisitor:c,convertValue:o,isVisitable:Qs});if(!Us.isObject(e))throw new TypeError("data must be an object");return function e(s,r){if(!Us.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+r.join("."));d.push(s),Us.forEach(s,function(s,a){!0===(!(Us.isUndefined(s)||null===s)&&n.call(t,s,Us.isString(a)?a.trim():a,r,u))&&e(s,r?r.concat(a):[a])}),d.pop()}}(e),t};function Gs(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Xs(e,t){this._pairs=[],e&&Js(e,this,t)}const Zs=Xs.prototype;Zs.append=function(e,t){this._pairs.push([e,t])},Zs.toString=function(e){const t=e?function(t){return e.call(this,t,Gs)}:Gs;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const er=Xs;function tr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sr(e,t,s){if(!t)return e;const r=s&&s.encode||tr;Us.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let a;if(a=n?n(t,s):Us.isURLSearchParams(t)?t.toString():new er(t,s).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const rr=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Us.forEach(this.handlers,function(t){null!==t&&e(t)})}},nr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ar={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:er,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ir="undefined"!==typeof window&&"undefined"!==typeof document,lr="object"===typeof navigator&&navigator||void 0,or=ir&&(!lr||["ReactNative","NativeScript","NS"].indexOf(lr.product)<0),cr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,dr=ir&&window.location.href||"http://localhost",ur=Me(Me({},e),ar);const mr=function(e){function t(e,s,r,n){let a=e[n++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),l=n>=e.length;if(a=!a&&Us.isArray(r)?r.length:a,l)return Us.hasOwnProp(r,a)?r[a]=[r[a],s]:r[a]=s,!i;r[a]&&Us.isObject(r[a])||(r[a]=[]);return t(e,s,r[a],n)&&Us.isArray(r[a])&&(r[a]=function(e){const t={},s=Object.keys(e);let r;const n=s.length;let a;for(r=0;r<n;r++)a=s[r],t[a]=e[a];return t}(r[a])),!i}if(Us.isFormData(e)&&Us.isFunction(e.entries)){const s={};return Us.forEachEntry(e,(e,r)=>{t(function(e){return Us.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,s,0)}),s}return null};const hr={transitional:nr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,n=Us.isObject(e);n&&Us.isHTMLForm(e)&&(e=new FormData(e));if(Us.isFormData(e))return r?JSON.stringify(mr(e)):e;if(Us.isArrayBuffer(e)||Us.isBuffer(e)||Us.isStream(e)||Us.isFile(e)||Us.isBlob(e)||Us.isReadableStream(e))return e;if(Us.isArrayBufferView(e))return e.buffer;if(Us.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Js(e,new ur.classes.URLSearchParams,Me({visitor:function(e,t,s,r){return ur.isNode&&Us.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Us.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Js(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||r?(t.setContentType("application/json",!1),function(e,t,s){if(Us.isString(e))try{return(t||JSON.parse)(e),Us.trim(e)}catch(Ue){if("SyntaxError"!==Ue.name)throw Ue}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||hr.transitional,s=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Us.isResponse(e)||Us.isReadableStream(e))return e;if(e&&Us.isString(e)&&(s&&!this.responseType||r)){const s=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Ue){if(s){if("SyntaxError"===Ue.name)throw Ws.from(Ue,Ws.ERR_BAD_RESPONSE,this,null,this.response);throw Ue}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Us.forEach(["delete","get","head","post","put","patch"],e=>{hr.headers[e]={}});const fr=hr,pr=Us.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xr=Symbol("internals");function gr(e){return e&&String(e).trim().toLowerCase()}function yr(e){return!1===e||null==e?e:Us.isArray(e)?e.map(yr):String(e)}function vr(e,t,s,r,n){return Us.isFunction(r)?r.call(this,t,s):(n&&(t=s),Us.isString(t)?Us.isString(r)?-1!==t.indexOf(r):Us.isRegExp(r)?r.test(t):void 0:void 0)}class br{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function n(e,t,s){const n=gr(t);if(!n)throw new Error("header name must be a non-empty string");const a=Us.findKey(r,n);(!a||void 0===r[a]||!0===s||void 0===s&&!1!==r[a])&&(r[a||t]=yr(e))}const a=(e,t)=>Us.forEach(e,(e,s)=>n(e,s,t));if(Us.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Us.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let s,r,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!s||t[s]&&pr[s]||("set-cookie"===s?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t})(e),t);else if(Us.isObject(e)&&Us.isIterable(e)){let s,r,n={};for(const t of e){if(!Us.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[r=t[0]]=(s=n[r])?Us.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}a(n,t)}else null!=e&&n(t,e,s);return this}get(e,t){if(e=gr(e)){const s=Us.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}(e);if(Us.isFunction(t))return t.call(this,e,s);if(Us.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=gr(e)){const s=Us.findKey(this,e);return!(!s||void 0===this[s]||t&&!vr(0,this[s],s,t))}return!1}delete(e,t){const s=this;let r=!1;function n(e){if(e=gr(e)){const n=Us.findKey(s,e);!n||t&&!vr(0,s[n],n,t)||(delete s[n],r=!0)}}return Us.isArray(e)?e.forEach(n):n(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const n=t[s];e&&!vr(0,this[n],n,e,!0)||(delete this[n],r=!0)}return r}normalize(e){const t=this,s={};return Us.forEach(this,(r,n)=>{const a=Us.findKey(s,n);if(a)return t[a]=yr(r),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(n):String(n).trim();i!==n&&delete t[n],t[i]=yr(r),s[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Us.forEach(this,(s,r)=>{null!=s&&!1!==s&&(t[r]=e&&Us.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,s]=e;return t+": "+s}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[xr]=this[xr]={accessors:{}}).accessors,s=this.prototype;function r(e){const r=gr(e);t[r]||(!function(e,t){const s=Us.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(e,s,n){return this[r].call(this,t,e,s,n)},configurable:!0})})}(s,e),t[r]=!0)}return Us.isArray(e)?e.forEach(r):r(e),this}}br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Us.reduceDescriptors(br.prototype,(e,t)=>{let{value:s}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[r]=e}}}),Us.freezeMethods(br);const jr=br;function Nr(e,t){const s=this||fr,r=t||s,n=jr.from(r.headers);let a=r.data;return Us.forEach(e,function(e){a=e.call(s,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function wr(e){return!(!e||!e.__CANCEL__)}function Sr(e,t,s){Ws.call(this,null==e?"canceled":e,Ws.ERR_CANCELED,t,s),this.name="CanceledError"}Us.inherits(Sr,Ws,{__CANCEL__:!0});const kr=Sr;function Cr(e,t,s){const r=s.config.validateStatus;s.status&&r&&!r(s.status)?t(new Ws("Request failed with status code "+s.status,[Ws.ERR_BAD_REQUEST,Ws.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const Er=function(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n,a=0,i=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=r[i];n||(n=o),s[a]=l,r[a]=o;let d=i,u=0;for(;d!==a;)u+=s[d++],d%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),o-n<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const _r=function(e,t){let s,r,n=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=a,s=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=a?i(o,e):(s=o,r||(r=setTimeout(()=>{r=null,i(s)},a-t)))},()=>s&&i(s)]},Ar=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const n=Er(50,250);return _r(s=>{const a=s.loaded,i=s.lengthComputable?s.total:void 0,l=a-r,o=n(l);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:l,rate:o||void 0,estimated:o&&i&&a<=i?(i-a)/o:void 0,event:s,lengthComputable:null!=i,[t?"download":"upload"]:!0})},s)},Pr=(e,t)=>{const s=null!=e;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Or=e=>function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return Us.asap(()=>e(...s))},Tr=ur.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,ur.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(ur.origin),ur.navigator&&/(msie|trident)/i.test(ur.navigator.userAgent)):()=>!0,Rr=ur.hasStandardBrowserEnv?{write(e,t,s,r,n,a){const i=[e+"="+encodeURIComponent(t)];Us.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),Us.isString(r)&&i.push("path="+r),Us.isString(n)&&i.push("domain="+n),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Fr(e,t,s){let r=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(r||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Lr=e=>e instanceof jr?Me({},e):e;function Dr(e,t){t=t||{};const s={};function r(e,t,s,r){return Us.isPlainObject(e)&&Us.isPlainObject(t)?Us.merge.call({caseless:r},e,t):Us.isPlainObject(t)?Us.merge({},t):Us.isArray(t)?t.slice():t}function n(e,t,s,n){return Us.isUndefined(t)?Us.isUndefined(e)?void 0:r(void 0,e,0,n):r(e,t,0,n)}function a(e,t){if(!Us.isUndefined(t))return r(void 0,t)}function i(e,t){return Us.isUndefined(t)?Us.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(s,n,a){return a in t?r(s,n):a in e?r(void 0,s):void 0}const o={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,s)=>n(Lr(e),Lr(t),0,!0)};return Us.forEach(Object.keys(Me(Me({},e),t)),function(r){const a=o[r]||n,i=a(e[r],t[r],r);Us.isUndefined(i)&&a!==l||(s[r]=i)}),s}const Br=e=>{const t=Dr({},e);let s,{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=jr.from(l),t.url=sr(Fr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Us.isFormData(r))if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(s=l.getContentType())){const[e,...t]=s?s.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(ur.hasStandardBrowserEnv&&(n&&Us.isFunction(n)&&(n=n(t)),n||!1!==n&&Tr(t.url))){const e=a&&i&&Rr.read(i);e&&l.set(a,e)}return t},zr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const r=Br(e);let n=r.data;const a=jr.from(r.headers).normalize();let i,l,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=r;function f(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function x(){if(!p)return;const r=jr.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Cr(function(e){t(e),f()},function(e){s(e),f()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=x:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(x)},p.onabort=function(){p&&(s(new Ws("Request aborted",Ws.ECONNABORTED,e,p)),p=null)},p.onerror=function(){s(new Ws("Network Error",Ws.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const n=r.transitional||nr;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),s(new Ws(t,n.clarifyTimeoutError?Ws.ETIMEDOUT:Ws.ECONNABORTED,e,p)),p=null},void 0===n&&a.setContentType(null),"setRequestHeader"in p&&Us.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),Us.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),u&&"json"!==u&&(p.responseType=r.responseType),h&&([o,d]=Ar(h,!0),p.addEventListener("progress",o)),m&&p.upload&&([l,c]=Ar(m),p.upload.addEventListener("progress",l),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{p&&(s(!t||t.type?new kr(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===ur.protocols.indexOf(g)?s(new Ws("Unsupported protocol "+g+":",Ws.ERR_BAD_REQUEST,e)):p.send(n||null)})},Ir=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,r=new AbortController;const n=function(e){if(!s){s=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ws?t:new kr(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,n(new Ws("timeout ".concat(t," of ms exceeded"),Ws.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:l}=r;return l.unsubscribe=()=>Us.asap(i),l}};function Mr(e,t){this.v=e,this.k=t}function Ur(e){return function(){return new qr(e.apply(this,arguments))}}function qr(e){var t,s;function r(t,s){try{var a=e[t](s),i=a.value,l=i instanceof Mr;Promise.resolve(l?i.v:i).then(function(s){if(l){var o="return"===t?"return":"next";if(!i.k||s.done)return r(o,s);s=e[o](s).value}n(a.done?"return":"normal",s)},function(e){r("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?r(t.key,t.arg):s=null}this._invoke=function(e,n){return new Promise(function(a,i){var l={key:e,arg:n,resolve:a,reject:i,next:null};s?s=s.next=l:(t=s=l,r(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function Vr(e){return new Mr(e,0)}function Hr(e){var t={},s=!1;function r(t,r){return s=!0,r=new Promise(function(s){s(e[t](r))}),{done:!1,value:new Mr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return s?(s=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(s)throw s=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return s?(s=!1,e):r("return",e)}),t}function Wr(e){var t,s,r,n=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,r=Symbol.iterator);n--;){if(s&&null!=(t=e[s]))return t.call(e);if(r&&null!=(t=e[r]))return new Qr(t.call(e));s="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Qr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Qr=function(e){this.s=e,this.n=e.next},Qr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new Qr(e)}qr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},qr.prototype.next=function(e){return this._invoke("next",e)},qr.prototype.throw=function(e){return this._invoke("throw",e)},qr.prototype.return=function(e){return this._invoke("return",e)};const $r=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let r,n=0;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},Kr=function(){var e=Ur(function*(e,t){var s,r=!1,n=!1;try{for(var a,i=Wr(Yr(e));r=!(a=yield Vr(i.next())).done;r=!1){const e=a.value;yield*Hr(Wr($r(e,t)))}}catch(l){n=!0,s=l}finally{try{r&&null!=i.return&&(yield Vr(i.return()))}finally{if(n)throw s}}});return function(t,s){return e.apply(this,arguments)}}(),Yr=function(){var e=Ur(function*(e){if(e[Symbol.asyncIterator])return void(yield*Hr(Wr(e)));const t=e.getReader();try{for(;;){const{done:e,value:s}=yield Vr(t.read());if(e)break;yield s}}finally{yield Vr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Jr=(e,t,s,r)=>{const n=Kr(e,t);let a,i=0,l=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await n.next();if(t)return l(),void e.close();let a=r.byteLength;if(s){let e=i+=a;s(e)}e.enqueue(new Uint8Array(r))}catch(t){throw l(t),t}},cancel:e=>(l(e),n.return())},{highWaterMark:2})},Gr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Xr=Gr&&"function"===typeof ReadableStream,Zr=Gr&&("function"===typeof TextEncoder?(en=new TextEncoder,e=>en.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var en;const tn=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return!!e(...s)}catch(Ue){return!1}},sn=Xr&&tn(()=>{let e=!1;const t=new Request(ur.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),rn=Xr&&tn(()=>Us.isReadableStream(new Response("").body)),nn={stream:rn&&(e=>e.body)};var an;Gr&&(an=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!nn[e]&&(nn[e]=Us.isFunction(an[e])?t=>t[e]():(t,s)=>{throw new Ws("Response type '".concat(e,"' is not supported"),Ws.ERR_NOT_SUPPORT,s)})}));const ln=async(e,t)=>{const s=Us.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(Us.isBlob(e))return e.size;if(Us.isSpecCompliantForm(e)){const t=new Request(ur.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Us.isArrayBufferView(e)||Us.isArrayBuffer(e)?e.byteLength:(Us.isURLSearchParams(e)&&(e+=""),Us.isString(e)?(await Zr(e)).byteLength:void 0)})(t):s},on=Gr&&(async e=>{let{url:t,method:s,data:r,signal:n,cancelToken:a,timeout:i,onDownloadProgress:l,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=Br(e);c=c?(c+"").toLowerCase():"text";let h,f=Ir([n,a&&a.toAbortSignal()],i);const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let x;try{if(o&&sn&&"get"!==s&&"head"!==s&&0!==(x=await ln(d,r))){let e,s=new Request(t,{method:"POST",body:r,duplex:"half"});if(Us.isFormData(r)&&(e=s.headers.get("content-type"))&&d.setContentType(e),s.body){const[e,t]=Pr(x,Ar(Or(o)));r=Jr(s.body,65536,e,t)}}Us.isString(u)||(u=u?"include":"omit");const n="credentials"in Request.prototype;h=new Request(t,Me(Me({},m),{},{signal:f,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:n?u:void 0}));let a=await fetch(h,m);const i=rn&&("stream"===c||"response"===c);if(rn&&(l||i&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=Us.toFiniteNumber(a.headers.get("content-length")),[s,r]=l&&Pr(t,Ar(Or(l),!0))||[];a=new Response(Jr(a.body,65536,s,()=>{r&&r(),p&&p()}),e)}c=c||"text";let g=await nn[Us.findKey(nn,c)||"text"](a,e);return!i&&p&&p(),await new Promise((t,s)=>{Cr(t,s,{data:g,headers:jr.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})})}catch(g){if(p&&p(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new Ws("Network Error",Ws.ERR_NETWORK,e,h),{cause:g.cause||g});throw Ws.from(g,g&&g.code,e,h)}}),cn={http:null,xhr:zr,fetch:on};Us.forEach(cn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ue){}Object.defineProperty(e,"adapterName",{value:t})}});const dn=e=>"- ".concat(e),un=e=>Us.isFunction(e)||null===e||!1===e,mn=e=>{e=Us.isArray(e)?e:[e];const{length:t}=e;let s,r;const n={};for(let a=0;a<t;a++){let t;if(s=e[a],r=s,!un(s)&&(r=cn[(t=String(s)).toLowerCase()],void 0===r))throw new Ws("Unknown adapter '".concat(t,"'"));if(r)break;n[t||"#"+a]=r}if(!r){const e=Object.entries(n).map(e=>{let[t,s]=e;return"adapter ".concat(t," ")+(!1===s?"is not supported by the environment":"is not available in the build")});let s=t?e.length>1?"since :\n"+e.map(dn).join("\n"):" "+dn(e[0]):"as no adapter specified";throw new Ws("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r};function hn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kr(null,e)}function fn(e){hn(e),e.headers=jr.from(e.headers),e.data=Nr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return mn(e.adapter||fr.adapter)(e).then(function(t){return hn(e),t.data=Nr.call(e,e.transformResponse,t),t.headers=jr.from(t.headers),t},function(t){return wr(t)||(hn(e),t&&t.response&&(t.response.data=Nr.call(e,e.transformResponse,t.response),t.response.headers=jr.from(t.response.headers))),Promise.reject(t)})}const pn="1.11.0",xn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xn[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const gn={};xn.transitional=function(e,t,s){function r(e,t){return"[Axios v"+pn+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,n,a)=>{if(!1===e)throw new Ws(r(n," has been removed"+(t?" in "+t:"")),Ws.ERR_DEPRECATED);return t&&!gn[n]&&(gn[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,n,a)}},xn.spelling=function(e){return(t,s)=>(console.warn("".concat(s," is likely a misspelling of ").concat(e)),!0)};const yn={assertOptions:function(e,t,s){if("object"!==typeof e)throw new Ws("options must be an object",Ws.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const a=r[n],i=t[a];if(i){const t=e[a],s=void 0===t||i(t,a,e);if(!0!==s)throw new Ws("option "+a+" must be "+s,Ws.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new Ws("Unknown option "+a,Ws.ERR_BAD_OPTION)}},validators:xn},vn=yn.validators;class bn{constructor(e){this.defaults=e||{},this.interceptors={request:new rr,response:new rr}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(Ue){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Dr(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:n}=t;void 0!==s&&yn.assertOptions(s,{silentJSONParsing:vn.transitional(vn.boolean),forcedJSONParsing:vn.transitional(vn.boolean),clarifyTimeoutError:vn.transitional(vn.boolean)},!1),null!=r&&(Us.isFunction(r)?t.paramsSerializer={serialize:r}:yn.assertOptions(r,{encode:vn.function,serialize:vn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),yn.assertOptions(t,{baseUrl:vn.spelling("baseURL"),withXsrfToken:vn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=n&&Us.merge(n.common,n[t.method]);n&&Us.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=jr.concat(a,n);const i=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[fn.bind(this),void 0];for(e.unshift(...i),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=fn.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return sr(Fr((e=Dr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Us.forEach(["delete","get","head","options"],function(e){bn.prototype[e]=function(t,s){return this.request(Dr(s||{},{method:e,url:t,data:(s||{}).data}))}}),Us.forEach(["post","put","patch"],function(e){function t(t){return function(s,r,n){return this.request(Dr(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:r}))}}bn.prototype[e]=t(),bn.prototype[e+"Form"]=t(!0)});const jn=bn;class Nn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{s.subscribe(e),t=e}).then(e);return r.cancel=function(){s.unsubscribe(t)},r},e(function(e,r,n){s.reason||(s.reason=new kr(e,r,n),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Nn(function(t){e=t});return{token:t,cancel:e}}}const wn=Nn;const Sn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sn).forEach(e=>{let[t,s]=e;Sn[s]=t});const kn=Sn;const Cn=function e(t){const s=new jn(t),r=ss(jn.prototype.request,s);return Us.extend(r,jn.prototype,s,{allOwnKeys:!0}),Us.extend(r,s,null,{allOwnKeys:!0}),r.create=function(s){return e(Dr(t,s))},r}(fr);Cn.Axios=jn,Cn.CanceledError=kr,Cn.CancelToken=wn,Cn.isCancel=wr,Cn.VERSION=pn,Cn.toFormData=Js,Cn.AxiosError=Ws,Cn.Cancel=Cn.CanceledError,Cn.all=function(e){return Promise.all(e)},Cn.spread=function(e){return function(t){return e.apply(null,t)}},Cn.isAxiosError=function(e){return Us.isObject(e)&&!0===e.isAxiosError},Cn.mergeConfig=Dr,Cn.AxiosHeaders=jr,Cn.formToJSON=e=>mr(Us.isHTMLForm(e)?new FormData(e):e),Cn.getAdapter=mn,Cn.HttpStatusCode=kn,Cn.default=Cn;const En=Cn;console.log("API Service - Environment variables:",{REACT_APP_API_URL:"https://ff-shift.vercel.app/api",NODE_ENV:"production",fallback:"/api"});const _n=En.create({baseURL:"https://ff-shift.vercel.app/api",timeout:1e4,headers:{"Content-Type":"application/json"}});console.log("API Service - Final baseURL:",_n.defaults.baseURL),_n.interceptors.request.use(e=>{const t=localStorage.getItem("token");var s;(console.log("API Request Interceptor:",{url:e.url,method:e.method,hasToken:!!t,tokenLength:null===t||void 0===t?void 0:t.length,tokenPreview:(null===t||void 0===t?void 0:t.substring(0,20))+"..."}),t)?(e.headers.Authorization="Bearer ".concat(t),console.log("API Request Interceptor: Authorization header set:",(null===(s=e.headers.Authorization)||void 0===s?void 0:s.substring(0,30))+"...")):console.log("API Request Interceptor: No token found in localStorage");return e},e=>Promise.reject(e)),_n.interceptors.response.use(e=>e,async e=>{var t,s;const r=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&!r._retry){var n,a,i,l,o,c,d,u;if(r._retry=!0,"TOKEN_MALFORMED"===(null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.code)||null!==(i=e.response)&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&null!==(o=l.error)&&void 0!==o&&o.includes("malformed")||null!==(c=e.response)&&void 0!==c&&null!==(d=c.data)&&void 0!==d&&null!==(u=d.error)&&void 0!==u&&u.includes("Invalid refresh token format"))return console.log("Malformed token detected, clearing tokens..."),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),delete _n.defaults.headers.common.Authorization,"/login"!==window.location.pathname&&(window.location.href="/login"),Promise.reject(e);try{const e=localStorage.getItem("refreshToken");if(e){const t=await En.post("".concat(_n.defaults.baseURL,"/auth/refresh"),{refreshToken:e}),{token:s,refreshToken:n}=t.data;return localStorage.setItem("token",s),localStorage.setItem("refreshToken",n),r.headers.Authorization="Bearer ".concat(s),_n(r)}}catch(m){return localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),"/login"!==window.location.pathname&&(window.location.href="/login"),Promise.reject(m)}}return null!==(s=e.response)&&void 0!==s&&s.data&&"object"===typeof e.response.data&&!e.response.data.error&&e.response.data.message&&(e.response.data.error=e.response.data.message),Promise.reject(e)});const An={profile:"/users/profile",preferences:"/users/preferences",changePassword:"/users/change-password",bidHistory:"/users/bid-history",bidStatus:"/users/bid-status",seniority:"/users/seniority"},Pn={list:"/bid-sessions",create:"/bid-sessions",current:"/bid-sessions/current",detail:e=>"/bid-sessions/".concat(e),update:e=>"/bid-sessions/".concat(e),delete:e=>"/bid-sessions/".concat(e),participants:e=>"/bid-sessions/".concat(e,"/participants"),start:e=>"/bid-sessions/".concat(e,"/start"),pause:e=>"/bid-sessions/".concat(e,"/pause"),resume:e=>"/bid-sessions/".concat(e,"/resume"),moveToBack:e=>"/bid-sessions/".concat(e,"/move-to-back"),checkTimeExpiration:e=>"/bid-sessions/".concat(e,"/check-time-expiration"),myParticipation:e=>"/bid-sessions/".concat(e,"/my-participation"),history:e=>"/bid-sessions-history?sessionId=".concat(e),submitBid:"/bid-sessions/submit-bid"},On=_n;var Tn=s(414);const Rn="SET_LOADING",Fn="SET_USER",Ln="SET_TOKEN",Dn="LOGOUT",Bn="UPDATE_USER",zn={user:null,token:localStorage.getItem("token"),loading:!0},In=(e,t)=>{switch(t.type){case Rn:return Me(Me({},e),{},{loading:t.payload});case Fn:return Me(Me({},e),{},{user:t.payload,loading:!1});case Ln:return Me(Me({},e),{},{token:t.payload});case Dn:return Me(Me({},e),{},{user:null,token:null,loading:!1});case Bn:return Me(Me({},e),{},{user:Me(Me({},e.user),t.payload)});default:return e}},Mn=(0,n.createContext)(),Un=e=>{var t;let{children:s}=e;const[r,a]=(0,n.useReducer)(In,zn),i=se();(0,n.useEffect)(()=>{r.token?On.defaults.headers.common.Authorization="Bearer ".concat(r.token):delete On.defaults.headers.common.Authorization},[r.token]),(0,n.useEffect)(()=>{(async()=>{if(localStorage.getItem("token"))try{const e=await On.get("/auth/me");a({type:Fn,payload:e.data.user})}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),a({type:Dn})}else a({type:Rn,payload:!1})})()},[]),(0,n.useEffect)(()=>{const e=localStorage.getItem("token");e&&(e.length<10||!e.includes("."))&&(console.log("Detected malformed token, clearing..."),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),a({type:Dn}))},[]);const l=async()=>{try{await On.post("/auth/logout")}catch(e){console.error("Logout API call failed:",e)}localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),a({type:Dn}),delete On.defaults.headers.common.Authorization,Ot.success("Logged out successfully"),i("/login")},o={user:r.user,token:r.token,loading:r.loading,isAuthenticated:!!r.user,isAdmin:(null===(t=r.user)||void 0===t?void 0:t.isAdmin)||!1,login:async(e,t)=>{try{var s,r;console.log("AuthContext: Starting login process"),console.log("AuthContext: API base URL:",On.defaults.baseURL),a({type:Rn,payload:!0}),console.log("AuthContext: Making API call to /auth/login");const n=await On.post("/auth/login",{email:e,password:t});console.log("AuthContext: API response received:",n.data);const{user:l,token:o,refreshToken:c}=n.data;return console.log("AuthContext: Tokens received:",{tokenLength:null===o||void 0===o?void 0:o.length,refreshTokenLength:null===c||void 0===c?void 0:c.length,tokenPreview:(null===o||void 0===o?void 0:o.substring(0,20))+"...",refreshTokenPreview:(null===c||void 0===c?void 0:c.substring(0,20))+"..."}),localStorage.setItem("token",o),localStorage.setItem("refreshToken",c),console.log("AuthContext: Tokens stored in localStorage"),console.log("AuthContext: localStorage token:",(null===(s=localStorage.getItem("token"))||void 0===s?void 0:s.substring(0,20))+"..."),On.defaults.headers.common.Authorization="Bearer ".concat(o),console.log("AuthContext: Authorization header set:",(null===(r=On.defaults.headers.common.Authorization)||void 0===r?void 0:r.substring(0,30))+"..."),a({type:Fn,payload:l}),Ot.success("Login successful!"),i("/dashboard"),{success:!0,user:l,token:o,refreshToken:c}}catch(x){var n,l,o,c,d,u,m,h,f,p;return console.error("AuthContext: Login error:",{message:x.message,status:null===(n=x.response)||void 0===n?void 0:n.status,statusText:null===(l=x.response)||void 0===l?void 0:l.statusText,data:null===(o=x.response)||void 0===o?void 0:o.data,config:{url:null===(c=x.config)||void 0===c?void 0:c.url,method:null===(d=x.config)||void 0===d?void 0:d.method,baseURL:null===(u=x.config)||void 0===u?void 0:u.baseURL}}),a({type:Rn,payload:!1}),Ot.error((null===(m=x.response)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.error)||x.message||"Login failed"),{success:!1,error:(null===(f=x.response)||void 0===f||null===(p=f.data)||void 0===p?void 0:p.error)||x.message}}},register:async e=>{try{a({type:Rn,payload:!0});const t=await On.post("/auth/register",e),{user:s,token:r,refreshToken:n}=t.data;return localStorage.setItem("token",r),localStorage.setItem("refreshToken",n),a({type:Ln,payload:r}),a({type:Fn,payload:s}),Ot.success("Registration successful!"),i("/dashboard"),{success:!0}}catch(l){var t,s,r,n;a({type:Rn,payload:!1});let e="Registration failed";return null!==(t=l.response)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.error?e=l.response.data.error:null!==(r=l.response)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.message?e=l.response.data.message:l.message&&(e=l.message),Ot.error(e),{success:!1,error:e}}},logout:l,refreshToken:async()=>{try{const e=localStorage.getItem("refreshToken");if(!e)throw new Error("No refresh token available");const t=await On.post("/auth/refresh",{refreshToken:e}),{token:s,refreshToken:r}=t.data;return localStorage.setItem("token",s),localStorage.setItem("refreshToken",r),a({type:Ln,payload:s}),{success:!0}}catch(e){return console.error("Token refresh failed:",e),l(),{success:!1}}},updateProfile:async e=>{try{const t=(await On.put("/users/profile",e)).data.user;return a({type:Bn,payload:t}),Ot.success("Profile updated successfully"),{success:!0}}catch(r){var t,s;const e=(null===(t=r.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Profile update failed";return Ot.error(e),{success:!1,error:e}}},changePassword:async(e,t)=>{try{return await On.put("/users/change-password",{currentPassword:e,newPassword:t}),Ot.success("Password changed successfully"),{success:!0}}catch(n){var s,r;const e=(null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||"Password change failed";return Ot.error(e),{success:!1,error:e}}},forgotPassword:async e=>{try{return await On.post("/auth/forgot-password",{email:e}),Ot.success("Password reset email sent"),{success:!0}}catch(r){var t,s;const e=(null===(t=r.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to send reset email";return Ot.error(e),{success:!1,error:e}}},resetPassword:async(e,t)=>{try{return await On.post("/auth/reset-password/".concat(e),{password:t}),Ot.success("Password reset successfully"),{success:!0}}catch(n){var s,r;const e=(null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||"Password reset failed";return Ot.error(e),{success:!1,error:e}}},forceClearTokens:()=>{console.log("Force clearing all tokens..."),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),delete On.defaults.headers.common.Authorization,a({type:Dn}),window.location.reload()}};return(0,Tn.jsx)(Mn.Provider,{value:o,children:s})},qn=()=>{const e=(0,n.useContext)(Mn);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Vn=Object.create(null);Vn.open="0",Vn.close="1",Vn.ping="2",Vn.pong="3",Vn.message="4",Vn.upgrade="5",Vn.noop="6";const Hn=Object.create(null);Object.keys(Vn).forEach(e=>{Hn[Vn[e]]=e});const Wn={type:"error",data:"parser error"},Qn="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),$n="function"===typeof ArrayBuffer,Kn=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Yn=(e,t,s)=>{let{type:r,data:n}=e;return Qn&&n instanceof Blob?t?s(n):Jn(n,s):$n&&(n instanceof ArrayBuffer||Kn(n))?t?s(n):Jn(new Blob([n]),s):s(Vn[r]+(n||""))},Jn=(e,t)=>{const s=new FileReader;return s.onload=function(){const e=s.result.split(",")[1];t("b"+(e||""))},s.readAsDataURL(e)};function Gn(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Xn;const Zn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ea="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let s=0;s<64;s++)ea[Zn.charCodeAt(s)]=s;const ta="function"===typeof ArrayBuffer,sa=(e,t)=>{if("string"!==typeof e)return{type:"message",data:na(e,t)};const s=e.charAt(0);if("b"===s)return{type:"message",data:ra(e.substring(1),t)};return Hn[s]?e.length>1?{type:Hn[s],data:e.substring(1)}:{type:Hn[s]}:Wn},ra=(e,t)=>{if(ta){const s=(e=>{let t,s,r,n,a,i=.75*e.length,l=e.length,o=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<l;t+=4)s=ea[e.charCodeAt(t)],r=ea[e.charCodeAt(t+1)],n=ea[e.charCodeAt(t+2)],a=ea[e.charCodeAt(t+3)],d[o++]=s<<2|r>>4,d[o++]=(15&r)<<4|n>>2,d[o++]=(3&n)<<6|63&a;return c})(e);return na(s,t)}return{base64:!0,data:e}},na=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,aa=String.fromCharCode(30);function ia(){return new TransformStream({transform(e,t){!function(e,t){Qn&&e.data instanceof Blob?e.data.arrayBuffer().then(Gn).then(t):$n&&(e.data instanceof ArrayBuffer||Kn(e.data))?t(Gn(e.data)):Yn(e,!1,e=>{Xn||(Xn=new TextEncoder),t(Xn.encode(e))})}(e,s=>{const r=s.length;let n;if(r<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,r);else if(r<65536){n=new Uint8Array(3);const e=new DataView(n.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{n=new Uint8Array(9);const e=new DataView(n.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(n[0]|=128),t.enqueue(n),t.enqueue(s)})}})}let la;function oa(e){return e.reduce((e,t)=>e+t.length,0)}function ca(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let r=0;for(let n=0;n<t;n++)s[n]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),s}function da(e){if(e)return function(e){for(var t in da.prototype)e[t]=da.prototype[t];return e}(e)}da.prototype.on=da.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},da.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this},da.prototype.off=da.prototype.removeListener=da.prototype.removeAllListeners=da.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<r.length;n++)if((s=r[n])===t||s.fn===t){r.splice(n,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},da.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(s){r=0;for(var n=(s=s.slice(0)).length;r<n;++r)s[r].apply(this,t)}return this},da.prototype.emitReserved=da.prototype.emit,da.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},da.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ua="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ma="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function ha(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return s.reduce((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t),{})}const fa=ma.setTimeout,pa=ma.clearTimeout;function xa(e,t){t.useNativeTimers?(e.setTimeoutFn=fa.bind(ma),e.clearTimeoutFn=pa.bind(ma)):(e.setTimeoutFn=ma.setTimeout.bind(ma),e.clearTimeoutFn=ma.clearTimeout.bind(ma))}function ga(e){return"string"===typeof e?function(e){let t=0,s=0;for(let r=0,n=e.length;r<n;r++)t=e.charCodeAt(r),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(r++,s+=4);return s}(e):Math.ceil(1.33*(e.byteLength||e.size))}function ya(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class va extends Error{constructor(e,t,s){super(e),this.description=t,this.context=s,this.type="TransportError"}}class ba extends da{constructor(e){super(),this.writable=!1,xa(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,s){return super.emitReserved("error",new va(e,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=sa(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}(e);return t.length?"?"+t:""}}class ja extends ba{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const s=e.split(aa),r=[];for(let n=0;n<s.length;n++){const e=sa(s[n],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const s=e.length,r=new Array(s);let n=0;e.forEach((e,a)=>{Yn(e,!1,e=>{r[a]=e,++n===s&&t(r.join(aa))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ya()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Na=!1;try{Na="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Nd){}const wa=Na;function Sa(){}class ka extends ja{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let s=location.port;s||(s=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,t){const s=this.request({method:"POST",data:e});s.on("success",t),s.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class Ca extends da{constructor(e,t,s){super(),this.createRequest=e,xa(this,s),this._opts=s,this._method=s.method||"GET",this._uri=t,this._data=void 0!==s.data?s.data:null,this._create()}_create(){var e;const t=ha(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(t);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&s.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Ue){}if("POST"===this._method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Ue){}try{s.setRequestHeader("Accept","*/*")}catch(Ue){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var e;3===s.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(s.getResponseHeader("set-cookie"))),4===s.readyState&&(200===s.status||1223===s.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof s.status?s.status:0)},0))},s.send(this._data)}catch(Ue){return void this.setTimeoutFn(()=>{this._onError(Ue)},0)}"undefined"!==typeof document&&(this._index=Ca.requestsCount++,Ca.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Sa,e)try{this._xhr.abort()}catch(Ue){}"undefined"!==typeof document&&delete Ca.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Ca.requestsCount=0,Ca.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Ea);else if("function"===typeof addEventListener){addEventListener("onpagehide"in ma?"pagehide":"unload",Ea,!1)}function Ea(){for(let e in Ca.requests)Ca.requests.hasOwnProperty(e)&&Ca.requests[e].abort()}const _a=function(){const e=Aa({xdomain:!1});return e&&null!==e.responseType}();function Aa(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||wa))return new XMLHttpRequest}catch(Ue){}if(!t)try{return new(ma[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Ue){}}const Pa="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Oa extends ba{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,s=Pa?{}:ha(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,s)}catch(Nd){return this.emitReserved("error",Nd)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],r=t===e.length-1;Yn(s,this.supportsBinary,e=>{try{this.doWrite(s,e)}catch(Ue){}r&&ua(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ya()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Ta=ma.WebSocket||ma.MozWebSocket;const Ra={websocket:class extends Oa{createSocket(e,t,s){return Pa?new Ta(e,t,s):t?new Ta(e,t):new Ta(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends ba{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Nd){return this.emitReserved("error",Nd)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){la||(la=new TextDecoder);const s=[];let r=0,n=-1,a=!1;return new TransformStream({transform(i,l){for(s.push(i);;){if(0===r){if(oa(s)<1)break;const e=ca(s,1);a=128===(128&e[0]),n=127&e[0],r=n<126?3:126===n?1:2}else if(1===r){if(oa(s)<2)break;const e=ca(s,2);n=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(oa(s)<8)break;const e=ca(s,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){l.enqueue(Wn);break}n=a*Math.pow(2,32)+t.getUint32(4),r=3}else{if(oa(s)<n)break;const e=ca(s,n);l.enqueue(sa(a?e:la.decode(e),t)),r=0}if(0===n||n>e){l.enqueue(Wn);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(t).getReader(),r=ia();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const n=()=>{s.read().then(e=>{let{done:t,value:s}=e;t||(this.onPacket(s),n())}).catch(e=>{})};n();const a={type:"open"};this.query.sid&&(a.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],r=t===e.length-1;this._writer.write(s).then(()=>{r&&ua(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends ka{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=_a&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Ca(Aa,this.uri(),e)}}},Fa=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,La=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Da(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),r=e.indexOf("]");-1!=s&&-1!=r&&(e=e.substring(0,s)+e.substring(s,r).replace(/:/g,";")+e.substring(r,e.length));let n=Fa.exec(e||""),a={},i=14;for(;i--;)a[La[i]]=n[i]||"";return-1!=s&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const s=/\/{2,9}/g,r=t.replace(s,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(s[t]=r)}),s}(0,a.query),a}const Ba="function"===typeof addEventListener&&"function"===typeof removeEventListener,za=[];Ba&&addEventListener("offline",()=>{za.forEach(e=>e())},!1);class Ia extends da{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const s=Da(e);t.hostname=s.host,t.secure="https"===s.protocol||"wss"===s.protocol,t.port=s.port,s.query&&(t.query=s.query)}else t.host&&(t.hostname=Da(t.host).host);xa(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},s=e.split("&");for(let r=0,n=s.length;r<n;r++){let e=s[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Ba&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},za.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&Ia.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Ia.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const s=this.writeBuffer[t].data;if(s&&(e+=ga(s)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ua(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,s){return this._sendPacket("message",e,t,s),this}send(e,t,s){return this._sendPacket("message",e,t,s),this}_sendPacket(e,t,s,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof s&&(r=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const n={type:e,data:t,options:s};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Ia.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ba&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=za.indexOf(this._offlineEventListener);-1!==e&&za.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Ia.protocol=4;class Ma extends Ia{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),s=!1;Ia.priorWebsocketSuccess=!1;const r=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!s)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ia.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{s||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function n(){s||(s=!0,c(),t.close(),t=null)}const a=e=>{const s=new Error("probe error: "+e);s.transport=t.name,n(),this.emitReserved("upgradeError",s)};function i(){a("transport closed")}function l(){a("socket closed")}function o(e){t&&e.name!==t.name&&n()}const c=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",i),this.off("close",l),this.off("upgrading",o)};t.once("open",r),t.once("error",a),t.once("close",i),this.once("close",l),this.once("upgrading",o),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&t.push(e[s]);return t}}class Ua extends Ma{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>Ra[e]).filter(e=>!!e)),super(e,t)}}const qa="function"===typeof ArrayBuffer,Va=Object.prototype.toString,Ha="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Va.call(Blob),Wa="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Va.call(File);function Qa(e){return qa&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Ha&&e instanceof Blob||Wa&&e instanceof File}function $a(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,s=e.length;t<s;t++)if($a(e[t]))return!0;return!1}if(Qa(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return $a(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&$a(e[s]))return!0;return!1}function Ka(e){const t=[],s=e.data,r=e;return r.data=Ya(s,t),r.attachments=t.length,{packet:r,buffers:t}}function Ya(e,t){if(!e)return e;if(Qa(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}if(Array.isArray(e)){const s=new Array(e.length);for(let r=0;r<e.length;r++)s[r]=Ya(e[r],t);return s}if("object"===typeof e&&!(e instanceof Date)){const s={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=Ya(e[r],t));return s}return e}function Ja(e,t){return e.data=Ga(e.data,t),delete e.attachments,e}function Ga(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Ga(e[s],t);else if("object"===typeof e)for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Ga(e[s],t));return e}const Xa=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Za=5;var ei;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ei||(ei={}));class ti{constructor(e){this.replacer=e}encode(e){return e.type!==ei.EVENT&&e.type!==ei.ACK||!$a(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ei.EVENT?ei.BINARY_EVENT:ei.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ei.BINARY_EVENT&&e.type!==ei.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Ka(e),s=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(s),r}}function si(e){return"[object Object]"===Object.prototype.toString.call(e)}class ri extends da{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const s=t.type===ei.BINARY_EVENT;s||t.type===ei.BINARY_ACK?(t.type=s?ei.EVENT:ei.ACK,this.reconstructor=new ni(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Qa(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(void 0===ei[s.type])throw new Error("unknown packet type "+s.type);if(s.type===ei.BINARY_EVENT||s.type===ei.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const n=e.substring(r,t);if(n!=Number(n)||"-"!==e.charAt(t))throw new Error("Illegal attachments");s.attachments=Number(n)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}s.nsp=e.substring(r,t)}else s.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const s=e.charAt(t);if(null==s||Number(s)!=s){--t;break}if(t===e.length)break}s.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!ri.isPayloadValid(s.type,r))throw new Error("invalid payload");s.data=r}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Ue){return!1}}static isPayloadValid(e,t){switch(e){case ei.CONNECT:return si(t);case ei.DISCONNECT:return void 0===t;case ei.CONNECT_ERROR:return"string"===typeof t||si(t);case ei.EVENT:case ei.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Xa.indexOf(t[0]));case ei.ACK:case ei.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ni{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Ja(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ai(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const ii=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class li extends da{constructor(e,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ai(e,"open",this.onopen.bind(this)),ai(e,"packet",this.onpacket.bind(this)),ai(e,"error",this.onerror.bind(this)),ai(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,s,r;if(ii.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const l={type:ei.EVENT,data:a,options:{}};if(l.options.compress=!1!==this.flags.compress,"function"===typeof a[a.length-1]){const e=this.ids++,t=a.pop();this._registerAckCallback(e,t),l.id=e}const o=null===(s=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===s?void 0:s.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,t){var s,r=this;const n=null!==(s=this.flags.timeout)&&void 0!==s?s:this._opts.ackTimeout;if(void 0===n)return void(this.acks[e]=t);const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},n),i=function(){r.io.clearTimeoutFn(a);for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];t.apply(r,s)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return new Promise((t,r)=>{const n=(e,s)=>e?r(e):t(s);n.withError=!0,s.push(n),this.emit(e,...s)})}_addToQueue(e){var t=this;let s;"function"===typeof e[e.length-1]&&(s=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),s&&s(e));else if(t._queue.shift(),s){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];s(null,...a)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ei.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ei.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ei.EVENT:case ei.BINARY_EVENT:this.onevent(e);break;case ei.ACK:case ei.BINARY_ACK:this.onack(e);break;case ei.DISCONNECT:this.ondisconnect();break;case ei.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let s=!1;return function(){if(!s){s=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.packet({type:ei.ACK,id:e,data:n})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ei.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,e.data)}}}function oi(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}oi.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-s:e+s}return 0|Math.min(e,this.max)},oi.prototype.reset=function(){this.attempts=0},oi.prototype.setMin=function(e){this.ms=e},oi.prototype.setMax=function(e){this.max=e},oi.prototype.setJitter=function(e){this.jitter=e};class ci extends da{constructor(e,s){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(s=e,e=void 0),(s=s||{}).path=s.path||"/socket.io",this.opts=s,xa(this,s),this.reconnection(!1!==s.reconnection),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=s.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new oi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==s.timeout?2e4:s.timeout),this._readyState="closed",this.uri=e;const n=s.parser||t;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==s.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ua(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=ai(t,"open",function(){s.onopen(),e&&e()}),n=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=ai(t,"error",n);if(!1!==this._timeout){const e=this._timeout,s=this.setTimeoutFn(()=>{r(),n(new Error("timeout")),t.close()},e);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ai(e,"ping",this.onping.bind(this)),ai(e,"data",this.ondata.bind(this)),ai(e,"error",this.onerror.bind(this)),ai(e,"close",this.onclose.bind(this)),ai(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Ue){this.onclose("parse error",Ue)}}ondecoded(e){ua(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new li(this,e,t),this.nsps[e]=s),s}_destroy(e){const t=Object.keys(this.nsps);for(const s of t){if(this.nsps[s].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let s=0;s<t.length;s++)this.engine.write(t[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var s;this.cleanup(),null===(s=this.engine)||void 0===s||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const di={};function ui(e,t){"object"===typeof e&&(t=e,e=void 0);const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0,r=e;s=s||"undefined"!==typeof location&&location,null==e&&(e=s.protocol+"//"+s.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?s.protocol+e:s.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof s?s.protocol+"//"+e:"https://"+e),r=Da(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const n=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+n+":"+r.port+t,r.href=r.protocol+"://"+n+(s&&s.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=s.source,n=s.id,a=s.path,i=di[n]&&a in di[n].nsps;let l;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?l=new ci(r,t):(di[n]||(di[n]=new ci(r,t)),l=di[n]),s.query&&!t.query&&(t.query=s.queryKey),l.socket(s.path,t)}Object.assign(ui,{Manager:ci,Socket:li,io:ui,connect:ui});const mi=(0,n.createContext)(),hi=()=>{const e=(0,n.useContext)(mi);if(!e)throw new Error("useSocket must be used within a SocketProvider");return e},fi=e=>{let{children:t}=e;const[s,r]=(0,n.useState)(null),[a,i]=(0,n.useState)(!1),{user:l,token:o}=qn();(0,n.useEffect)(()=>{if(!l||!o)return;const e=ui("https://ff-shift.vercel.app/api",{auth:{token:o},transports:["websocket","polling"],autoConnect:!0});return e.on("connect",()=>{console.log("Socket connected:",e.id),i(!0),e.emit("join-user-room",{userId:l._id}),ts.success("Connected to real-time updates")}),e.on("disconnect",t=>{console.log("Socket disconnected:",t),i(!1),"io server disconnect"===t&&e.connect()}),e.on("connect_error",e=>{console.error("Socket connection error:",e),i(!1),"Authentication failed"===e.message?ts.error("Authentication failed. Please log in again."):ts.error("Connection failed. Trying to reconnect...")}),e.on("new-bid-session",t=>{ts.success('New bid session "'.concat(t.sessionName,'" has been created!'),{duration:6e3,action:{label:"View",onClick:()=>{window.location.href="/bidding"}}}),t.sessionId&&e.emit("join-bid-session",{sessionId:t.sessionId})}),e.on("bid-session-started",e=>{ts.success('Bid session "'.concat(e.sessionName,'" has started!'),{duration:6e3,action:{label:"Join Session",onClick:()=>{window.location.href="/bidding"}}})}),e.on("bid-session-paused",e=>{ts('Bid session "'.concat(e.sessionName,'" has been paused'),{duration:4e3,action:{label:"View",onClick:()=>{window.location.href="/bidding"}}})}),e.on("bid-session-resumed",e=>{ts.success('Bid session "'.concat(e.sessionName,'" has resumed'),{duration:4e3,action:{label:"Join Session",onClick:()=>{window.location.href="/bidding"}}})}),e.on("bid-session-completed",e=>{ts.success('Bid session "'.concat(e.sessionName,'" has completed!'),{duration:6e3,action:{label:"View Results",onClick:()=>{window.location.href="/bidding"}}})}),e.on("bid-session-created",e=>{null!==l&&void 0!==l&&l.isAdmin&&ts.success('Bid session "'.concat(e.sessionName,'" created with ').concat(e.participantCount," participants"),{duration:5e3})}),e.on("bid-session-deleted",e=>{null!==l&&void 0!==l&&l.isAdmin&&ts('Bid session "'.concat(e.sessionName,'" has been deleted'),{duration:4e3})}),e.on("added-to-bid-session",e=>{ts.success('You have been added to bid session "'.concat(e.sessionName,'"!'),{duration:6e3,action:{label:"View Session",onClick:()=>{window.location.href="/bidding"}}})}),e.on("auto-join-bid-session",t=>{console.log("Auto-joining bid session:",t.sessionId),e.emit("auto_join_bid_session",{sessionId:t.sessionId})}),e.on("participants-added",e=>{null!==l&&void 0!==l&&l.isAdmin&&ts.success("".concat(e.addedCount,' participants added to "').concat(e.sessionName,'" (Total: ').concat(e.totalParticipants,")"),{duration:5e3})}),e.on("turn-starting-soon",e=>{ts("Your turn is starting in ".concat(e.countdown," minutes"),{duration:1e4,action:{label:"Join Now",onClick:()=>{window.location.href="/bidding"}}})}),e.on("turn-timeout-warning",e=>{ts.error("Warning: Your turn will end in ".concat(e.remainingTime," seconds!"),{duration:5e3,action:{label:"Bid Now",onClick:()=>{window.location.href="/bidding"}}})}),e.on("turn-started",e=>{e.userId===(null===l||void 0===l?void 0:l._id)?ts.success("It's your turn to bid! You have ".concat(Math.floor(e.duration/60)," minutes."),{duration:8e3,action:{label:"Start Bidding",onClick:()=>{window.location.href="/bidding"}}}):ts("".concat(e.userName,"'s turn has started"),{duration:4e3,action:{label:"Watch Session",onClick:()=>{window.location.href="/bidding"}}})}),e.on("turn-updated",e=>{console.log("Turn updated:",e)}),e.on("user_joined_session",e=>{console.log("User joined session:",e)}),e.on("user_left_session",e=>{console.log("User left session:",e)}),e.on("user_disconnected",e=>{console.log("User disconnected:",e)}),e.on("connected_users_list",e=>{console.log("Connected users list received:",e)}),e.on("bid-received",e=>{ts.success("Bid received for ".concat(e.station," - ").concat(e.shift," shift"))}),e.on("bid-submitted",e=>{e.userId===(null===l||void 0===l?void 0:l._id)?ts.success("Your bid for ".concat(e.station," - ").concat(e.shift," shift has been submitted successfully!")):ts("".concat(e.userName," submitted a bid for ").concat(e.station," - ").concat(e.shift," shift"))}),e.on("auto-assignment",e=>{ts.warning("You have been auto-assigned to ".concat(e.station," - ").concat(e.shift," shift due to timeout."))}),e.on("bid-conflict",e=>{ts.error("Bid conflict: ".concat(e.station," - ").concat(e.shift," shift is no longer available"))}),e.on("auto-assignment",e=>{ts("Auto-assigned to ".concat(e.station," - ").concat(e.shift," shift"))}),e.on("error",e=>{console.error("Socket error:",e),ts.error(e.message||"An error occurred")}),r(e),()=>{e.disconnect()}},[l,o]),(0,n.useEffect)(()=>{l&&o||s&&(s.disconnect(),r(null),i(!1))},[l,o,s]);const c={socket:s,isConnected:a,joinBidSession:e=>{s&&a&&(s.emit("join-bid-session",{sessionId:e}),console.log("Joined bid session room:",e))},leaveBidSession:e=>{s&&a&&(s.emit("leave-bid-session",{sessionId:e}),console.log("Left bid session room:",e))},submitBid:(e,t)=>{s&&a&&(s.emit("submit-bid",{sessionId:e,bidData:t}),console.log("Submitted bid:",t))},skipTurn:e=>{s&&a&&(s.emit("skip-turn",{sessionId:e}),console.log("Skipped turn for session:",e))},requestSessionUpdate:e=>{s&&a&&(s.emit("request-session-update",{sessionId:e}),console.log("Requested session update:",e))}};return(0,Tn.jsx)(mi.Provider,{value:c,children:t})};function pi(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var xi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gi=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],yi=(e,t)=>{const s=(0,n.forwardRef)((s,r)=>{let{color:a="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d}=s,u=pi(s,gi);return(0,n.createElement)("svg",Me(Me({ref:r},xi),{},{width:i,height:i,stroke:a,strokeWidth:o?24*Number(l)/Number(i):l,className:["lucide","lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},u),[...t.map(e=>{let[t,s]=e;return(0,n.createElement)(t,s)}),...Array.isArray(d)?d:[d]]);var m});return s.displayName="".concat(e),s},vi=yi("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),bi=yi("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ji=yi("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ni=yi("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),wi=yi("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Si=yi("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ki=yi("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Ci=yi("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ei=yi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_i=yi("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ai=yi("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Pi=e=>{let{size:t="md",className:s=""}=e;return(0,Tn.jsx)("div",{className:"".concat({sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20","2xl":"w-24 h-24"}[t]," ").concat(s),children:(0,Tn.jsxs)("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[(0,Tn.jsx)("ellipse",{cx:"50",cy:"45",rx:"35",ry:"25",fill:"#C0392B",stroke:"#A93226",strokeWidth:"2"}),(0,Tn.jsx)("path",{d:"M15 45 Q15 25 50 25 Q85 25 85 45",fill:"#C0392B",stroke:"#A93226",strokeWidth:"2"}),(0,Tn.jsx)("path",{d:"M20 40 Q20 35 50 35 Q80 35 80 40",fill:"#A93226",stroke:"#8B2A1F",strokeWidth:"1"}),(0,Tn.jsx)("path",{d:"M25 30 Q25 28 50 28 Q75 28 75 30",fill:"#A93226",stroke:"#8B2A1F",strokeWidth:"1"}),(0,Tn.jsx)("rect",{x:"15",y:"60",width:"70",height:"8",rx:"4",fill:"#A93226",stroke:"#8B2A1F",strokeWidth:"1"}),(0,Tn.jsx)("rect",{x:"45",y:"58",width:"10",height:"12",rx:"2",fill:"#8B2A1F",stroke:"#6B1F18",strokeWidth:"1"}),(0,Tn.jsx)("text",{x:"50",y:"42",textAnchor:"middle",fill:"white",fontSize:"16",fontWeight:"bold",fontFamily:"Arial, sans-serif",children:"RR"}),(0,Tn.jsx)("ellipse",{cx:"35",cy:"35",rx:"8",ry:"4",fill:"rgba(255, 255, 255, 0.3)"}),(0,Tn.jsx)("path",{d:"M30 30 Q32 28 35 28 Q38 28 40 30",fill:"rgba(255, 255, 255, 0.2)",stroke:"none"})]})})},Oi=()=>{const{user:e,logout:t}=qn(),s=ee(),r=se(),[a,i]=(0,n.useState)(!1),l=[{name:"Dashboard",href:"/dashboard",icon:vi},{name:"Bidding",href:"/bidding",icon:bi},{name:"Profile",href:"/profile",icon:ji},...null!==e&&void 0!==e&&e.isAdmin?[{name:"Admin Dashboard",href:"/admin",icon:Ni},{name:"User Management",href:"/admin/users",icon:wi},{name:"Seniority Management",href:"/admin/seniority",icon:Si},{name:"Station Management",href:"/admin/stations",icon:ki},{name:"Bid Management",href:"/admin/bid-sessions",icon:Ci}]:[]],o=async()=>{await t(),r("/login")};return(0,Tn.jsxs)("div",{className:"min-h-screen bg-rigroster-offWhite",children:[a&&(0,Tn.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-75 lg:hidden",onClick:()=>i(!1)}),(0,Tn.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden ".concat(a?"block":"hidden"),children:[(0,Tn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>i(!1)}),(0,Tn.jsxs)("div",{className:"fixed inset-y-0 left-0 w-64 bg-white shadow-lg",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-rigroster-border",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(Pi,{size:"md"}),(0,Tn.jsx)("span",{className:"text-xl font-bold text-rigroster-text",children:"RigRoster"})]}),(0,Tn.jsx)("button",{onClick:()=>i(!1),className:"p-2 text-rigroster-text hover:bg-rigroster-lightGray rounded-md",children:(0,Tn.jsx)(Ei,{className:"w-5 h-5"})})]}),(0,Tn.jsx)("nav",{className:"p-4 space-y-2",children:l.map(e=>(0,Tn.jsxs)(Oe,{to:e.href,className:"nav-link ".concat(s.pathname===e.href?"nav-link-active":""),onClick:()=>i(!1),children:[(0,Tn.jsx)(e.icon,{className:"w-5 h-5 mr-3"}),e.name]},e.name))}),(0,Tn.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-rigroster-border",children:(0,Tn.jsxs)("button",{onClick:o,className:"w-full nav-link text-left",children:[(0,Tn.jsx)(_i,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})]}),(0,Tn.jsx)("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:(0,Tn.jsxs)("div",{className:"flex flex-col flex-grow bg-white border-r border-rigroster-border",children:[(0,Tn.jsx)("div",{className:"flex items-center p-4 border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(Pi,{size:"lg"}),(0,Tn.jsx)("span",{className:"text-xl font-bold text-rigroster-text",children:"RigRoster"})]})}),(0,Tn.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:l.map(e=>(0,Tn.jsxs)(Oe,{to:e.href,className:"nav-link ".concat(s.pathname===e.href?"nav-link-active":""),children:[(0,Tn.jsx)(e.icon,{className:"w-5 h-5 mr-3"}),e.name]},e.name))}),(0,Tn.jsx)("div",{className:"p-4 border-t border-rigroster-border",children:(0,Tn.jsxs)("button",{onClick:o,className:"w-full nav-link text-left",children:[(0,Tn.jsx)(_i,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})}),(0,Tn.jsxs)("div",{className:"lg:pl-64",children:[(0,Tn.jsx)("div",{className:"sticky top-0 z-40 bg-white border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,Tn.jsx)("div",{className:"flex items-center lg:hidden",children:(0,Tn.jsx)("button",{onClick:()=>i(!0),className:"p-2 text-rigroster-text hover:bg-rigroster-lightGray rounded-md",children:(0,Tn.jsx)(Ai,{className:"w-5 h-5"})})}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)("div",{className:"text-sm text-rigroster-textLight",children:["Welcome, ",null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName]}),(null===e||void 0===e?void 0:e.isAdmin)&&(0,Tn.jsx)("span",{className:"badge badge-info",children:"Admin"})]})]})}),(0,Tn.jsx)("main",{className:"p-6",children:(0,Tn.jsx)(ve,{})})]})]})},Ti=["_f"],Ri=["name"],Fi=["_f"],Li=["ref","message","type"],Di=["formControl"];var Bi=e=>"checkbox"===e.type,zi=e=>e instanceof Date,Ii=e=>null==e;const Mi=e=>"object"===typeof e;var Ui=e=>!Ii(e)&&!Array.isArray(e)&&Mi(e)&&!zi(e),qi=e=>Ui(e)&&e.target?Bi(e.target)?e.target.checked:e.target.value:e,Vi=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Hi="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Wi(e){let t;const s=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Hi&&(e instanceof Blob||r)||!s&&!Ui(e))return e;if(t=s?[]:Object.create(Object.getPrototypeOf(e)),s||(e=>{const t=e.constructor&&e.constructor.prototype;return Ui(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const s in e)e.hasOwnProperty(s)&&(t[s]=Wi(e[s]));else t=e}return t}var Qi=e=>/^\w*$/.test(e),$i=e=>void 0===e,Ki=e=>Array.isArray(e)?e.filter(Boolean):[],Yi=e=>Ki(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ji=(e,t,s)=>{if(!t||!Ui(e))return s;const r=(Qi(t)?[t]:Yi(t)).reduce((e,t)=>Ii(e)?e:e[t],e);return $i(r)||r===e?$i(e[t])?s:e[t]:r},Gi=e=>"boolean"===typeof e,Xi=(e,t,s)=>{let r=-1;const n=Qi(t)?[t]:Yi(t),a=n.length,i=a-1;for(;++r<a;){const t=n[r];let a=s;if(r!==i){const s=e[t];a=Ui(s)||Array.isArray(s)?s:isNaN(+n[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=a,e=e[t]}};const Zi="blur",el="focusout",tl="onBlur",sl="onChange",rl="onSubmit",nl="onTouched",al="all",il="max",ll="min",ol="maxLength",cl="minLength",dl="pattern",ul="required",ml="validate",hl=n.createContext(null);hl.displayName="HookFormContext";var fl=function(e,t,s){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const n={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const n=a;return t._proxyFormState[n]!==al&&(t._proxyFormState[n]=!r||al),s&&(s[n]=!0),e[n]}});return n};const pl="undefined"!==typeof window?n.useLayoutEffect:n.useEffect;var xl=e=>"string"===typeof e,gl=(e,t,s,r,n)=>xl(e)?(r&&t.watch.add(e),Ji(s,e,n)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),Ji(s,e))):(r&&(t.watchAll=!0),s),yl=e=>Ii(e)||!Mi(e);function vl(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(yl(e)||yl(t))return e===t;if(zi(e)&&zi(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const a of r){const r=e[a];if(!n.includes(a))return!1;if("ref"!==a){const e=t[a];if(zi(r)&&zi(e)||Ui(r)&&Ui(e)||Array.isArray(r)&&Array.isArray(e)?!vl(r,e,s):r!==e)return!1}}return!0}var bl=(e,t,s,r,n)=>t?Me(Me({},s[e]),{},{types:Me(Me({},s[e]&&s[e].types?s[e].types:{}),{},{[r]:n||!0})}):{},jl=e=>Array.isArray(e)?e:[e],Nl=()=>{let e=[];return{get observers(){return e},next:t=>{for(const s of e)s.next&&s.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},wl=e=>Ui(e)&&!Object.keys(e).length,Sl=e=>"file"===e.type,kl=e=>"function"===typeof e,Cl=e=>{if(!Hi)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},El=e=>"select-multiple"===e.type,_l=e=>"radio"===e.type,Al=e=>Cl(e)&&e.isConnected;function Pl(e,t){const s=Array.isArray(t)?t:Qi(t)?[t]:Yi(t),r=1===s.length?e:function(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=$i(e)?r++:e[t[r++]];return e}(e,s),n=s.length-1,a=s[n];return r&&delete r[a],0!==n&&(Ui(r)&&wl(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!$i(e[t]))return!1;return!0}(r))&&Pl(e,s.slice(0,-1)),e}var Ol=e=>{for(const t in e)if(kl(e[t]))return!0;return!1};function Tl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=Array.isArray(e);if(Ui(e)||s)for(const r in e)Array.isArray(e[r])||Ui(e[r])&&!Ol(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Tl(e[r],t[r])):Ii(e[r])||(t[r]=!0);return t}function Rl(e,t,s){const r=Array.isArray(e);if(Ui(e)||r)for(const n in e)Array.isArray(e[n])||Ui(e[n])&&!Ol(e[n])?$i(t)||yl(s[n])?s[n]=Array.isArray(e[n])?Tl(e[n],[]):Me({},Tl(e[n])):Rl(e[n],Ii(t)?{}:t[n],s[n]):s[n]=!vl(e[n],t[n]);return s}var Fl=(e,t)=>Rl(e,t,Tl(t));const Ll={value:!1,isValid:!1},Dl={value:!0,isValid:!0};var Bl=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$i(e[0].attributes.value)?$i(e[0].value)||""===e[0].value?Dl:{value:e[0].value,isValid:!0}:Dl:Ll}return Ll},zl=(e,t)=>{let{valueAsNumber:s,valueAsDate:r,setValueAs:n}=t;return $i(e)?e:s?""===e?NaN:e?+e:e:r&&xl(e)?new Date(e):n?n(e):e};const Il={isValid:!1,value:null};var Ml=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Il):Il;function Ul(e){const t=e.ref;return Sl(t)?t.files:_l(t)?Ml(e.refs).value:El(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):Bi(t)?Bl(e.refs).value:zl($i(t.value)?e.ref.value:t.value,e)}var ql=e=>e instanceof RegExp,Vl=e=>$i(e)?e:ql(e)?e.source:Ui(e)?ql(e.value)?e.value.source:e.value:e,Hl=e=>({isOnSubmit:!e||e===rl,isOnBlur:e===tl,isOnChange:e===sl,isOnAll:e===al,isOnTouch:e===nl});const Wl="AsyncFunction";var Ql=e=>!!e&&!!e.validate&&!!(kl(e.validate)&&e.validate.constructor.name===Wl||Ui(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Wl)),$l=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Kl=(e,t,s,r)=>{for(const n of s||Object.keys(e)){const s=Ji(e,n);if(s){const{_f:e}=s,a=pi(s,Ti);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],n)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Kl(a,t))break}else if(Ui(a)&&Kl(a,t))break}}};function Yl(e,t,s){const r=Ji(e,s);if(r||Qi(s))return{error:r,name:s};const n=s.split(".");for(;n.length;){const r=n.join("."),a=Ji(t,r),i=Ji(e,r);if(a&&!Array.isArray(a)&&s!==r)return{name:s};if(i&&i.type)return{name:r,error:i};if(i&&i.root&&i.root.type)return{name:"".concat(r,".root"),error:i.root};n.pop()}return{name:s}}var Jl=(e,t,s)=>{const r=jl(Ji(e,s));return Xi(r,"root",t[s]),Xi(e,s,r),e},Gl=e=>xl(e);function Xl(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Gl(e)||Array.isArray(e)&&e.every(Gl)||Gi(e)&&!e)return{type:s,message:Gl(e)?e:"",ref:t}}var Zl=e=>Ui(e)&&!ql(e)?e:{value:e,message:""},eo=async(e,t,s,r,n,a)=>{const{ref:i,refs:l,required:o,maxLength:c,minLength:d,min:u,max:m,pattern:h,validate:f,name:p,valueAsNumber:x,mount:g}=e._f,y=Ji(s,p);if(!g||t.has(p))return{};const v=l?l[0]:i,b=e=>{n&&v.reportValidity&&(v.setCustomValidity(Gi(e)?"":e||""),v.reportValidity())},j={},N=_l(i),w=Bi(i),S=N||w,k=(x||Sl(i))&&$i(i.value)&&$i(y)||Cl(i)&&""===i.value||""===y||Array.isArray(y)&&!y.length,C=bl.bind(null,p,r,j),E=function(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ol,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cl;const a=e?t:s;j[p]=Me({type:e?r:n,message:a,ref:i},C(e?r:n,a))};if(a?!Array.isArray(y)||!y.length:o&&(!S&&(k||Ii(y))||Gi(y)&&!y||w&&!Bl(l).isValid||N&&!Ml(l).isValid)){const{value:e,message:t}=Gl(o)?{value:!!o,message:o}:Zl(o);if(e&&(j[p]=Me({type:ul,message:t,ref:v},C(ul,t)),!r))return b(t),j}if(!k&&(!Ii(u)||!Ii(m))){let e,t;const s=Zl(m),n=Zl(u);if(Ii(y)||isNaN(y)){const r=i.valueAsDate||new Date(y),a=e=>new Date((new Date).toDateString()+" "+e),l="time"==i.type,o="week"==i.type;xl(s.value)&&y&&(e=l?a(y)>a(s.value):o?y>s.value:r>new Date(s.value)),xl(n.value)&&y&&(t=l?a(y)<a(n.value):o?y<n.value:r<new Date(n.value))}else{const r=i.valueAsNumber||(y?+y:y);Ii(s.value)||(e=r>s.value),Ii(n.value)||(t=r<n.value)}if((e||t)&&(E(!!e,s.message,n.message,il,ll),!r))return b(j[p].message),j}if((c||d)&&!k&&(xl(y)||a&&Array.isArray(y))){const e=Zl(c),t=Zl(d),s=!Ii(e.value)&&y.length>+e.value,n=!Ii(t.value)&&y.length<+t.value;if((s||n)&&(E(s,e.message,t.message),!r))return b(j[p].message),j}if(h&&!k&&xl(y)){const{value:e,message:t}=Zl(h);if(ql(e)&&!y.match(e)&&(j[p]=Me({type:dl,message:t,ref:i},C(dl,t)),!r))return b(t),j}if(f)if(kl(f)){const e=Xl(await f(y,s),v);if(e&&(j[p]=Me(Me({},e),C(ml,e.message)),!r))return b(e.message),j}else if(Ui(f)){let e={};for(const t in f){if(!wl(e)&&!r)break;const n=Xl(await f[t](y,s),v,t);n&&(e=Me(Me({},n),C(t,n.message)),b(n.message),r&&(j[p]=e))}if(!wl(e)&&(j[p]=Me({ref:v},e),!r))return j}return b(!0),j};const to={mode:rl,reValidateMode:sl,shouldFocusError:!0};function so(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Me(Me({},to),t),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:kl(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},a=(Ui(s.defaultValues)||Ui(s.values))&&Wi(s.defaultValues||s.values)||{},i=s.shouldUnregister?{}:Wi(a),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u=Me({},d);const m={array:Nl(),state:Nl()},h=s.criteriaMode===al,f=async e=>{if(!s.disabled&&(d.isValid||u.isValid||e)){const e=s.resolver?wl((await v()).errors):await b(n,!0);e!==r.isValid&&m.state.next({isValid:e})}},p=(e,t)=>{!s.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(o.mount)).forEach(e=>{e&&(t?Xi(r.validatingFields,e,t):Pl(r.validatingFields,e))}),m.state.next({validatingFields:r.validatingFields,isValidating:!wl(r.validatingFields)}))},x=(e,t,s,r)=>{const o=Ji(n,e);if(o){const n=Ji(i,e,$i(s)?Ji(a,e):s);$i(n)||r&&r.defaultChecked||t?Xi(i,e,t?n:Ul(o._f)):w(e,n),l.mount&&f()}},g=(e,t,n,i,l)=>{let o=!1,c=!1;const h={name:e};if(!s.disabled){if(!n||i){(d.isDirty||u.isDirty)&&(c=r.isDirty,r.isDirty=h.isDirty=j(),o=c!==h.isDirty);const s=vl(Ji(a,e),t);c=!!Ji(r.dirtyFields,e),s?Pl(r.dirtyFields,e):Xi(r.dirtyFields,e,!0),h.dirtyFields=r.dirtyFields,o=o||(d.dirtyFields||u.dirtyFields)&&c!==!s}if(n){const t=Ji(r.touchedFields,e);t||(Xi(r.touchedFields,e,n),h.touchedFields=r.touchedFields,o=o||(d.touchedFields||u.touchedFields)&&t!==n)}o&&l&&m.state.next(h)}return o?h:{}},y=(t,n,a,i)=>{const l=Ji(r.errors,t),o=(d.isValid||u.isValid)&&Gi(n)&&r.isValid!==n;var h;if(s.delayError&&a?(h=()=>((e,t)=>{Xi(r.errors,e,t),m.state.next({errors:r.errors})})(t,a),e=e=>{clearTimeout(c),c=setTimeout(h,e)},e(s.delayError)):(clearTimeout(c),e=null,a?Xi(r.errors,t,a):Pl(r.errors,t)),(a?!vl(l,a):l)||!wl(i)||o){const e=Me(Me(Me({},i),o&&Gi(n)?{isValid:n}:{}),{},{errors:r.errors,name:t});r=Me(Me({},r),e),m.state.next(e)}},v=async e=>{p(e,!0);const t=await s.resolver(i,s.context,((e,t,s,r)=>{const n={};for(const a of e){const e=Ji(t,a);e&&Xi(n,a,e._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:r}})(e||o.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return p(e),t},b=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const a in e){const l=e[a];if(l){const{_f:e}=l,c=pi(l,Fi);if(e){const c=o.array.has(e.name),u=l._f&&Ql(l._f);u&&d.validatingFields&&p([a],!0);const m=await eo(l,o.disabled,i,h,s.shouldUseNativeValidation&&!t,c);if(u&&d.validatingFields&&p([a]),m[e.name]&&(n.valid=!1,t))break;!t&&(Ji(m,e.name)?c?Jl(r.errors,m,e.name):Xi(r.errors,e.name,m[e.name]):Pl(r.errors,e.name))}!wl(c)&&await b(c,t,n)}}return n.valid},j=(e,t)=>!s.disabled&&(e&&t&&Xi(i,e,t),!vl(A(),a)),N=(e,t,s)=>gl(e,o,Me({},l.mount?i:$i(t)?a:xl(e)?{[e]:t}:t),s,t),w=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Ji(n,e);let a=t;if(r){const s=r._f;s&&(!s.disabled&&Xi(i,e,zl(t,s)),a=Cl(s.ref)&&Ii(t)?"":t,El(s.ref)?[...s.ref.options].forEach(e=>e.selected=a.includes(e.value)):s.refs?Bi(s.ref)?s.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(a)?e.checked=!!a.find(t=>t===e.value):e.checked=a===e.value||!!a)}):s.refs.forEach(e=>e.checked=e.value===a):Sl(s.ref)?s.ref.value="":(s.ref.value=a,s.ref.type||m.state.next({name:e,values:Wi(i)})))}(s.shouldDirty||s.shouldTouch)&&g(e,a,s.shouldTouch,s.shouldDirty,!0),s.shouldValidate&&_(e)},S=(e,t,s)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const a=t[r],i=e+"."+r,l=Ji(n,i);(o.array.has(e)||Ui(a)||l&&!l._f)&&!zi(a)?S(i,a,s):w(i,a,s)}},k=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=Ji(n,e),h=o.array.has(e),f=Wi(t);Xi(i,e,f),h?(m.array.next({name:e,values:Wi(i)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&s.shouldDirty&&m.state.next({name:e,dirtyFields:Fl(a,i),isDirty:j(e,f)})):!c||c._f||Ii(f)?w(e,f,s):S(e,f,s),$l(e,o)&&m.state.next(Me(Me({},r),{},{name:e})),m.state.next({name:l.mount?e:void 0,values:Wi(i)})},C=async t=>{l.mount=!0;const a=t.target;let c=a.name,x=!0;const j=Ji(n,c),N=e=>{x=Number.isNaN(e)||zi(e)&&isNaN(e.getTime())||vl(e,Ji(i,c,e))},w=Hl(s.mode),S=Hl(s.reValidateMode);if(j){let l,C;const E=a.type?Ul(j._f):qi(t),A=t.type===Zi||t.type===el,P=!((k=j._f).mount&&(k.required||k.min||k.max||k.maxLength||k.minLength||k.pattern||k.validate))&&!s.resolver&&!Ji(r.errors,c)&&!j._f.deps||((e,t,s,r,n)=>!n.isOnAll&&(!s&&n.isOnTouch?!(t||e):(s?r.isOnBlur:n.isOnBlur)?!e:!(s?r.isOnChange:n.isOnChange)||e))(A,Ji(r.touchedFields,c),r.isSubmitted,S,w),O=$l(c,o,A);Xi(i,c,E),A?a&&a.readOnly||(j._f.onBlur&&j._f.onBlur(t),e&&e(0)):j._f.onChange&&j._f.onChange(t);const T=g(c,E,A),R=!wl(T)||O;if(!A&&m.state.next({name:c,type:t.type,values:Wi(i)}),P)return(d.isValid||u.isValid)&&("onBlur"===s.mode?A&&f():A||f()),R&&m.state.next(Me({name:c},O?{}:T));if(!A&&O&&m.state.next(Me({},r)),s.resolver){const{errors:e}=await v([c]);if(N(E),x){const t=Yl(r.errors,n,c),s=Yl(e,n,t.name||c);l=s.error,c=s.name,C=wl(e)}}else p([c],!0),l=(await eo(j,o.disabled,i,h,s.shouldUseNativeValidation))[c],p([c]),N(E),x&&(l?C=!1:(d.isValid||u.isValid)&&(C=await b(n,!0)));x&&(j._f.deps&&_(j._f.deps),y(c,C,l,T))}var k},E=(e,t)=>{if(Ji(r.errors,t)&&e.focus)return e.focus(),1},_=async function(e){let t,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=jl(e);if(s.resolver){const s=await(async e=>{const{errors:t}=await v(e);if(e)for(const s of e){const e=Ji(t,s);e?Xi(r.errors,s,e):Pl(r.errors,s)}else r.errors=t;return t})($i(e)?e:l);t=wl(s),a=e?!l.some(e=>Ji(s,e)):t}else e?(a=(await Promise.all(l.map(async e=>{const t=Ji(n,e);return await b(t&&t._f?{[e]:t}:t)}))).every(Boolean),(a||r.isValid)&&f()):a=t=await b(n);return m.state.next(Me(Me(Me({},!xl(e)||(d.isValid||u.isValid)&&t!==r.isValid?{}:{name:e}),s.resolver||!e?{isValid:t}:{}),{},{errors:r.errors})),i.shouldFocus&&!a&&Kl(n,E,e?l:o.mount),a},A=e=>{const t=Me({},l.mount?i:a);return $i(e)?t:xl(e)?Ji(t,e):e.map(e=>Ji(t,e))},P=(e,t)=>({invalid:!!Ji((t||r).errors,e),isDirty:!!Ji((t||r).dirtyFields,e),error:Ji((t||r).errors,e),isValidating:!!Ji(r.validatingFields,e),isTouched:!!Ji((t||r).touchedFields,e)}),O=(e,t,s)=>{const a=(Ji(n,e,{_f:{}})._f||{}).ref,i=Ji(r.errors,e)||{},{ref:l,message:o,type:c}=i,d=pi(i,Li);Xi(r.errors,e,Me(Me(Me({},d),t),{},{ref:a})),m.state.next({name:e,errors:r.errors,isValid:!1}),s&&s.shouldFocus&&a&&a.focus&&a.focus()},T=e=>m.state.subscribe({next:t=>{var s,n,l;s=e.name,n=t.name,l=e.exact,s&&n&&s!==n&&!jl(s).some(e=>e&&(l?e===n:e.startsWith(n)||n.startsWith(e)))||!((e,t,s,r)=>{s(e);const{name:n}=e,a=pi(e,Ri);return wl(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||al))})(t,e.formState||d,M,e.reRenderRoot)||e.callback(Me(Me(Me({values:Me({},i)},r),t),{},{defaultValues:a}))}}).unsubscribe,R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?jl(e):o.mount)o.mount.delete(l),o.array.delete(l),t.keepValue||(Pl(n,l),Pl(i,l)),!t.keepError&&Pl(r.errors,l),!t.keepDirty&&Pl(r.dirtyFields,l),!t.keepTouched&&Pl(r.touchedFields,l),!t.keepIsValidating&&Pl(r.validatingFields,l),!s.shouldUnregister&&!t.keepDefaultValue&&Pl(a,l);m.state.next({values:Wi(i)}),m.state.next(Me(Me({},r),t.keepDirty?{isDirty:j()}:{})),!t.keepIsValid&&f()},F=e=>{let{disabled:t,name:s}=e;(Gi(t)&&l.mount||t||o.disabled.has(s))&&(t?o.disabled.add(s):o.disabled.delete(s))},L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ji(n,e);const i=Gi(t.disabled)||Gi(s.disabled);return Xi(n,e,Me(Me({},r||{}),{},{_f:Me(Me({},r&&r._f?r._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),o.mount.add(e),r?F({disabled:Gi(t.disabled)?t.disabled:s.disabled,name:e}):x(e,!0,t.value),Me(Me(Me({},i?{disabled:t.disabled||s.disabled}:{}),s.progressive?{required:!!t.required,min:Vl(t.min),max:Vl(t.max),minLength:Vl(t.minLength),maxLength:Vl(t.maxLength),pattern:Vl(t.pattern)}:{}),{},{name:e,onChange:C,onBlur:C,ref:i=>{if(i){L(e,t),r=Ji(n,e);const s=$i(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,l=(e=>_l(e)||Bi(e))(s),o=r._f.refs||[];if(l?o.find(e=>e===s):s===r._f.ref)return;Xi(n,e,{_f:Me(Me({},r._f),l?{refs:[...o.filter(Al),s,...Array.isArray(Ji(a,e))?[{}]:[]],ref:{type:s.type,name:e}}:{ref:s})}),x(e,!1,void 0,s)}else r=Ji(n,e,{}),r._f&&(r._f.mount=!1),(s.shouldUnregister||t.shouldUnregister)&&(!Vi(o.array,e)||!l.action)&&o.unMount.add(e)}})},D=()=>s.shouldFocusError&&Kl(n,E,o.mount),B=(e,t)=>async a=>{let l;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=Wi(i);if(m.state.next({isSubmitting:!0}),s.resolver){const{errors:e,values:t}=await v();r.errors=e,c=Wi(t)}else await b(n);if(o.disabled.size)for(const e of o.disabled)Pl(c,e);if(Pl(r.errors,"root"),wl(r.errors)){m.state.next({errors:{}});try{await e(c,a)}catch(d){l=d}}else t&&await t(Me({},r.errors),a),D(),setTimeout(D);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wl(r.errors)&&!l,submitCount:r.submitCount+1,errors:r.errors}),l)throw l},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?Wi(e):a,u=Wi(c),h=wl(e),f=h?a:u;if(t.keepDefaultValues||(a=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(Fl(a,i))]);for(const t of Array.from(e))Ji(r.dirtyFields,t)?Xi(f,t,Ji(i,t)):k(t,Ji(f,t))}else{if(Hi&&$i(e))for(const e of o.mount){const t=Ji(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Cl(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of o.mount)k(e,Ji(f,e));else n={}}i=s.shouldUnregister?t.keepDefaultValues?Wi(a):{}:Wi(f),m.array.next({values:Me({},f)}),m.state.next({values:Me({},f)})}o={mount:t.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues,l.watch=!!s.shouldUnregister,m.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!h&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||vl(e,a))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:h?{}:t.keepDirtyValues?t.keepDefaultValues&&i?Fl(a,i):r.dirtyFields:t.keepDefaultValues&&e?Fl(a,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:a})},I=(e,t)=>z(kl(e)?e(i):e,t),M=e=>{r=Me(Me({},r),e)},U={control:{register:L,unregister:R,getFieldState:P,handleSubmit:B,setError:O,_subscribe:T,_runSchema:v,_focusError:D,_getWatch:N,_getDirty:j,_setValid:f,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&o&&!s.disabled){if(l.action=!0,f&&Array.isArray(Ji(n,e))){const t=o(Ji(n,e),c.argA,c.argB);h&&Xi(n,e,t)}if(f&&Array.isArray(Ji(r.errors,e))){const t=o(Ji(r.errors,e),c.argA,c.argB);h&&Xi(r.errors,e,t),((e,t)=>{!Ki(Ji(e,t)).length&&Pl(e,t)})(r.errors,e)}if((d.touchedFields||u.touchedFields)&&f&&Array.isArray(Ji(r.touchedFields,e))){const t=o(Ji(r.touchedFields,e),c.argA,c.argB);h&&Xi(r.touchedFields,e,t)}(d.dirtyFields||u.dirtyFields)&&(r.dirtyFields=Fl(a,i)),m.state.next({name:e,isDirty:j(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Xi(i,e,t)},_setDisabledField:F,_setErrors:e=>{r.errors=e,m.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>Ki(Ji(l.mount?i:a,e,s.shouldUnregister?Ji(a,e,[]):[])),_reset:z,_resetDefaultValues:()=>kl(s.defaultValues)&&s.defaultValues().then(e=>{I(e,s.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of o.unMount){const t=Ji(n,e);t&&(t._f.refs?t._f.refs.every(e=>!Al(e)):!Al(t._f.ref))&&R(e)}o.unMount=new Set},_disableForm:e=>{Gi(e)&&(m.state.next({disabled:e}),Kl(n,(t,s)=>{const r=Ji(n,s);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state(e){l=e},get _defaultValues(){return a},get _names(){return o},set _names(e){o=e},get _formState(){return r},get _options(){return s},set _options(e){s=Me(Me({},s),e)}},subscribe:e=>(l.mount=!0,u=Me(Me({},u),e.formState),T(Me(Me({},e),{},{formState:u}))),trigger:_,register:L,handleSubmit:B,watch:(e,t)=>kl(e)?m.state.subscribe({next:s=>"values"in s&&e(N(void 0,t),s)}):N(e,t,!0),setValue:k,getValues:A,reset:I,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ji(n,e)&&($i(t.defaultValue)?k(e,Wi(Ji(a,e))):(k(e,t.defaultValue),Xi(a,e,Wi(t.defaultValue))),t.keepTouched||Pl(r.touchedFields,e),t.keepDirty||(Pl(r.dirtyFields,e),r.isDirty=t.defaultValue?j(e,Wi(Ji(a,e))):j()),t.keepError||(Pl(r.errors,e),d.isValid&&f()),m.state.next(Me({},r)))},clearErrors:e=>{e&&jl(e).forEach(e=>Pl(r.errors,e)),m.state.next({errors:e?r.errors:{}})},unregister:R,setError:O,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=Ji(n,e),r=s&&s._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&kl(e.select)&&e.select())}},getFieldState:P};return Me(Me({},U),{},{formControl:U})}function ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=n.useRef(void 0),s=n.useRef(void 0),[r,a]=n.useState({isDirty:!1,isValidating:!1,isLoading:kl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:kl(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=Me(Me({},e.formControl),{},{formState:r}),e.defaultValues&&!kl(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const s=so(e),{formControl:n}=s,a=pi(s,Di);t.current=Me(Me({},a),{},{formState:r})}const i=t.current.control;return i._options=e,pl(()=>{const e=i._subscribe({formState:i._proxyFormState,callback:()=>a(Me({},i._formState)),reRenderRoot:!0});return a(e=>Me(Me({},e),{},{isReady:!0})),i._formState.isReady=!0,e},[i]),n.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),n.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),n.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),n.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),n.useEffect(()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==r.isDirty&&i._subjects.state.next({isDirty:e})}},[i,r.isDirty]),n.useEffect(()=>{e.values&&!vl(e.values,s.current)?(i._reset(e.values,Me({keepFieldsRef:!0},i._options.resetOptions)),s.current=e.values,a(e=>Me({},e))):i._resetDefaultValues()},[i,e.values]),n.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next(Me({},i._formState))),i._removeUnmounted()}),t.current.formState=fl(r,i),t.current}const no=yi("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ao=yi("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),io=yi("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),lo=yi("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oo=yi("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function co(e){var t,s,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=co(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function uo(){for(var e,t,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=co(e))&&(r&&(r+=" "),r+=t);return r}const mo=(e,t)=>{var s;if(0===e.length)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?mo(e.slice(1),n):void 0;if(a)return a;if(0===t.validators.length)return;const i=e.join("-");return null===(s=t.validators.find(e=>{let{validator:t}=e;return t(i)}))||void 0===s?void 0:s.classGroupId},ho=/^\[(.+)\]$/,fo=e=>{if(ho.test(e)){const t=ho.exec(e)[1],s=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},po=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return vo(Object.entries(e.classGroups),s).forEach(e=>{let[s,n]=e;xo(n,r,s,t)}),r},xo=(e,t,s,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:go(t,e)).classGroupId=s)}if("function"===typeof e)return yo(e)?void xo(e(r),t,s,r):void t.validators.push({validator:e,classGroupId:s});Object.entries(e).forEach(e=>{let[n,a]=e;xo(a,go(t,n),s,r)})})},go=(e,t)=>{let s=e;return t.split("-").forEach(e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)}),s},yo=e=>e.isThemeGetter,vo=(e,t)=>t?e.map(e=>{let[s,r]=e;const n=r.map(e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map(e=>{let[s,r]=e;return[t+s,r]})):e);return[s,n]}):e,bo=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const n=(n,a)=>{s.set(n,a),t++,t>e&&(t=0,r=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(n(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):n(e,t)}}},jo=e=>{const{separator:t,experimentalParseClassName:s}=e,r=1===t.length,n=t[0],a=t.length,i=e=>{const s=[];let i,l=0,o=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===l){if(c===n&&(r||e.slice(u,u+a)===t)){s.push(e.slice(o,u)),o=u+a;continue}if("/"===c){i=u;continue}}"["===c?l++:"]"===c&&l--}const c=0===s.length?e:e.substring(o),d=c.startsWith("!");return{modifiers:s,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:i&&i>o?i-o:void 0}};return s?e=>s({className:e,parseClassName:i}):i},No=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(e=>{"["===e[0]?(t.push(...s.sort(),e),s=[]):s.push(e)}),t.push(...s.sort()),t},wo=e=>Me({cache:bo(e.cacheSize),parseClassName:jo(e)},(e=>{const t=po(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),mo(s,t)||fo(e)},getConflictingClassGroupIds:(e,t)=>{const n=s[e]||[];return t&&r[e]?[...n,...r[e]]:n}}})(e)),So=/\s+/;function ko(){let e,t,s=0,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=Co(e))&&(r&&(r+=" "),r+=t);return r}const Co=e=>{if("string"===typeof e)return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=Co(e[r]))&&(s&&(s+=" "),s+=t);return s};function Eo(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];let n,a,i,l=function(t){const r=s.reduce((e,t)=>t(e),e());return n=wo(r),a=n.cache.get,i=n.cache.set,l=o,o(t)};function o(e){const t=a(e);if(t)return t;const s=((e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=t,a=[],i=e.trim().split(So);let l="";for(let o=i.length-1;o>=0;o-=1){const e=i[o],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=s(e);let m=Boolean(u),h=r(m?d.substring(0,u):d);if(!h){if(!m){l=e+(l.length>0?" "+l:l);continue}if(h=r(d),!h){l=e+(l.length>0?" "+l:l);continue}m=!1}const f=No(t).join(":"),p=c?f+"!":f,x=p+h;if(a.includes(x))continue;a.push(x);const g=n(h,m);for(let s=0;s<g.length;++s){const e=g[s];a.push(p+e)}l=e+(l.length>0?" "+l:l)}return l})(e,n);return i(e,s),s}return function(){return l(ko.apply(null,arguments))}}const _o=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ao=/^\[(?:([a-z-]+):)?(.+)\]$/i,Po=/^\d+\/\d+$/,Oo=new Set(["px","full","screen"]),To=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ro=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fo=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Lo=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Do=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=e=>Io(e)||Oo.has(e)||Po.test(e),zo=e=>Xo(e,"length",Zo),Io=e=>Boolean(e)&&!Number.isNaN(Number(e)),Mo=e=>Xo(e,"number",Io),Uo=e=>Boolean(e)&&Number.isInteger(Number(e)),qo=e=>e.endsWith("%")&&Io(e.slice(0,-1)),Vo=e=>Ao.test(e),Ho=e=>To.test(e),Wo=new Set(["length","size","percentage"]),Qo=e=>Xo(e,Wo,ec),$o=e=>Xo(e,"position",ec),Ko=new Set(["image","url"]),Yo=e=>Xo(e,Ko,sc),Jo=e=>Xo(e,"",tc),Go=()=>!0,Xo=(e,t,s)=>{const r=Ao.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):s(r[2]))},Zo=e=>Ro.test(e)&&!Fo.test(e),ec=()=>!1,tc=e=>Lo.test(e),sc=e=>Do.test(e),rc=(Symbol.toStringTag,()=>{const e=_o("colors"),t=_o("spacing"),s=_o("blur"),r=_o("brightness"),n=_o("borderColor"),a=_o("borderRadius"),i=_o("borderSpacing"),l=_o("borderWidth"),o=_o("contrast"),c=_o("grayscale"),d=_o("hueRotate"),u=_o("invert"),m=_o("gap"),h=_o("gradientColorStops"),f=_o("gradientColorStopPositions"),p=_o("inset"),x=_o("margin"),g=_o("opacity"),y=_o("padding"),v=_o("saturate"),b=_o("scale"),j=_o("sepia"),N=_o("skew"),w=_o("space"),S=_o("translate"),k=()=>["auto",Vo,t],C=()=>[Vo,t],E=()=>["",Bo,zo],_=()=>["auto",Io,Vo],A=()=>["","0",Vo],P=()=>[Io,Vo];return{cacheSize:500,separator:":",theme:{colors:[Go],spacing:[Bo,zo],blur:["none","",Ho,Vo],brightness:P(),borderColor:[e],borderRadius:["none","","full",Ho,Vo],borderSpacing:C(),borderWidth:E(),contrast:P(),grayscale:A(),hueRotate:P(),invert:A(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[qo,zo],inset:k(),margin:k(),opacity:P(),padding:C(),saturate:P(),scale:P(),sepia:A(),skew:P(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Vo]}],container:["container"],columns:[{columns:[Ho]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Vo]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Uo,Vo]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Vo]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Uo,Vo]}],"grid-cols":[{"grid-cols":[Go]}],"col-start-end":[{col:["auto",{span:["full",Uo,Vo]},Vo]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[Go]}],"row-start-end":[{row:["auto",{span:[Uo,Vo]},Vo]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Vo]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Vo]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Vo,t]}],"min-w":[{"min-w":[Vo,t,"min","max","fit"]}],"max-w":[{"max-w":[Vo,t,"none","full","min","max","fit","prose",{screen:[Ho]},Ho]}],h:[{h:[Vo,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Vo,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Vo,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Vo,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ho,zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mo]}],"font-family":[{font:[Go]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Vo]}],"line-clamp":[{"line-clamp":["none",Io,Mo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bo,Vo]}],"list-image":[{"list-image":["none",Vo]}],"list-style-type":[{list:["none","disc","decimal",Vo]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bo,zo]}],"underline-offset":[{"underline-offset":["auto",Bo,Vo]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vo]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vo]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",$o]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qo]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Yo]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Bo,Vo]}],"outline-w":[{outline:[Bo,zo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Bo,zo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ho,Jo]}],"shadow-color":[{shadow:[Go]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[o]}],"drop-shadow":[{"drop-shadow":["","none",Ho,Vo]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[o]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Vo]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Vo]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Vo]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Uo,Vo]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Vo]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vo]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vo]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bo,zo,Mo]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),nc=Eo(rc);const ac=["children","variant","size","disabled","loading","className"],ic=e=>{let{children:t,variant:s="primary",size:r="md",disabled:n=!1,loading:a=!1,className:i=""}=e,l=pi(e,ac);const o=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return nc(uo(t))}("inline-flex items-center justify-center font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200",{primary:"bg-rigroster-red text-white hover:bg-primary-600 focus:ring-rigroster-red disabled:bg-gray-600",secondary:"bg-rigroster-darkGray text-white border border-gray-600 hover:bg-gray-700 focus:ring-rigroster-red disabled:bg-gray-800 disabled:text-gray-400",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500 disabled:bg-success-400",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500 disabled:bg-warning-400",danger:"bg-rigroster-red text-white hover:bg-primary-600 focus:ring-rigroster-red disabled:bg-gray-600",ghost:"bg-transparent text-gray-300 hover:bg-gray-700 focus:ring-rigroster-red disabled:bg-transparent disabled:text-gray-500"}[s],{sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[r],(n||a)&&"cursor-not-allowed",i);return(0,Tn.jsxs)("button",Me(Me({className:o,disabled:n||a},l),{},{children:[a&&(0,Tn.jsx)(oo,{className:"w-4 h-4 mr-2 animate-spin"}),t]}))},lc=()=>{const{login:e}=qn(),[t,s]=(0,n.useState)(!1),[r,a]=(0,n.useState)(!1),{register:i,handleSubmit:l,formState:{errors:o}}=ro();return(0,Tn.jsx)("div",{className:"min-h-screen bg-rigroster-offWhite flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Tn.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsx)("div",{className:"flex justify-center mb-6",children:(0,Tn.jsx)(Pi,{size:"2xl"})}),(0,Tn.jsx)("h2",{className:"text-3xl font-bold text-rigroster-text",children:"Welcome to RigRoster"}),(0,Tn.jsx)("p",{className:"mt-2 text-sm text-rigroster-textLight",children:"Sign in to your account to continue"})]}),(0,Tn.jsx)("div",{className:"card p-8",children:(0,Tn.jsxs)("form",{className:"space-y-6",onSubmit:l(async t=>{a(!0);try{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),console.log("Attempting login with:",{email:t.email,password:"***"}),console.log("API base URL:","https://ff-shift.vercel.app/api");const s=await e(t.email,t.password);console.log("Login response:",s)}catch(f){var s,r,n,i,l,o,c,d,u,m,h;console.error("Login error details:",{message:f.message,status:null===(s=f.response)||void 0===s?void 0:s.status,statusText:null===(r=f.response)||void 0===r?void 0:r.statusText,data:null===(n=f.response)||void 0===n?void 0:n.data,config:{url:null===(i=f.config)||void 0===i?void 0:i.url,method:null===(l=f.config)||void 0===l?void 0:l.method,baseURL:null===(o=f.config)||void 0===o?void 0:o.baseURL,headers:null===(c=f.config)||void 0===c?void 0:c.headers}}),(null!==(d=f.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.includes("malformed")||null!==(h=f.message)&&void 0!==h&&h.includes("malformed"))&&(localStorage.removeItem("token"),localStorage.removeItem("refreshToken")),a(!1)}}),children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-rigroster-text mb-2",children:"Email Address"}),(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(no,{className:"h-5 w-5 text-rigroster-textLight"})}),(0,Tn.jsx)("input",Me(Me({id:"email",type:"email",autoComplete:"email"},i("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{className:"input pl-10",placeholder:"Enter your email"}))]}),o.email&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:"object"===typeof o.email&&o.email.message?o.email.message:o.email})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-rigroster-text mb-2",children:"Password"}),(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(ao,{className:"h-5 w-5 text-rigroster-textLight"})}),(0,Tn.jsx)("input",Me(Me({id:"password",type:t?"text":"password",autoComplete:"current-password"},i("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{},{className:"input pl-10 pr-10",placeholder:"Enter your password"})),(0,Tn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!t),children:t?(0,Tn.jsx)(io,{className:"h-5 w-5 text-rigroster-textLight hover:text-rigroster-text"}):(0,Tn.jsx)(lo,{className:"h-5 w-5 text-rigroster-textLight hover:text-rigroster-text"})})]}),o.password&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:"object"===typeof o.password&&o.password.message?o.password.message:o.password})]}),(0,Tn.jsx)("div",{children:(0,Tn.jsx)(ic,{type:"submit",className:"w-full",loading:r,disabled:r,children:r?"Signing in...":"Sign In"})}),(0,Tn.jsx)("div",{className:"text-center",children:(0,Tn.jsxs)("p",{className:"text-sm text-rigroster-textLight",children:["Don't have an account?"," ",(0,Tn.jsx)(Oe,{to:"/register",className:"font-medium text-rigroster-red hover:text-primary-600",children:"Sign up here"})]})})]})})]})})},oc=yi("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),cc=yi("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]),dc=yi("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),uc=yi("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),mc=yi("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),hc=yi("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),fc=()=>{const{register:e}=qn(),[t,s]=(0,n.useState)(!1),[r,a]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),[o,c]=(0,n.useState)(1),{register:d,handleSubmit:u,watch:m,formState:{errors:h},trigger:f}=ro(),p=m("password");return(0,Tn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:(0,Tn.jsxs)("div",{className:"max-w-2xl w-full space-y-8",children:[(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsx)("div",{className:"mx-auto h-16 w-16 bg-primary-600 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(oc,{className:"h-8 w-8 text-white"})}),(0,Tn.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),(0,Tn.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Join the FF Shift Bid platform"})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center ".concat(o>=1?"text-primary-600":"text-gray-400"),children:[(0,Tn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(o>=1?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:"1"}),(0,Tn.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Account"})]}),(0,Tn.jsx)("div",{className:"w-8 h-0.5 ".concat(o>=2?"bg-primary-600":"bg-gray-300")}),(0,Tn.jsxs)("div",{className:"flex items-center ".concat(o>=2?"text-primary-600":"text-gray-400"),children:[(0,Tn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(o>=2?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:"2"}),(0,Tn.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Profile"})]})]}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsxs)("div",{className:"card-body",children:[(0,Tn.jsxs)("form",{className:"space-y-6",onSubmit:u(async t=>{l(!0);try{const s={email:t.email,password:t.password,firstName:t.firstName,lastName:t.lastName,employeeId:t.employeeId,rank:t.rank,position:t.position,yearsOfService:parseInt(t.yearsOfService),currentShift:t.currentShift};await e(s)}catch(s){console.error("Registration error:",s)}finally{l(!1)}}),children:[1===o&&(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,Tn.jsxs)("div",{className:"mt-1 relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(ji,{className:"h-5 w-5 text-gray-400"})}),(0,Tn.jsx)("input",Me({id:"firstName",type:"text",autoComplete:"given-name",className:"input pl-10 ".concat(h.firstName?"input-error":""),placeholder:"Enter your first name"},d("firstName",{required:"First name is required",minLength:{value:2,message:"First name must be at least 2 characters"}})))]}),h.firstName&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:h.firstName.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,Tn.jsxs)("div",{className:"mt-1 relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(ji,{className:"h-5 w-5 text-gray-400"})}),(0,Tn.jsx)("input",Me({id:"lastName",type:"text",autoComplete:"family-name",className:"input pl-10 ".concat(h.lastName?"input-error":""),placeholder:"Enter your last name"},d("lastName",{required:"Last name is required",minLength:{value:2,message:"Last name must be at least 2 characters"}})))]}),h.lastName&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:h.lastName.message})]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,Tn.jsxs)("div",{className:"mt-1 relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(no,{className:"h-5 w-5 text-gray-400"})}),(0,Tn.jsx)("input",Me({id:"email",type:"email",autoComplete:"email",className:"input pl-10 ".concat(h.email?"input-error":""),placeholder:"Enter your email address"},d("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})))]}),h.email&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:h.email.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"employeeId",className:"block text-sm font-medium text-gray-700",children:"Employee ID"}),(0,Tn.jsxs)("div",{className:"mt-1 relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(cc,{className:"h-5 w-5 text-gray-400"})}),(0,Tn.jsx)("input",Me({id:"employeeId",type:"text",className:"input pl-10 ".concat(h.employeeId?"input-error":""),placeholder:"Enter your employee ID"},d("employeeId",{required:"Employee ID is required",minLength:{value:3,message:"Employee ID must be at least 3 characters"}})))]}),h.employeeId&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:h.employeeId.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Tn.jsxs)("div",{className:"mt-1 relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(ao,{className:"h-5 w-5 text-gray-400"})}),(0,Tn.jsx)("input",Me({id:"password",type:t?"text":"password",autoComplete:"new-password",className:"input pl-10 pr-10 ".concat(h.password?"input-error":""),placeholder:"Create a password"},d("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Password must contain at least one uppercase letter, one lowercase letter, and one number"}}))),(0,Tn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!t),children:t?(0,Tn.jsx)(io,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,Tn.jsx)(lo,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),h.password&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:h.password.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,Tn.jsxs)("div",{className:"mt-1 relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(ao,{className:"h-5 w-5 text-gray-400"})}),(0,Tn.jsx)("input",Me({id:"confirmPassword",type:r?"text":"password",autoComplete:"new-password",className:"input pl-10 pr-10 ".concat(h.confirmPassword?"input-error":""),placeholder:"Confirm your password"},d("confirmPassword",{required:"Please confirm your password",validate:e=>e===p||"Passwords do not match"}))),(0,Tn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!r),children:r?(0,Tn.jsx)(io,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,Tn.jsx)(lo,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),h.confirmPassword&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:h.confirmPassword.message})]}),(0,Tn.jsx)("div",{className:"flex justify-end",children:(0,Tn.jsx)(ic,{type:"button",variant:"primary",onClick:async()=>{await f(["email","password","confirmPassword","firstName","lastName","employeeId"])&&c(2)},children:"Next Step"})})]}),2===o&&(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"rank",className:"block text-sm font-medium text-gray-700",children:"Rank"}),(0,Tn.jsxs)("div",{className:"mt-1 relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(dc,{className:"h-5 w-5 text-gray-400"})}),(0,Tn.jsxs)("select",Me(Me({id:"rank",className:"input pl-10 ".concat(h.rank?"input-error":"")},d("rank",{required:"Rank is required"})),{},{children:[(0,Tn.jsx)("option",{value:"",children:"Select your rank"}),["Firefighter","Engineer","Lieutenant","Captain","Battalion Chief","Deputy Chief","Chief"].map(e=>(0,Tn.jsx)("option",{value:e,children:e},e))]}))]}),h.rank&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:h.rank.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700",children:"Position"}),(0,Tn.jsxs)("div",{className:"mt-1 relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(uc,{className:"h-5 w-5 text-gray-400"})}),(0,Tn.jsxs)("select",Me(Me({id:"position",className:"input pl-10 ".concat(h.position?"input-error":"")},d("position",{required:"Position is required"})),{},{children:[(0,Tn.jsx)("option",{value:"",children:"Select your position"}),["Firefighter","Paramedic","EMT","Driver","Operator","Officer"].map(e=>(0,Tn.jsx)("option",{value:e,children:e},e))]}))]}),h.position&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:h.position.message})]})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"yearsOfService",className:"block text-sm font-medium text-gray-700",children:"Years of Service"}),(0,Tn.jsxs)("div",{className:"mt-1 relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(mc,{className:"h-5 w-5 text-gray-400"})}),(0,Tn.jsx)("input",Me({id:"yearsOfService",type:"number",min:"0",max:"50",className:"input pl-10 ".concat(h.yearsOfService?"input-error":""),placeholder:"Enter years of service"},d("yearsOfService",{required:"Years of service is required",min:{value:0,message:"Years of service cannot be negative"},max:{value:50,message:"Years of service cannot exceed 50"}})))]}),h.yearsOfService&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:h.yearsOfService.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{htmlFor:"currentShift",className:"block text-sm font-medium text-gray-700",children:"Current Shift"}),(0,Tn.jsxs)("div",{className:"mt-1 relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Tn.jsx)(hc,{className:"h-5 w-5 text-gray-400"})}),(0,Tn.jsxs)("select",Me(Me({id:"currentShift",className:"input pl-10 ".concat(h.currentShift?"input-error":"")},d("currentShift",{required:"Current shift is required"})),{},{children:[(0,Tn.jsx)("option",{value:"",children:"Select your shift"}),["A","B","C"].map(e=>(0,Tn.jsxs)("option",{value:e,children:["Shift ",e]},e))]}))]}),h.currentShift&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:h.currentShift.message})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:()=>{c(1)},children:"Previous Step"}),(0,Tn.jsx)(ic,{type:"submit",variant:"primary",size:"lg",loading:i,disabled:i,children:i?"Creating Account...":"Create Account"})]})]})]}),(0,Tn.jsxs)("div",{className:"mt-6",children:[(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Tn.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Tn.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Tn.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),(0,Tn.jsx)("div",{className:"mt-6",children:(0,Tn.jsx)(Oe,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-primary-600 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Sign in to your account"})})]})]})})]})})},pc=()=>(0,Tn.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Forgot Password"}),(0,Tn.jsx)("p",{className:"mb-4",children:"Password reset functionality coming soon..."}),(0,Tn.jsx)(Oe,{to:"/login",className:"text-primary-600 hover:underline",children:"Back to Login"})]})}),xc=()=>(0,Tn.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Reset Password"}),(0,Tn.jsx)("p",{className:"mb-4",children:"Password reset functionality coming soon..."}),(0,Tn.jsx)(Oe,{to:"/login",className:"text-primary-600 hover:underline",children:"Back to Login"})]})}),gc=yi("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),yc=yi("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),vc=yi("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),bc=yi("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),jc=yi("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Nc=yi("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),wc=yi("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Sc=yi("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),kc=yi("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Cc=yi("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Ec=e=>{let{size:t="md",className:s="",text:r=""}=e;return(0,Tn.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat(s),children:[(0,Tn.jsx)(oo,{className:"".concat({sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"}[t]," animate-spin text-primary-600")}),r&&(0,Tn.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:r})]})},_c=()=>{var e,t,s,r;const{user:a}=qn(),{socket:i}=hi(),l=se(),[o,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),[m,h]=(0,n.useState)([]),[f,p]=(0,n.useState)(!1),[x,g]=(0,n.useState)([]),y=(0,n.useCallback)(async()=>{try{p(!0),await Promise.all([v(),b(),j(),N()])}catch(e){console.error("Error fetching dashboard data:",e)}finally{p(!1)}},[]);(0,n.useEffect)(()=>{if(y(),i)return i.on("bid-session-update",w),i.on("user-turn",S),i.on("notification",k),()=>{i.off("bid-session-update"),i.off("user-turn"),i.off("notification")}},[i,y]);const v=async()=>{try{const e=await On.get(Pn.current),t=(e.data.sessions||[]).find(e=>"active"===e.status||"paused"===e.status);c(t||null)}catch(e){console.error("Error fetching current bid session:",e)}},b=async()=>{try{const e=await On.get("/users/bid-status");u(e.data)}catch(e){console.error("Error fetching user bid status:",e)}},j=async()=>{try{const e=await On.get("/users/recent-activity");h(e.data.activities||[])}catch(e){console.error("Error fetching recent activity:",e)}},N=async()=>{try{const e=await On.get("/users/notifications");g(e.data.notifications||[])}catch(e){console.error("Error fetching notifications:",e)}},w=e=>{c(e.session),ts.success("Bid session updated!",{icon:"\ud83d\udd04"})},S=e=>{u(t=>Me(Me({},t),{},{isUserTurn:!0,timeRemaining:e.timeRemaining})),ts.success("It's your turn to bid!",{icon:"\ud83c\udfaf",duration:1e4})},k=e=>{g(t=>[e,...t]),ts.success(e.message,{icon:"\ud83d\udd14"})},C=e=>{switch(e){case"active":return"text-green-600 bg-green-100";case"waiting":return"text-yellow-600 bg-yellow-100";case"completed":return"text-blue-600 bg-blue-100";case"paused":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},E=e=>{if(!e)return"0:00";const t=Math.floor(e/60),s=e%60;return"".concat(t,":").concat(s.toString().padStart(2,"0"))},_=[{name:"Years of Service",value:(null===a||void 0===a?void 0:a.yearsOfService)||0,icon:dc,color:"text-blue-600",bgColor:"bg-blue-100",change:null!==a&&void 0!==a&&a.yearsOfService?"+".concat(a.yearsOfService," years"):"+0 years",changeType:"positive"},{name:"Current Station",value:(null===a||void 0===a||null===(e=a.currentStation)||void 0===e?void 0:e.name)||"Unassigned",icon:ki,color:"text-green-600",bgColor:"bg-green-100",change:null!==a&&void 0!==a&&null!==(t=a.currentStation)&&void 0!==t&&t.number?"Station ".concat(a.currentStation.number):"No assignment"},{name:"Current Shift",value:(null===a||void 0===a?void 0:a.currentShift)||"N/A",icon:Ci,color:"text-purple-600",bgColor:"bg-purple-100",change:null!==a&&void 0!==a&&a.currentShift?"Shift ".concat(a.currentShift):"Not assigned"},{name:"Bid Priority",value:(null===a||void 0===a?void 0:a.bidPriority)||"N/A",icon:Si,color:"text-orange-600",bgColor:"bg-orange-100",change:null!==a&&void 0!==a&&a.bidPriority?"#".concat(a.bidPriority," in queue"):"Not in queue"}];return f?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl shadow-lg",children:(0,Tn.jsx)("div",{className:"px-8 py-10",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",null===a||void 0===a?void 0:a.firstName,"!"]}),(0,Tn.jsxs)("p",{className:"mt-3 text-primary-100",children:[(null===a||void 0===a?void 0:a.rank)||"N/A"," \u2022 ",(null===a||void 0===a?void 0:a.position)||"N/A"," \u2022 Employee #",(null===a||void 0===a?void 0:a.employeeId)||"N/A"]}),(0,Tn.jsxs)("div",{className:"mt-6 flex items-center space-x-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(ki,{className:"w-5 h-5 text-primary-200"}),(0,Tn.jsx)("span",{className:"text-primary-100 text-sm",children:(null===a||void 0===a||null===(s=a.currentStation)||void 0===s?void 0:s.name)||"No station assigned"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(Ci,{className:"w-5 h-5 text-primary-200"}),(0,Tn.jsxs)("span",{className:"text-primary-100 text-sm",children:["Shift ",(null===a||void 0===a?void 0:a.currentShift)||"N/A"]})]})]})]}),(0,Tn.jsx)("div",{className:"hidden sm:block",children:(0,Tn.jsx)("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(ji,{className:"w-10 h-10 text-white"})})})]})})}),o&&(0,Tn.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-6",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(bc,{className:"w-6 h-6 text-yellow-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("h3",{className:"text-lg font-medium text-yellow-900",children:["Active Bid Session: ",o.name||"Unnamed Session"]}),(0,Tn.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:o.description||"No description available"}),(0,Tn.jsxs)("p",{className:"text-xs text-yellow-600 mt-2",children:["Status: ",o.status," \u2022 Participants: ",o.participantCount||0]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)("div",{className:"px-4 py-2 rounded-full text-sm font-medium flex items-center space-x-2 ".concat(C(o.status)),children:[(e=>{switch(e){case"active":return(0,Tn.jsx)(gc,{className:"w-4 h-4"});case"waiting":default:return(0,Tn.jsx)(Ci,{className:"w-4 h-4"});case"completed":return(0,Tn.jsx)(yc,{className:"w-4 h-4"});case"paused":return(0,Tn.jsx)(vc,{className:"w-4 h-4"})}})(o.status),(0,Tn.jsx)("span",{className:"capitalize",children:o.status})]}),(0,Tn.jsxs)(ic,{onClick:()=>l("/bidding"),variant:"primary",size:"sm",children:["Join Session",(0,Tn.jsx)(jc,{className:"w-4 h-4 ml-2"})]})]})]})}),!o&&(0,Tn.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(Ci,{className:"w-6 h-6 text-blue-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-blue-900",children:"No Active Bid Sessions"}),(0,Tn.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"There are currently no active bid sessions. Check the bidding interface for available sessions."})]})]}),(0,Tn.jsxs)(ic,{onClick:()=>l("/bidding"),variant:"secondary",size:"sm",children:["View Sessions",(0,Tn.jsx)(jc,{className:"w-4 h-4 ml-2"})]})]})}),(null===d||void 0===d?void 0:d.isUserTurn)&&(0,Tn.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl p-6",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(Nc,{className:"w-6 h-6 text-red-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-red-900",children:"It's your turn to bid!"}),(0,Tn.jsxs)("p",{className:"text-sm text-red-700 mt-1",children:["Time remaining: ",E(d.timeRemaining)]})]})]}),(0,Tn.jsxs)(ic,{onClick:()=>l("/bidding"),variant:"danger",size:"sm",children:["Bid Now",(0,Tn.jsx)(jc,{className:"w-4 h-4 ml-2"})]})]})}),(0,Tn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:_.map(e=>{const t=e.icon;return(0,Tn.jsx)("div",{className:"card hover:shadow-lg transition-shadow",children:(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)("div",{className:"p-3 rounded-xl ".concat(e.bgColor),children:(0,Tn.jsx)(t,{className:"w-7 h-7 ".concat(e.color)})}),(0,Tn.jsxs)("div",{className:"ml-5",children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.name}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value})]})]}),e.change&&(0,Tn.jsx)("div",{className:"text-right",children:(0,Tn.jsx)("p",{className:"text-xs font-medium ".concat("positive"===e.changeType?"text-green-600":"text-gray-600"),children:e.change})})]})})},e.name)})}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Tn.jsx)("div",{className:"lg:col-span-2",children:(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Current Bid Status"}),(0,Tn.jsx)(ic,{onClick:y,variant:"ghost",size:"sm",children:(0,Tn.jsx)(wc,{className:"w-4 h-4"})})]})}),(0,Tn.jsx)("div",{className:"p-6",children:o?(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)("div",{className:"w-4 h-4 rounded-full ".concat("active"===o.status?"bg-green-500":"bg-yellow-500")}),(0,Tn.jsx)("span",{className:"text-lg font-medium text-gray-900",children:o.name||"Unnamed Session"})]}),(0,Tn.jsx)("div",{className:"px-3 py-1 text-sm font-medium rounded-full ".concat(C(o.status)),children:o.status})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Your Position:"}),(0,Tn.jsx)("span",{className:"ml-3 font-medium",children:null!==d&&void 0!==d&&d.position?"#".concat(d.position):"Not in queue"})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Participants:"}),(0,Tn.jsx)("span",{className:"ml-3 font-medium",children:o.participantCount||(null===(r=o.participants)||void 0===r?void 0:r.length)||0})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Time Limit:"}),(0,Tn.jsx)("span",{className:"ml-3 font-medium",children:E(60*(o.bidWindowDuration||5))})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Session Period:"}),(0,Tn.jsxs)("span",{className:"ml-3 font-medium",children:[o.scheduledStart?new Date(o.scheduledStart).toLocaleDateString():"N/A"," - ",o.scheduledEnd?new Date(o.scheduledEnd).toLocaleDateString():"N/A"]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-rigroster-border",children:[(0,Tn.jsx)("p",{className:"text-sm text-gray-600",children:o.description||"No description available"}),(0,Tn.jsxs)(ic,{onClick:()=>l("/bidding"),variant:"primary",size:"sm",children:["View Session",(0,Tn.jsx)(jc,{className:"w-4 h-4 ml-2"})]})]})]}):(0,Tn.jsxs)("div",{className:"text-center py-12",children:[(0,Tn.jsx)(Ci,{className:"w-16 h-16 text-gray-400 mx-auto mb-6"}),(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-3",children:"No Active Bid Session"}),(0,Tn.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"There are currently no active bid sessions. Check back later or contact your administrator."}),(0,Tn.jsx)(ic,{onClick:()=>l("/bid-history"),variant:"secondary",size:"sm",children:"View Past Sessions"})]})})]})}),(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Notifications"}),(0,Tn.jsx)(Sc,{className:"w-6 h-6 text-gray-400"})]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsx)("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:x.length>0?x.slice(0,5).map((e,t)=>(0,Tn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Tn.jsx)("div",{className:"w-3 h-3 bg-primary-500 rounded-full mt-2 flex-shrink-0"}),(0,Tn.jsxs)("div",{className:"flex-1",children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Tn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.message}),(0,Tn.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:new Date(e.timestamp).toLocaleString()})]})]},t)):(0,Tn.jsx)("p",{className:"text-gray-500 text-center text-sm py-4",children:"No new notifications"})})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Recent Activity"})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsx)("div",{className:"space-y-4",children:m.length>0?m.slice(0,5).map((e,t)=>(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:["login"===e.type&&(0,Tn.jsx)(ji,{className:"w-5 h-5 text-gray-600"}),"bid"===e.type&&(0,Tn.jsx)(dc,{className:"w-5 h-5 text-gray-600"}),"profile"===e.type&&(0,Tn.jsx)(kc,{className:"w-5 h-5 text-gray-600"})]}),(0,Tn.jsxs)("div",{className:"flex-1",children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Tn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description}),(0,Tn.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:new Date(e.timestamp).toLocaleString()})]})]},t)):(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)(yc,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Profile Updated"}),(0,Tn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"2 hours ago"})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)(Ci,{className:"w-6 h-6 text-blue-500 flex-shrink-0"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Last Login"}),(0,Tn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Today at 8:30 AM"})]})]})]})})})]})]})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Quick Actions"})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Tn.jsxs)(ic,{variant:"secondary",className:"h-24 flex-col p-4",onClick:()=>l("/profile"),children:[(0,Tn.jsx)(ji,{className:"w-7 h-7 mb-3"}),(0,Tn.jsx)("span",{className:"text-sm",children:"Update Profile"})]}),(0,Tn.jsxs)(ic,{variant:"secondary",className:"h-24 flex-col p-4",onClick:()=>l("/stations"),children:[(0,Tn.jsx)(ki,{className:"w-7 h-7 mb-3"}),(0,Tn.jsx)("span",{className:"text-sm",children:"View Stations"})]}),(0,Tn.jsxs)(ic,{variant:"secondary",className:"h-24 flex-col p-4",onClick:()=>l("/bid-history"),children:[(0,Tn.jsx)(Cc,{className:"w-7 h-7 mb-3"}),(0,Tn.jsx)("span",{className:"text-sm",children:"Bid History"})]}),(0,Tn.jsxs)(ic,{variant:"secondary",className:"h-24 flex-col p-4",onClick:()=>l("/seniority"),children:[(0,Tn.jsx)(Ni,{className:"w-7 h-7 mb-3"}),(0,Tn.jsx)("span",{className:"text-sm",children:"Seniority Info"})]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"System Status"})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Bidding System"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Real-time Updates"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Database"})]})]})})]})]})},Ac=()=>{const{user:e}=qn(),{socket:t}=hi(),[s,r]=(0,n.useState)(null),[a,i]=(0,n.useState)([]),[l,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(0),[u,m]=(0,n.useState)(!1),[h,f]=(0,n.useState)(null),[p,x]=(0,n.useState)(!0),[g,y]=(0,n.useState)(!1),[v,b]=(0,n.useState)([]),[j,N]=(0,n.useState)("waiting"),w=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(S(),t)return t.on("bid-session-update",_),t.on("user-turn",A),t.on("bid-submitted",P),t.on("session-ended",O),()=>{t.off("bid-session-update"),t.off("user-turn"),t.off("bid-submitted"),t.off("session-ended")}},[t]),(0,n.useEffect)(()=>(s&&u?T():clearInterval(w.current),()=>{clearInterval(w.current)}),[s,u,c]);const S=async()=>{try{x(!0);const e=await On.get(Pn.current);e.data.session&&(r(e.data.session),N(e.data.session.status),await k(),await C(),await E())}catch(e){console.error("Error fetching current session:",e),ts.error("Failed to load current bid session")}finally{x(!1)}},k=async()=>{try{const e=await On.get("/stations/available");i(e.data.stations||[])}catch(e){console.error("Error fetching available stations:",e)}},C=async()=>{try{const e=await On.get("/users/bid-status");o(e.data.position),m(e.data.isUserTurn||!1),d(e.data.timeRemaining||0)}catch(e){console.error("Error fetching user position:",e)}},E=async()=>{try{const e=await On.get(An.bidHistory);b(e.data.bidHistory||[])}catch(e){console.error("Error fetching bid history:",e)}},_=e=>{r(e.session),N(e.session.status),e.userPosition&&o(e.userPosition)},A=e=>{m(!0),d(e.timeRemaining||(null===s||void 0===s?void 0:s.bidTimeLimit)||300),ts.success("It's your turn to bid!",{duration:5e3,icon:"\ud83c\udfaf"})},P=t=>{b(e=>[t.bid,...e]),t.userId===e._id&&(m(!1),f(null),ts.success("Bid submitted successfully!",{icon:"\u2705"}))},O=e=>{N("completed"),m(!1),ts.success("Bid session has ended!",{icon:"\ud83c\udfc1"})},T=()=>{w.current=setInterval(()=>{d(e=>e<=1?(clearInterval(w.current),m(!1),ts.error("Time expired! Your turn has passed.",{icon:"\u23f0"}),0):e-1)},1e3)},R=e=>{const t=Math.floor(e/60),s=e%60;return"".concat(t,":").concat(s.toString().padStart(2,"0"))};return p?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):s?(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Bid Interface"}),(0,Tn.jsx)("p",{className:"mt-2 text-gray-600",children:"Real-time shift bidding session"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)("div",{className:"px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-2 ".concat((e=>{switch(e){case"active":return"text-green-600 bg-green-100";case"waiting":return"text-yellow-600 bg-yellow-100";case"completed":return"text-blue-600 bg-blue-100";case"paused":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}})(j)),children:[(e=>{switch(e){case"active":return(0,Tn.jsx)(gc,{className:"w-4 h-4"});case"waiting":default:return(0,Tn.jsx)(Ci,{className:"w-4 h-4"});case"completed":return(0,Tn.jsx)(yc,{className:"w-4 h-4"});case"paused":return(0,Tn.jsx)(vc,{className:"w-4 h-4"})}})(j),(0,Tn.jsx)("span",{className:"capitalize",children:j})]}),(0,Tn.jsx)(ic,{onClick:S,variant:"secondary",size:"sm",children:(0,Tn.jsx)(wc,{className:"w-4 h-4"})})]})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:s.name})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(mc,{className:"w-5 h-5 text-gray-400"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm text-gray-600",children:"Session Period"}),(0,Tn.jsxs)("p",{className:"font-medium text-gray-900",children:[new Date(s.startDate).toLocaleDateString()," - ",new Date(s.endDate).toLocaleDateString()]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(wi,{className:"w-5 h-5 text-gray-400"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm text-gray-600",children:"Participants"}),(0,Tn.jsx)("p",{className:"font-medium text-gray-900",children:s.participantCount||0})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(bc,{className:"w-5 h-5 text-gray-400"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm text-gray-600",children:"Bid Time Limit"}),(0,Tn.jsx)("p",{className:"font-medium text-gray-900",children:R(s.bidTimeLimit||300)})]})]})]})})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Tn.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Your Position"})}),(0,Tn.jsx)("div",{className:"card-body",children:l?(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsxs)("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:["#",l]}),(0,Tn.jsx)("p",{className:"text-sm text-gray-600",children:1===l?"You are next!":"".concat(l-1," people ahead of you")})]}):(0,Tn.jsx)("div",{className:"text-center text-gray-500",children:(0,Tn.jsx)("p",{children:"Position not available"})})})]}),u&&(0,Tn.jsxs)("div",{className:"card border-2 border-primary-500 bg-primary-50",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-primary-900",children:"Your Turn!"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsx)("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:R(c)}),(0,Tn.jsx)("p",{className:"text-sm text-primary-700",children:"Time remaining to submit your bid"}),c<=30&&(0,Tn.jsxs)("div",{className:"mt-2 flex items-center justify-center text-red-600",children:[(0,Tn.jsx)(Nc,{className:"w-4 h-4 mr-1"}),(0,Tn.jsx)("span",{className:"text-sm font-medium",children:"Time running out!"})]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Bids"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:v.length>0?v.slice(0,10).map((e,t)=>(0,Tn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(ki,{className:"w-4 h-4 text-gray-400"}),(0,Tn.jsxs)("span",{className:"font-medium",children:["Station ",e.station.number]}),(0,Tn.jsxs)("span",{className:"text-gray-500",children:["Shift ",e.shift]})]}),(0,Tn.jsx)("span",{className:"text-gray-500 text-xs",children:new Date(e.timestamp).toLocaleTimeString()})]},t)):(0,Tn.jsx)("p",{className:"text-gray-500 text-center",children:"No bids yet"})})})]})]}),(0,Tn.jsx)("div",{className:"lg:col-span-2",children:(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Available Stations"})}),(0,Tn.jsx)("div",{className:"card-body",children:u?(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(Nc,{className:"w-5 h-5 text-yellow-600"}),(0,Tn.jsx)("p",{className:"text-yellow-800 font-medium",children:"It's your turn to bid!"})]}),(0,Tn.jsx)("p",{className:"text-yellow-700 text-sm mt-1",children:'Select a station below and click "Submit Bid" before time runs out.'})]}),(0,Tn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(e=>(0,Tn.jsxs)("div",{className:"border-2 rounded-lg p-4 cursor-pointer transition-all ".concat((null===h||void 0===h?void 0:h._id)===e._id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-300"),onClick:()=>(e=>{f(e)})(e),children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tn.jsxs)("h4",{className:"font-medium text-gray-900",children:["Station ",e.number]}),(null===h||void 0===h?void 0:h._id)===e._id&&(0,Tn.jsx)(yc,{className:"w-5 h-5 text-primary-600"})]}),(0,Tn.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.name}),e.address&&(0,Tn.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[(0,Tn.jsx)(hc,{className:"w-4 h-4 mr-1"}),(0,Tn.jsxs)("span",{children:[e.address.street,", ",e.address.city]})]}),(0,Tn.jsx)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:["A","B","C"].map(t=>{var s,r,n;const a=((null===(s=e.shiftCapacity)||void 0===s?void 0:s[t])||0)-((null===(r=e.currentAssignments)||void 0===r||null===(n=r[t])||void 0===n?void 0:n.length)||0);return(0,Tn.jsxs)("div",{className:"text-center p-2 bg-gray-50 rounded",children:[(0,Tn.jsxs)("div",{className:"font-medium",children:["Shift ",t]}),(0,Tn.jsx)("div",{className:"font-bold ".concat(a>0?"text-green-600":"text-red-600"),children:a}),(0,Tn.jsx)("div",{className:"text-gray-500",children:"available"})]},t)})})]},e._id))}),h&&(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-4 bg-primary-50 rounded-lg",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(ki,{className:"w-5 h-5 text-primary-600"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("p",{className:"font-medium text-primary-900",children:["Selected: Station ",h.number]}),(0,Tn.jsx)("p",{className:"text-sm text-primary-700",children:h.name})]})]}),(0,Tn.jsx)(ic,{onClick:async()=>{h?ts.error("Bidding functionality not implemented yet"):ts.error("Please select a station first")},variant:"primary",loading:g,disabled:g,children:"Submit Bid"})]})]}):(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)(Ci,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Waiting for your turn"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:l?"You are position #".concat(l," in the queue"):"Your position will be displayed here"})]})})]})})]})]}):(0,Tn.jsxs)("div",{className:"text-center py-12",children:[(0,Tn.jsx)(Ci,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Bid Session"}),(0,Tn.jsx)("p",{className:"text-gray-600 mb-6",children:"There is currently no active bid session. Check back later or contact your administrator."}),(0,Tn.jsxs)(ic,{onClick:S,variant:"primary",children:[(0,Tn.jsx)(wc,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})},Pc=yi("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Oc=yi("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Tc=yi("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Rc=e=>{var t,s,r,a,i,l,o,c,d,u,m,h,f,p,x,g,y,v;let{session:b,currentUser:j}=e;const[N,w]=(0,n.useState)(new Date),[S,k]=(0,n.useState)(0),C=(0,n.useCallback)(async()=>{try{console.log("Checking for timer expiration...");const e=await On.post("/bid-sessions/".concat(b.id||b._id,"/check-time-expiration"));console.log("Timer expiration check response:",e.data)}catch(e){console.error("Error checking timer expiration:",e)}},[null===b||void 0===b?void 0:b.id,null===b||void 0===b?void 0:b._id]);if((0,n.useEffect)(()=>{console.log("TurnDisplay - Session:",b),console.log("TurnDisplay - CurrentBidEnd:",null===b||void 0===b?void 0:b.currentBidEnd),console.log("TurnDisplay - Status:",null===b||void 0===b?void 0:b.status)},[b]),(0,n.useEffect)(()=>{const e=setInterval(()=>{w(new Date)},1e3),t=setInterval(()=>{if("active"===(null===b||void 0===b?void 0:b.status)&&null!==b&&void 0!==b&&b.currentBidEnd){const e=new Date(b.currentBidEnd);new Date>e&&C()}},1e4);return()=>{clearInterval(e),clearInterval(t)}},[null===b||void 0===b?void 0:b.status,null===b||void 0===b?void 0:b.currentBidEnd,C]),(0,n.useEffect)(()=>{if(null===b||void 0===b||!b.currentBidEnd||"active"!==b.status&&"paused"!==b.status)if("active"===(null===b||void 0===b?void 0:b.status)&&null!==b&&void 0!==b&&b.bidWindowDuration){const e=60*b.bidWindowDuration*1e3;k(e)}else k(0);else{const e=new Date(b.currentBidEnd).getTime()-N.getTime();k(Math.max(0,e)),e<=0&&"active"===b.status&&C()}},[null===b||void 0===b?void 0:b.currentBidEnd,null===b||void 0===b?void 0:b.status,null===b||void 0===b?void 0:b.bidWindowDuration,N,C]),!b||"active"!==b.status&&"paused"!==b.status&&"scheduled"!==b.status)return null;const E=null===(t=b.participants)||void 0===t?void 0:t.find(e=>e.position===b.currentParticipant-1),_=null===(s=b.participants)||void 0===s?void 0:s.find(e=>e.position===b.currentParticipant);console.log("TurnDisplay - Participant Finding:",{currentParticipantIndex:b.currentParticipant,currentParticipantPosition:b.currentParticipant-1,currentParticipantFound:E,nextParticipantFound:_,allParticipants:null===(r=b.participants)||void 0===r?void 0:r.map(e=>{var t,s,r;return{position:e.position,name:"".concat(null===(t=e.user)||void 0===t?void 0:t.firstName," ").concat(null===(s=e.user)||void 0===s?void 0:s.lastName),userId:null===(r=e.user)||void 0===r?void 0:r._id}})});const A=(null===E||void 0===E||null===(a=E.user)||void 0===a?void 0:a.id)===(null===j||void 0===j?void 0:j._id)||(null===E||void 0===E||null===(i=E.user)||void 0===i?void 0:i._id)===(null===j||void 0===j?void 0:j._id),P=(null===_||void 0===_||null===(l=_.user)||void 0===l?void 0:l.id)===(null===j||void 0===j?void 0:j._id)||(null===_||void 0===_||null===(o=_.user)||void 0===o?void 0:o._id)===(null===j||void 0===j?void 0:j._id);console.log("TurnDisplay Debug:",{sessionId:b.id||b._id,status:b.status,currentParticipant:b.currentParticipant,currentParticipantData:E,nextParticipantData:_,currentUser:null===j||void 0===j?void 0:j._id,isCurrentUserTurn:A,isNextUserTurn:P,participants:null===(c=b.participants)||void 0===c?void 0:c.map(e=>{var t,s,r;return{position:e.position,userId:null===(t=e.user)||void 0===t?void 0:t._id,name:"".concat(null===(s=e.user)||void 0===s?void 0:s.firstName," ").concat(null===(r=e.user)||void 0===r?void 0:r.lastName)}})});const O=e=>{if(e<=0)return"00:00";const t=Math.floor(e/6e4),s=Math.floor(e%6e4/1e3);return"".concat(t.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"))};return(0,Tn.jsxs)("div",{className:"rounded-lg border p-6 shadow-sm ".concat(A?"bg-gradient-to-r from-blue-50 to-green-50 border-blue-300 shadow-lg":"bg-white border-gray-200"),children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,Tn.jsx)(gc,{className:"w-5 h-5 mr-2 text-green-600"}),"Active Bidding Session",A&&(0,Tn.jsx)("span",{className:"ml-3 px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full animate-pulse",children:"YOUR TURN!"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-500",children:"Session:"}),(0,Tn.jsx)("span",{className:"font-medium text-gray-900",children:b.name})]})]}),(0,Tn.jsxs)("div",{className:"mb-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tn.jsxs)("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(ji,{className:"w-4 h-4 mr-2"}),"Current Turn"]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full ".concat(S<=0?"bg-red-100":S<=6e4?"bg-orange-100":S<=18e4?"bg-yellow-100":"bg-green-100"),children:[(0,Tn.jsx)(bc,{className:"w-4 h-4"}),(0,Tn.jsx)("span",{className:"font-mono font-bold text-lg ".concat(S<=0?"text-red-600":S<=6e4?"text-orange-600":S<=18e4?"text-yellow-600":"text-green-600"),children:O(S)}),!(null!==b&&void 0!==b&&b.currentBidEnd)&&"active"===(null===b||void 0===b?void 0:b.status)&&(0,Tn.jsx)("span",{className:"text-xs text-gray-500",children:"(Default)"})]})]}),E?(0,Tn.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat(A?"border-blue-500 bg-blue-50":"border-gray-200 bg-gray-50"),children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(A?"bg-blue-100":"bg-gray-100"),children:(0,Tn.jsx)(ji,{className:"w-5 h-5 ".concat(A?"text-blue-600":"text-gray-600")})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("p",{className:"font-medium text-gray-900",children:[null===(d=E.user)||void 0===d?void 0:d.firstName," ",null===(u=E.user)||void 0===u?void 0:u.lastName]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:[null===(m=E.user)||void 0===m?void 0:m.rank," - ",null===(h=E.user)||void 0===h?void 0:h.position]}),(0,Tn.jsxs)("p",{className:"text-xs text-gray-400",children:["Priority: #",E.bidPriority]})]})]}),(0,Tn.jsxs)("div",{className:"text-right",children:[A&&(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-1 text-blue-600",children:[(0,Tn.jsx)(yc,{className:"w-4 h-4"}),(0,Tn.jsx)("span",{className:"text-sm font-medium",children:"Your Turn!"})]}),(0,Tn.jsx)("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("openBidModal",{detail:{session:b}}))},className:"px-3 py-1 bg-green-600 text-white text-xs font-medium rounded hover:bg-green-700 transition-colors",children:"Bid Now"})]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["Position: ",E.position+1," of ",(null===(f=b.participants)||void 0===f?void 0:f.length)||0]})]})]})}):(0,Tn.jsx)("div",{className:"p-4 rounded-lg border-2 border-gray-200 bg-gray-50",children:(0,Tn.jsx)("p",{className:"text-gray-500 text-center",children:"No current participant"})})]}),_&&(0,Tn.jsxs)("div",{className:"mb-4",children:[(0,Tn.jsxs)("h4",{className:"text-md font-medium text-gray-900 flex items-center mb-3",children:[(0,Tn.jsx)(wi,{className:"w-4 h-4 mr-2"}),"Next in Queue"]}),(0,Tn.jsx)("div",{className:"p-3 rounded-lg border ".concat(P?"border-green-500 bg-green-50":"border-gray-200 bg-gray-50"),children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(P?"bg-green-100":"bg-gray-100"),children:(0,Tn.jsx)(ji,{className:"w-4 h-4 ".concat(P?"text-green-600":"text-gray-600")})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("p",{className:"font-medium text-gray-900",children:[null===(p=_.user)||void 0===p?void 0:p.firstName," ",null===(x=_.user)||void 0===x?void 0:x.lastName]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:[null===(g=_.user)||void 0===g?void 0:g.rank," - Priority: #",_.bidPriority]})]})]}),P&&(0,Tn.jsxs)("div",{className:"flex items-center space-x-1 text-green-600",children:[(0,Tn.jsx)(Nc,{className:"w-4 h-4"}),(0,Tn.jsx)("span",{className:"text-sm font-medium",children:"You're Next!"})]})]})})]}),(0,Tn.jsxs)("div",{className:"border-t pt-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Session Progress"}),(0,Tn.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[b.completedBids||0," of ",(null===(y=b.participants)||void 0===y?void 0:y.length)||0," completed"]})]}),(0,Tn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Tn.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((null===(v=b.participants)||void 0===v?void 0:v.length)>0?Math.round((b.completedBids||0)/b.participants.length*100):0,"%")}})})]}),S<=6e4&&S>0&&(0,Tn.jsx)("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(Nc,{className:"w-4 h-4 text-orange-600"}),(0,Tn.jsxs)("span",{className:"text-sm text-orange-800 font-medium",children:["Time is running out! ",O(S)," remaining"]})]})}),"paused"===b.status&&(0,Tn.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(vc,{className:"w-4 h-4 text-yellow-600"}),(0,Tn.jsx)("span",{className:"text-sm text-yellow-800 font-medium",children:"Session is currently paused"})]})})]})},Fc=e=>{var t,s,r;let{session:a,currentUser:i,isAdmin:l=!1}=e;const[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[f,p]=(0,n.useState)(!0),[x,g]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),[,b]=(0,n.useState)(new Date),j=(0,n.useCallback)(async()=>{try{const e=await On.get(Pn.history(a.id||a._id)),t=(e.data.history||[]).filter(e=>"bid_submitted"===e.action).slice(0,5);c(t)}catch(e){console.error("Error fetching recent bids:",e)}},[a.id,a._id]),N=(0,n.useCallback)(async()=>{if(!a.participants)return;const e=a.currentParticipant-1,t=a.participants.slice(e+1,e+4).filter(e=>e.user);u(t)},[a.participants,a.currentParticipant]),w=(0,n.useCallback)(async()=>{try{const e=await On.get(Pn.history(a.id||a._id)),t=(e.data.history||[]).filter(e=>"bid_submitted"===e.action);h(t)}catch(e){console.error("Error fetching all bids:",e)}},[a.id,a._id]),S=(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?g(!0):p(!0),await Promise.all([j(),N(),w()])}catch(t){console.error("Error fetching session data:",t),ts.error("Failed to load session data")}finally{p(!1),g(!1)}},[j,N,w]);(0,n.useEffect)(()=>{a&&S()},[a,S]),(0,n.useEffect)(()=>{const e=setInterval(()=>{b(new Date)},1e3);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{if(!a)return;const e=setInterval(()=>{S(!0)},3e4);return()=>clearInterval(e)},[a,S]);const k=e=>{const t=new Date(e),s=new Date-t,r=Math.floor(s/6e4);return r<1?"Just now":r<60?"".concat(r,"m ago"):r<1440?"".concat(Math.floor(r/60),"h ago"):t.toLocaleDateString()},C=e=>"completed"===e.status?(0,Tn.jsx)(yc,{className:"w-4 h-4 text-green-600"}):"pending"===e.status?(0,Tn.jsx)(Ci,{className:"w-4 h-4 text-yellow-600"}):(0,Tn.jsx)(Nc,{className:"w-4 h-4 text-gray-600"}),E=e=>e<=5?"text-green-600 bg-green-100":e<=10?"text-blue-600 bg-blue-100":e<=15?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100";return f?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border border-blue-200",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.name}),(0,Tn.jsx)("p",{className:"text-gray-600 mb-4",children:a.description}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(wi,{className:"w-5 h-5 text-blue-600"}),(0,Tn.jsxs)("span",{className:"text-sm text-gray-600",children:[(null===(t=a.participants)||void 0===t?void 0:t.length)||0," Participants"]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(bi,{className:"w-5 h-5 text-green-600"}),(0,Tn.jsxs)("span",{className:"text-sm text-gray-600",children:[a.completedBids||0," Bids Completed"]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(Ci,{className:"w-5 h-5 text-orange-600"}),(0,Tn.jsxs)("span",{className:"text-sm text-gray-600",children:[a.bidWindowDuration||5," min windows"]})]})]})]}),(0,Tn.jsx)("div",{className:"text-right",children:(0,Tn.jsxs)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("active"===a.status?"bg-green-100 text-green-800":"paused"===a.status?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"),children:["active"===a.status?(0,Tn.jsx)(gc,{className:"w-4 h-4 mr-1"}):"paused"===a.status?(0,Tn.jsx)(vc,{className:"w-4 h-4 mr-1"}):(0,Tn.jsx)(mc,{className:"w-4 h-4 mr-1"}),a.status.charAt(0).toUpperCase()+a.status.slice(1)]})})]})}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Tn.jsx)("div",{className:"lg:col-span-2",children:(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(Si,{className:"w-6 h-6 mr-3"}),"Recent Bids",l&&(0,Tn.jsx)("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Admin View"})]}),(0,Tn.jsxs)(ic,{variant:"secondary",size:"sm",onClick:()=>S(!0),disabled:x,children:[(0,Tn.jsx)(wc,{className:"w-4 h-4 mr-2 ".concat(x?"animate-spin":"")}),x?"Refreshing...":"Refresh"]})]})}),(0,Tn.jsx)("div",{className:"p-6",children:o.length>0?(0,Tn.jsx)("div",{className:"space-y-4",children:o.map((e,t)=>(0,Tn.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Tn.jsx)("div",{className:"flex-shrink-0",children:(0,Tn.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(ji,{className:"w-5 h-5 text-blue-600"})})}),(0,Tn.jsx)("div",{className:"flex-1 min-w-0",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"font-medium text-gray-900",children:e.userName||"Unknown User"}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[e.stationName&&(0,Tn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Tn.jsx)(ki,{className:"w-3 h-3"}),(0,Tn.jsx)("span",{children:e.stationName})]}),e.shift&&(0,Tn.jsxs)("span",{children:[e.shift," Shift"]}),e.position&&(0,Tn.jsx)("span",{children:e.position})]})]}),(0,Tn.jsxs)("div",{className:"text-right",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[C(e),(0,Tn.jsx)("span",{className:"text-sm text-gray-500",children:k(e.timestamp)})]}),e.bidPriority&&(0,Tn.jsxs)("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full ".concat(E(e.bidPriority)),children:["Priority #",e.bidPriority]})]})]})})]},t))}):(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)(bi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Recent Bids"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:"No bids have been placed yet in this session."})]})})]})}),(0,Tn.jsxs)("div",{className:"lg:col-span-1",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(wi,{className:"w-6 h-6 mr-3"}),"Upcoming"]})}),(0,Tn.jsx)("div",{className:"p-6",children:d.length>0?(0,Tn.jsx)("div",{className:"space-y-4",children:d.map((e,t)=>(0,Tn.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Tn.jsx)("div",{className:"flex-shrink-0",children:(0,Tn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(0===t?"bg-green-100":"bg-blue-100"),children:(0,Tn.jsx)(ji,{className:"w-4 h-4 ".concat(0===t?"text-green-600":"text-blue-600")})})}),(0,Tn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tn.jsxs)("p",{className:"font-medium text-gray-900",children:[e.user.firstName," ",e.user.lastName]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:e.user.rank}),(0,Tn.jsxs)("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full ".concat(E(e.bidPriority)),children:["#",e.bidPriority]})]})]}),(0,Tn.jsx)("div",{className:"flex-shrink-0",children:(0,Tn.jsx)("span",{className:"text-sm text-gray-500",children:0===t?"Next":"#".concat(t+1)})})]},e.user._id))}):(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)(wi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Upcoming Users"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:"All participants have completed their turns."})]})})]}),(0,Tn.jsxs)("div",{className:"card mt-6",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(Ni,{className:"w-6 h-6 mr-3"}),"Session Stats"]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Progress"}),(0,Tn.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:[(null===(s=a.participants)||void 0===s?void 0:s.length)>0?Math.round((a.completedBids||0)/a.participants.length*100):0,"%"]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,Tn.jsx)("span",{className:"text-lg font-bold text-green-600",children:a.completedBids||0})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Remaining"}),(0,Tn.jsx)("span",{className:"text-lg font-bold text-orange-600",children:((null===(r=a.participants)||void 0===r?void 0:r.length)||0)-(a.completedBids||0)})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Avg Time"}),(0,Tn.jsxs)("span",{className:"text-lg font-bold text-purple-600",children:[a.bidWindowDuration||5,"m"]})]})]})})]})]})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(Ni,{className:"w-6 h-6 mr-3"}),"All Bids History"]}),(0,Tn.jsxs)(ic,{variant:"secondary",size:"sm",onClick:()=>v(!y),children:[(0,Tn.jsx)(lo,{className:"w-4 h-4 mr-2"}),y?"Hide":"Show"," All"]})]})}),y&&(0,Tn.jsx)("div",{className:"p-6",children:m.length>0?(0,Tn.jsx)("div",{className:"overflow-x-auto",children:(0,Tn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Tn.jsx)("thead",{className:"bg-gray-50",children:(0,Tn.jsxs)("tr",{children:[(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Station"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shift"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,Tn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map((e,t)=>(0,Tn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k(e.timestamp)}),(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.userName||"Unknown"}),(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.stationName||"N/A"}),(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.shift||"N/A"}),(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.position||"N/A"}),(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.bidPriority&&(0,Tn.jsxs)("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full ".concat(E(e.bidPriority)),children:["#",e.bidPriority]})}),(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[C(e),(0,Tn.jsx)("span",{className:"text-sm text-gray-900",children:e.status||"Unknown"})]})})]},t))})]})}):(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)(Ni,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Bids Yet"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:"No bids have been placed in this session."})]})})]})]})},Lc=e=>{let{session:t,socket:s,isConnected:r}=e;const[a,i]=(0,n.useState)([]),[l,o]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!s||!r)return;const e=e=>{const t={id:Date.now(),type:"bid_submitted",message:"".concat(e.userName||"A user"," placed a bid for ").concat(e.stationName||"a station"),details:{station:e.stationName,shift:e.shift,position:e.position,userName:e.userName},timestamp:new Date};i(e=>[t,...e.slice(0,4)]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==t.id))},5e3)},t=e=>{const t={id:Date.now(),type:"turn_update",message:"It's ".concat(e.userName||"someone","'s turn to bid"),details:{userName:e.userName,position:e.position},timestamp:new Date};i(e=>[t,...e.slice(0,4)]),setTimeout(()=>{i(e=>e.filter(e=>e.id!==t.id))},5e3)};return s.on("bid-submitted",e),s.on("turn-updated",t),()=>{s.off("bid-submitted",e),s.off("turn-updated",t)}},[s,r]);const c=e=>{switch(e){case"bid_submitted":return(0,Tn.jsx)(yc,{className:"w-4 h-4 text-green-600"});case"turn_update":return(0,Tn.jsx)(ji,{className:"w-4 h-4 text-blue-600"});default:return(0,Tn.jsx)(Sc,{className:"w-4 h-4 text-gray-600"})}},d=e=>{switch(e){case"bid_submitted":return"bg-green-50 border-green-200";case"turn_update":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}};return t&&"active"===t.status?(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsxs)("button",{onClick:()=>o(!l),className:"relative p-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,Tn.jsx)(Sc,{className:"w-6 h-6"}),a.length>0&&(0,Tn.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:a.length})]}),l&&(0,Tn.jsxs)("div",{className:"absolute right-0 top-12 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[(0,Tn.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Live Updates"}),(0,Tn.jsx)("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]})}),(0,Tn.jsx)("div",{className:"max-h-96 overflow-y-auto",children:a.length>0?(0,Tn.jsx)("div",{className:"p-2",children:a.map(e=>(0,Tn.jsx)("div",{className:"p-3 rounded-lg border mb-2 ".concat(d(e.type)),children:(0,Tn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Tn.jsx)("div",{className:"flex-shrink-0 mt-1",children:c(e.type)}),(0,Tn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.message}),e.details&&(0,Tn.jsxs)("div",{className:"flex items-center space-x-2 mt-1 text-xs text-gray-600",children:[e.details.station&&(0,Tn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Tn.jsx)(ki,{className:"w-3 h-3"}),(0,Tn.jsx)("span",{children:e.details.station})]}),e.details.shift&&(0,Tn.jsxs)("span",{children:[e.details.shift," Shift"]})]}),(0,Tn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp.toLocaleTimeString()})]}),(0,Tn.jsx)("button",{onClick:()=>{return t=e.id,void i(e=>e.filter(e=>e.id!==t));var t},className:"flex-shrink-0 text-gray-400 hover:text-gray-600",children:(0,Tn.jsx)(Ei,{className:"w-3 h-3"})})]})},e.id))}):(0,Tn.jsxs)("div",{className:"p-4 text-center",children:[(0,Tn.jsx)(Si,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,Tn.jsx)("p",{className:"text-sm text-gray-600",children:"No recent updates"})]})})]})]}):null},Dc=()=>{var e,t,s,r,a,i;const{user:l}=qn(),{socket:o,isConnected:c}=hi(),[d,u]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[f,p]=(0,n.useState)(!0),[,x]=(0,n.useState)(!0),[g,y]=(0,n.useState)(null),[v,b]=(0,n.useState)(!1),[j,N]=(0,n.useState)({station:"",shift:"",position:""}),[w,S]=(0,n.useState)(!1),[k,C]=(0,n.useState)(null),[E,_]=(0,n.useState)([]),[A,P]=(0,n.useState)(!1),[O,T]=(0,n.useState)(!1),R=k&&("active"===k.status||"paused"===k.status)&&(null===(e=k.participants)||void 0===e?void 0:e.length)>0&&k.currentParticipant>0&&k.currentParticipant<=k.participants.length&&(null===(t=k.participants)||void 0===t?void 0:t.some(e=>{var t,s;return(null===(t=e.user)||void 0===t?void 0:t.id)===(null===l||void 0===l?void 0:l._id)||(null===(s=e.user)||void 0===s?void 0:s._id)===(null===l||void 0===l?void 0:l._id)}))&&(null===(s=k.participants)||void 0===s?void 0:s.some(e=>{var t,s;return((null===(t=e.user)||void 0===t?void 0:t.id)===(null===l||void 0===l?void 0:l._id)||(null===(s=e.user)||void 0===s?void 0:s._id)===(null===l||void 0===l?void 0:l._id))&&e.position===k.currentParticipant-1})),F=k&&("active"===k.status||"paused"===k.status)&&(null===(r=k.participants)||void 0===r?void 0:r.length)>0&&k.currentParticipant>0&&k.currentParticipant<=k.participants.length&&(null===(a=k.participants)||void 0===a?void 0:a.some(e=>{var t,s;return(null===(t=e.user)||void 0===t?void 0:t.id)===(null===l||void 0===l?void 0:l._id)||(null===(s=e.user)||void 0===s?void 0:s._id)===(null===l||void 0===l?void 0:l._id)}))&&(null===(i=k.participants)||void 0===i?void 0:i.some(e=>{var t,s;return((null===(t=e.user)||void 0===t?void 0:t.id)===(null===l||void 0===l?void 0:l._id)||(null===(s=e.user)||void 0===s?void 0:s._id)===(null===l||void 0===l?void 0:l._id))&&e.position===k.currentParticipant-1}));(0,n.useEffect)(()=>{L(),D(),B()},[]),(0,n.useEffect)(()=>{const e=e=>{const{session:t}=e.detail;y(t),b(!0)};return window.addEventListener("openBidModal",e),()=>{window.removeEventListener("openBidModal",e)}},[]),(0,n.useEffect)(()=>{o&&c&&d.length>0&&(console.log("Joining bid session rooms for sessions:",d),d.forEach(e=>{if("active"===e.status||"paused"===e.status||"scheduled"===e.status){const t=e.id||e._id;console.log("Joining session:",t),o.emit("join_bid_session",{sessionId:t}),o.on("bid_session_joined",e=>{console.log("Successfully joined bid session room:",e)}),o.on("error",e=>{console.error("Socket error while joining session:",e)})}}))},[o,c,d]),(0,n.useEffect)(()=>{if(!o||!c)return;const e=e=>{console.log("New bid session received:",e),S(!0),L()},t=e=>{console.log("Session status changed:",e),L()},s=e=>{console.log("Bid submitted:",e),D()},r=e=>{console.log("Turn updated:",e),ts(e.message||"Turn updated"),L()},n=e=>{console.log("Bid confirmed:",e),ts.success("Bid submitted successfully! Station: ".concat(e.station.name,", Shift: ").concat(e.shift,", Position: ").concat(e.position)),D(),L()},a=e=>{console.error("Bid error:",e),ts.error(e.message||"Failed to submit bid"),P(!1)},i=e=>{console.log("Joined bid session:",e),ts.success("Joined bid session: ".concat(e.session.name))},l=e=>{console.log("Session updated:",e),L()},d=e=>{console.log("Joined bid session notification:",e),ts.success("Successfully joined ".concat(e.sessionName)),L()},u=e=>{console.log("Auto-join bid session:",e),ts.success("Automatically joined ".concat(e.sessionName)),L()};return o.on("new-bid-session",e),o.on("bid-session-started",t),o.on("bid-session-paused",t),o.on("bid-session-resumed",t),o.on("bid-session-completed",t),o.on("bid-submitted",s),o.on("turn-updated",r),o.on("turn-timeout-warning",r),o.on("bid_confirmed",n),o.on("error",a),o.on("bid_session_joined",i),o.on("session-updated",l),o.on("joined-bid-session",d),o.on("auto-join-bid-session",u),()=>{o.off("new-bid-session",e),o.off("bid-session-started",t),o.off("bid-session-paused",t),o.off("bid-session-resumed",t),o.off("bid-session-completed",t),o.off("bid-submitted",s),o.off("turn-updated",r),o.off("turn-timeout-warning",r),o.off("bid_confirmed",n),o.off("error",a),o.off("bid_session_joined",i),o.off("session-updated",l),o.off("joined-bid-session",d),o.off("auto-join-bid-session",u)}},[o,c]);const L=async()=>{try{p(!0);const e=await On.get(Pn.list),t=(e.data.sessions||[]).filter(e=>"active"===e.status||"paused"===e.status||"scheduled"===e.status);u(t);const s=t.find(e=>"active"===e.status||"paused"===e.status);C(s)}catch(e){console.error("Error fetching active sessions:",e),ts.error("Failed to load active sessions")}finally{p(!1)}},D=async()=>{try{x(!0);const e=await On.get(An.bidHistory);h(e.data.bidHistory||[])}catch(e){console.error("Error fetching my bids:",e)}finally{x(!1)}},B=async()=>{try{T(!0),console.log("Fetching stations...");const e=await On.get("/stations");if(console.log("Stations response:",e.data),e.data.stations&&e.data.stations.length>0)_(e.data.stations||[]);else{const e=await On.get("/stations/available");console.log("Available stations response:",e.data),_(e.data.stations||[])}}catch(e){console.error("Error fetching stations:",e),ts.error("Failed to load stations. Please refresh the page.")}finally{T(!1)}},z=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),I=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"draft":default:return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"paused":return"bg-orange-100 text-orange-800";case"completed":return"bg-purple-100 text-purple-800"}},M=e=>{switch(e){case"active":return(0,Tn.jsx)(gc,{className:"w-4 h-4 text-green-600"});case"paused":return(0,Tn.jsx)(vc,{className:"w-4 h-4 text-orange-600"});case"scheduled":return(0,Tn.jsx)(mc,{className:"w-4 h-4 text-blue-600"});case"draft":return(0,Tn.jsx)(Pc,{className:"w-4 h-4 text-gray-600"});case"completed":return(0,Tn.jsx)(yc,{className:"w-4 h-4 text-purple-600"});default:return(0,Tn.jsx)(mc,{className:"w-4 h-4 text-gray-600"})}};return f?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Bidding Interface"}),(0,Tn.jsx)("p",{className:"mt-3 text-gray-600",children:"Participate in bid sessions and manage your station assignments"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)(ic,{onClick:()=>{L(),S(!1)},variant:"secondary",size:"sm",className:w?"bg-orange-100 text-orange-800 border-orange-300":"",children:[(0,Tn.jsx)(wc,{className:"w-4 h-4 mr-2"}),"Refresh ",w&&(0,Tn.jsx)("span",{className:"ml-1 bg-orange-500 text-white rounded-full px-2 py-0.5 text-xs",children:"New"})]}),k&&(0,Tn.jsx)(Lc,{session:k,socket:o,isConnected:c})]})]}),F&&(0,Tn.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-8 shadow-sm",children:(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-center mb-6",children:[(0,Tn.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mr-6",children:(0,Tn.jsx)(bi,{className:"w-10 h-10 text-green-600"})}),(0,Tn.jsxs)("div",{className:"text-left",children:[(0,Tn.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"It's Your Turn!"}),(0,Tn.jsx)("p",{className:"text-lg text-gray-600",children:"You can now place your bid for the current session"})]})]}),(0,Tn.jsxs)(ic,{variant:"primary",size:"lg",onClick:()=>{y(k),b(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-10 py-4 text-xl font-semibold shadow-lg",children:[(0,Tn.jsx)(bi,{className:"w-7 h-7 mr-3"}),"BID NOW"]})]})}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Tn.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[k&&(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(gc,{className:"w-6 h-6 mr-3"}),"Live Session Status"]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsx)(Rc,{session:k,currentUser:l})})]}),k&&(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsxs)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:[(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(Ni,{className:"w-6 h-6 mr-3"}),"Live Draft Experience"]}),(0,Tn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Watch the bidding unfold in real-time with recent bids and upcoming participants"})]}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsx)(Fc,{session:k,currentUser:l})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(gc,{className:"w-6 h-6 mr-3"}),"Active Bid Sessions"]})}),(0,Tn.jsx)("div",{className:"p-6",children:d.length>0?(0,Tn.jsx)("div",{className:"space-y-6",children:d.map(e=>(0,Tn.jsxs)("div",{className:"border rounded-xl p-6 hover:bg-gray-50 transition-colors duration-200",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(mc,{className:"w-6 h-6 text-primary-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-1",children:e.name}),(0,Tn.jsx)("p",{className:"text-gray-500",children:e.description})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full ".concat(I(e.status)),children:e.status}),M(e.status)]})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(Ci,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Schedule"}),(0,Tn.jsxs)("p",{className:"text-xs text-gray-500",children:[z(e.scheduledStart)," - ",z(e.scheduledEnd)]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(wi,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Participants"}),(0,Tn.jsxs)("p",{className:"text-xs text-gray-500",children:[e.participantCount||0," total"]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(ki,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Stations"}),(0,Tn.jsxs)("p",{className:"text-xs text-gray-500",children:[e.availableStations||0," available"]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(bi,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Time Window"}),(0,Tn.jsxs)("p",{className:"text-xs text-gray-500",children:[e.bidWindowDuration||5," minutes"]})]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Tn.jsx)(ic,{variant:"secondary",size:"sm",onClick:()=>y(e),children:"View Details"}),("active"===e.status||"paused"===e.status)&&(0,Tn.jsxs)(Tn.Fragment,{children:[(0,Tn.jsx)(ic,{variant:"primary",size:"sm",onClick:()=>(async e=>{try{console.log("Joining session:",e.id||e._id);const t=await On.post("/bid-sessions/".concat(e.id||e._id,"/join"));console.log("Join session API response:",t.data),o&&c&&(o.emit("join_bid_session",{sessionId:e.id||e._id}),console.log("Emitted join_bid_session event")),ts.success("Successfully joined ".concat(e.name)),L()}catch(t){console.error("Error joining session:",t),o&&c?(o.emit("join_bid_session",{sessionId:e.id||e._id}),ts.success("Joined ".concat(e.name," via real-time connection"))):ts.error("Failed to join session. Please try again.")}})(e),children:"Join Session"}),R&&e.id===(null===k||void 0===k?void 0:k.id)&&(0,Tn.jsx)(ic,{variant:"primary",size:"sm",onClick:()=>{y(e),b(!0)},children:"Place Bid"}),(0,Tn.jsx)(ic,{variant:"secondary",size:"sm",onClick:()=>window.location.href="/live-bid/".concat(e.id||e._id),children:"Join Live Session"})]})]})]},e.id||e._id))}):(0,Tn.jsxs)("div",{className:"text-center py-12",children:[(0,Tn.jsx)(bi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-3",children:"No Active Sessions"}),(0,Tn.jsx)("p",{className:"text-gray-600 max-w-md mx-auto",children:"There are no active, paused, or scheduled bid sessions at the moment. Check back later!"})]})})]})]}),(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Bidding Stats"})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Bids"}),(0,Tn.jsx)("span",{className:"text-lg font-bold text-gray-900",children:m.length})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Successful"}),(0,Tn.jsx)("span",{className:"text-lg font-bold text-green-600",children:m.filter(e=>"completed"===e.status).length})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),(0,Tn.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:[m.length>0?Math.round(m.filter(e=>"completed"===e.status).length/m.length*100):0,"%"]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Active Sessions"}),(0,Tn.jsx)("span",{className:"text-lg font-bold text-orange-600",children:d.filter(e=>"active"===e.status).length})]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"space-y-3",children:[(0,Tn.jsxs)(ic,{variant:"secondary",className:"w-full justify-start",onClick:()=>window.location.href="/profile",children:[(0,Tn.jsx)(kc,{className:"w-4 h-4 mr-2"}),"Manage Preferences"]}),(0,Tn.jsxs)(ic,{variant:"secondary",className:"w-full justify-start",onClick:()=>window.location.href="/bid-history",children:[(0,Tn.jsx)(Ni,{className:"w-4 h-4 mr-2"}),"View Full History"]}),(0,Tn.jsxs)(ic,{variant:"secondary",className:"w-full justify-start",onClick:()=>window.location.href="/seniority",children:[(0,Tn.jsx)(Oc,{className:"w-4 h-4 mr-2"}),"Seniority Info"]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"space-y-3",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(yc,{className:"w-4 h-4 text-green-500"}),(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Bid session starting soon"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(Tc,{className:"w-4 h-4 text-yellow-500"}),(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Your bid window opens in 30 min"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(yc,{className:"w-4 h-4 text-green-500"}),(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Bid submitted successfully"})]})]})})]})]})]}),v&&g&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Place Your Bid"}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["Session: ",g.name]})]}),(0,Tn.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Tn.jsx)(Ei,{className:"w-5 h-5"})})]}),(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Station"}),(0,Tn.jsxs)("select",{value:j.station,onChange:e=>N(Me(Me({},j),{},{station:e.target.value})),className:"input",disabled:O,children:[(0,Tn.jsx)("option",{value:"",children:O?"Loading stations...":"Select Station"}),E.map(e=>(console.log("Rendering station option:",e),(0,Tn.jsxs)("option",{value:e._id,children:[e.name," - Station ",e.number]},e._id)))]}),0===E.length&&!O&&(0,Tn.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"No stations available"}),(0,Tn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Debug: ",E.length," stations loaded"]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shift"}),(0,Tn.jsxs)("select",{value:j.shift,onChange:e=>N(Me(Me({},j),{},{shift:e.target.value})),className:"input",children:[(0,Tn.jsx)("option",{value:"",children:"Select Shift"}),(0,Tn.jsx)("option",{value:"A",children:"A Shift"}),(0,Tn.jsx)("option",{value:"B",children:"B Shift"}),(0,Tn.jsx)("option",{value:"C",children:"C Shift"})]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),(0,Tn.jsxs)("select",{value:j.position,onChange:e=>N(Me(Me({},j),{},{position:e.target.value})),className:"input",children:[(0,Tn.jsx)("option",{value:"",children:"Select Position"}),(0,Tn.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,Tn.jsx)("option",{value:"Paramedic",children:"Paramedic"}),(0,Tn.jsx)("option",{value:"Driver",children:"Driver"}),(0,Tn.jsx)("option",{value:"Officer",children:"Officer"})]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[(0,Tn.jsx)(ic,{variant:"secondary",onClick:()=>b(!1),children:"Cancel"}),(0,Tn.jsx)(ic,{variant:"primary",onClick:async()=>{if(g)if(j.station&&j.shift&&j.position){P(!0);try{const t={sessionId:g.id||g._id,bidData:{station:j.station,shift:j.shift,position:j.position}};console.log("Submitting bid with data:",t),console.log("Socket connected:",null===o||void 0===o?void 0:o.connected),console.log("Selected session:",g),console.log("Current user:",l);let s=!1;if(o&&c)try{console.log("Attempting bid submission via Socket.IO..."),console.log("Socket connection status:",o.connected),console.log("Socket ID:",o.id);const e=new Promise((e,s)=>{const r=setTimeout(()=>{s(new Error("Socket timeout"))},1e4);console.log("Emitting submit_bid event with data:",t),o.emit("submit_bid",t);const n=t=>{console.log("Received bid_confirmed event:",t),clearTimeout(r),o.off("bid_confirmed",n),o.off("error",a),e(t)},a=e=>{console.log("Received error event:",e),clearTimeout(r),o.off("bid_confirmed",n),o.off("error",a),s(new Error(e.message||"Bid submission failed"))};o.on("bid_confirmed",n),o.on("error",a)});await e,s=!0,console.log("Bid submitted successfully via Socket.IO")}catch(e){console.log("Socket.IO bid submission failed, trying REST API...",e)}if(!s){console.log("Attempting bid submission via REST API...");const e=await On.post(Pn.submitBid,{sessionId:g.id||g._id,stationId:j.station,shift:j.shift,position:j.position});if(!e.data.success)throw new Error(e.data.error||"Bid submission failed");s=!0,console.log("Bid submitted successfully via REST API"),ts.success("Bid submitted successfully! Station: ".concat(e.data.assignedStation,", Shift: ").concat(e.data.assignedShift,", Position: ").concat(e.data.assignedPosition)),D(),L()}s&&(b(!1),N({station:"",shift:"",position:""}))}catch(t){console.error("Error submitting bid:",t),ts.error(t.message||"Failed to submit bid. Please try again.")}finally{P(!1)}}else ts.error("Please fill in all bid details");else ts.error("Unable to submit bid. Please try again.")},disabled:!j.station||!j.shift||!j.position||A,children:A?"Submitting...":"Submit Bid"})]})]})})]})},Bc=yi("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),zc=yi("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Ic=yi("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Mc=yi("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Uc=e=>{let{sessionId:t}=e;const[s,r]=(0,n.useState)([]),[a,i]=(0,n.useState)(!0),[l,o]=(0,n.useState)(null),c=(0,n.useCallback)(async()=>{try{console.log("Fetching history for sessionId:",t),i(!0),await new Promise(e=>setTimeout(e,500));const e=await On.get(Pn.history(t));console.log("History API response:",e.data),r(e.data.history||[])}catch(l){var e,s;console.error("Error fetching bid history:",l),console.error("Error details:",{message:l.message,response:null===(e=l.response)||void 0===e?void 0:e.data,status:null===(s=l.response)||void 0===s?void 0:s.status}),o(l.message),ts.error("Failed to load bid history")}finally{i(!1)}},[t]);(0,n.useEffect)(()=>{console.log("BidHistory component received sessionId:",t),t&&c()},[t,c]);const d=e=>{switch(e){case"bid_submitted":case"session_completed":return(0,Tn.jsx)(yc,{className:"w-4 h-4 text-green-600"});case"turn_skipped":return(0,Tn.jsx)(Ic,{className:"w-4 h-4 text-yellow-600"});case"moved_to_back":return(0,Tn.jsx)(Mc,{className:"w-4 h-4 text-red-600"});case"auto_assigned":return(0,Tn.jsx)(Nc,{className:"w-4 h-4 text-orange-600"});case"session_started":return(0,Tn.jsx)(gc,{className:"w-4 h-4 text-blue-600"});case"session_paused":return(0,Tn.jsx)(vc,{className:"w-4 h-4 text-yellow-600"});case"session_resumed":return(0,Tn.jsx)(gc,{className:"w-4 h-4 text-green-600"});default:return(0,Tn.jsx)(Ci,{className:"w-4 h-4 text-gray-600"})}},u=e=>{switch(e){case"bid_submitted":return"Bid Submitted";case"turn_skipped":return"Turn Skipped";case"moved_to_back":return"Moved to Back";case"auto_assigned":return"Auto Assigned";case"session_started":return"Session Started";case"session_paused":return"Session Paused";case"session_resumed":return"Session Resumed";case"session_completed":return"Session Completed";default:return e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())}},m=e=>{switch(e){case"bid_submitted":case"session_resumed":case"session_completed":return"bg-green-50 border-green-200";case"turn_skipped":case"session_paused":return"bg-yellow-50 border-yellow-200";case"moved_to_back":return"bg-red-50 border-red-200";case"auto_assigned":return"bg-orange-50 border-orange-200";case"session_started":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}};return a?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Tn.jsx)(Ec,{size:"md"})}):l?(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)(Nc,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading History"}),(0,Tn.jsx)("p",{className:"text-gray-600 mb-4",children:l}),(0,Tn.jsx)("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]}):0===s.length?(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)(Ci,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No History Yet"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:"No actions have been recorded for this session."})]}):(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Session History"}),(0,Tn.jsx)("button",{onClick:c,className:"text-sm text-blue-600 hover:text-blue-800",children:"Refresh"})]}),(0,Tn.jsx)("div",{className:"space-y-3",children:s.map((e,t)=>{return(0,Tn.jsx)("div",{className:"p-4 rounded-lg border ".concat(m(e.action)),children:(0,Tn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Tn.jsx)("div",{className:"flex-shrink-0 mt-1",children:d(e.action)}),(0,Tn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)("span",{className:"font-medium text-gray-900",children:u(e.action)}),e.userName&&(0,Tn.jsxs)("span",{className:"text-sm text-gray-600",children:["by ",e.userName]})]}),(0,Tn.jsx)("span",{className:"text-sm text-gray-500",children:(s=e.timestamp,new Date(s).toLocaleString())})]}),e.details&&(0,Tn.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.details}),(e.stationName||e.shift||e.position)&&(0,Tn.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.stationName&&(0,Tn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Tn.jsx)(ki,{className:"w-3 h-3"}),(0,Tn.jsx)("span",{children:e.stationName})]}),e.shift&&(0,Tn.jsxs)("span",{children:[e.shift," Shift"]}),e.position&&(0,Tn.jsx)("span",{children:e.position})]})]})]})},t);var s})})]})},qc=()=>{const{sessionId:e}=function(){let{matches:e}=n.useContext(G),t=e[e.length-1];return t?t.params:{}}(),t=se(),{user:s}=qn(),{socket:r,isConnected:a}=hi(),[i,l]=(0,n.useState)(null),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,h]=(0,n.useState)(null),[f,p]=(0,n.useState)(!1),[x,g]=(0,n.useState)(0),[y,v]=(0,n.useState)(!0),[b,j]=(0,n.useState)({station:"",shift:"",position:""}),[N,w]=(0,n.useState)(!1),[S,k]=(0,n.useState)([]),C=(0,n.useRef)(null);(0,n.useEffect)(()=>(E(),_(),()=>{C.current&&clearInterval(C.current),r&&a&&r.emit("leave_bid_session",e)}),[e]),(0,n.useEffect)(()=>{s&&!d.find(e=>e.id===s._id)&&u(e=>[...e,{id:s._id,name:"".concat(s.firstName," ").concat(s.lastName),rank:s.rank,position:s.position}])},[s,d]),(0,n.useEffect)(()=>(x>0&&(C.current=setInterval(()=>{g(e=>e<=1?(clearInterval(C.current),0):e-1)},1e3)),()=>{C.current&&clearInterval(C.current)}),[x]);const E=async()=>{try{v(!0);const r=await On.get(Pn.detail(e));console.log("Session data response:",r.data);const n=r.data.bidSession||r.data;l(n);const a=n.participants||[];c(a),h(n.currentParticipant||1),k(r.data.availableStations||[]);const i=a.find(e=>{var t,r;return(null===(t=e.user)||void 0===t?void 0:t._id)===s._id||(null===(r=e.user)||void 0===r?void 0:r.id)===s._id});var t;if(i&&i.position===n.currentParticipant-1)p(!0),g((null===(t=i.timeWindow)||void 0===t?void 0:t.duration)||300);console.log("Available stations:",r.data.availableStations)}catch(r){console.error("Error fetching session data:",r),ts.error("Failed to load session data")}finally{v(!1)}},_=()=>{if(r)return r.emit("join_bid_session",{sessionId:e}),r.on("bid_session_joined",e=>{var t;(console.log("Joined bid session:",e),e.session)&&(l(e.session),c(e.participants||[]),h((null===(t=e.currentParticipant)||void 0===t?void 0:t.position)||1))}),r.on("connected_users_list",t=>{console.log("Received connected users list:",t),t.sessionId===e&&u(t.users||[])}),r.on("user_joined_session",e=>{console.log("User joined session:",e),u(t=>{const s=t.find(t=>t.id===e.user.id);return s?t:[...t,e.user]}),ts("".concat(e.user.name," joined the session"))}),r.on("user_left_session",e=>{console.log("User left session:",e),u(t=>t.filter(t=>t.id!==e.userId)),ts("".concat(e.userName," left the session"))}),r.on("user_disconnected",e=>{console.log("User disconnected:",e),u(t=>t.filter(t=>t.id!==e.userId)),ts("".concat(e.userName," disconnected"))}),r.on("bid-session-updated",t=>{t.sessionId===e&&(l(t.session),c(t.participants),h(t.currentParticipant),k(t.availableStations))}),r.on("turn-started",t=>{t.sessionId===e&&t.userId===s._id&&(p(!0),g(t.duration||300),w(!0),ts.success("It's your turn to bid!"))}),r.on("turn-ended",t=>{t.sessionId===e&&t.userId===s._id&&(p(!1),w(!1),g(0),ts("Your turn has ended"))}),r.on("bid-submitted",t=>{t.sessionId===e&&(ts.success("".concat(t.userName," submitted a bid for ").concat(t.station)),E())}),r.on("session-completed",s=>{s.sessionId===e&&(ts.success("Bid session completed!"),t("/bidding"))}),r.emit("request_connected_users",{sessionId:e}),()=>{r.off("bid_session_joined"),r.off("connected_users_list"),r.off("user_joined_session"),r.off("user_left_session"),r.off("user_disconnected"),r.off("bid-session-updated"),r.off("turn-started"),r.off("turn-ended"),r.off("bid-submitted"),r.off("session-completed")}};return(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Live Bidding Session"}),(0,Tn.jsx)("p",{className:"mt-3 text-gray-600",children:(null===i||void 0===i?void 0:i.name)||"Loading session..."})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[a?(0,Tn.jsx)(Bc,{className:"w-5 h-5 text-green-500"}):(0,Tn.jsx)(zc,{className:"w-5 h-5 text-red-500"}),(0,Tn.jsx)("span",{className:"text-sm font-medium ".concat(a?"text-green-600":"text-red-600"),children:a?"Connected":"Disconnected"})]}),(0,Tn.jsxs)(ic,{onClick:()=>E(),variant:"secondary",size:"sm",children:[(0,Tn.jsx)(wc,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Tn.jsxs)(ic,{onClick:()=>t("/bidding"),variant:"ghost",size:"sm",children:[(0,Tn.jsx)(Ei,{className:"w-4 h-4 mr-2"}),"Close"]})]})]}),y?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):i?(0,Tn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Tn.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(gc,{className:"w-6 h-6 mr-3"}),"Session Status"]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Tn.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,Tn.jsx)(wi,{className:"w-6 h-6 text-blue-600"})}),(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Participants"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]}),(0,Tn.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,Tn.jsx)(bi,{className:"w-6 h-6 text-green-600"})}),(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Current Turn"}),(0,Tn.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["#",m||"N/A"]})]}),(0,Tn.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,Tn.jsx)(ki,{className:"w-6 h-6 text-purple-600"})}),(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Available Stations"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:S.length})]})]})})]}),f&&(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(bi,{className:"w-6 h-6 mr-3"}),"It's Your Turn!"]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-6 mb-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mr-4",children:(0,Tn.jsx)(bc,{className:"w-6 h-6 text-green-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h4",{className:"text-lg font-bold text-gray-900",children:"Time Remaining"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:"Make your selection before time runs out"})]})]}),(0,Tn.jsxs)("div",{className:"text-right",children:[(0,Tn.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:[Math.floor(x/60),":",(x%60).toString().padStart(2,"0")]}),(0,Tn.jsx)("p",{className:"text-sm text-gray-500",children:"minutes:seconds"})]})]}),(0,Tn.jsxs)("div",{className:"flex space-x-4",children:[(0,Tn.jsxs)(ic,{onClick:()=>w(!0),variant:"primary",size:"lg",className:"flex-1 bg-green-600 hover:bg-green-700",children:[(0,Tn.jsx)(bi,{className:"w-5 h-5 mr-2"}),"Place Bid"]}),(0,Tn.jsx)(ic,{onClick:async()=>{if(r)try{console.log("Skipping turn for session:",e),r.emit("skip-turn",{sessionId:e}),j({station:"",shift:"",position:""}),w(!1),p(!1),ts.success("Turn skipped successfully!")}catch(t){console.error("Error skipping turn:",t),ts.error("Failed to skip turn. Please try again.")}else ts.error("Not connected to server")},variant:"secondary",size:"lg",className:"flex-1",children:"Skip Turn"})]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(wi,{className:"w-6 h-6 mr-3"}),"Participants"]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsx)("div",{className:"space-y-4",children:o.map((e,t)=>{var s,r,n;return(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl border transition-colors duration-200 ".concat(t===m-1?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(t===m-1?"bg-green-100":"bg-gray-100"),children:(0,Tn.jsx)(ji,{className:"w-5 h-5 ".concat(t===m-1?"text-green-600":"text-gray-600")})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("p",{className:"font-medium text-gray-900",children:[null===(s=e.user)||void 0===s?void 0:s.firstName," ",null===(r=e.user)||void 0===r?void 0:r.lastName]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["Position #",t+1," \u2022 ",(null===(n=e.user)||void 0===n?void 0:n.rank)||"N/A"]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[t===m-1&&(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,Tn.jsx)("span",{className:"text-sm font-medium text-green-600",children:"Current Turn"})]}),e.hasBid&&(0,Tn.jsx)(yc,{className:"w-5 h-5 text-green-600"})]})]},e._id||e.id)})})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(Bc,{className:"w-6 h-6 mr-3"}),"Connected Users (",d.length,")"]})}),(0,Tn.jsx)("div",{className:"p-6",children:d.length>0?(0,Tn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(e=>(0,Tn.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,Tn.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(ji,{className:"w-4 h-4 text-green-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Tn.jsx)("p",{className:"text-sm text-gray-500",children:e.rank||"N/A"})]}),(0,Tn.jsx)("div",{className:"ml-auto",children:(0,Tn.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})})]},e.id))}):(0,Tn.jsxs)("div",{className:"text-center py-6",children:[(0,Tn.jsx)(Bc,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,Tn.jsx)("p",{className:"text-gray-500",children:"No users currently connected"})]})})]})]}),(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(kc,{className:"w-6 h-6 mr-3"}),"Session Info"]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Status"}),(0,Tn.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full ".concat("active"===i.status?"bg-green-100 text-green-800":"paused"===i.status?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"),children:i.status})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Bid Window"}),(0,Tn.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[i.bidWindowDuration||5," minutes"]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Start Time"}),(0,Tn.jsx)("span",{className:"text-sm font-bold text-gray-900",children:i.actualStart?new Date(i.actualStart).toLocaleTimeString():"N/A"})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Tn.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"End Time"}),(0,Tn.jsx)("span",{className:"text-sm font-bold text-gray-900",children:i.scheduledEnd?new Date(i.scheduledEnd).toLocaleTimeString():"N/A"})]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(ki,{className:"w-6 h-6 mr-3"}),"Available Stations"]})}),(0,Tn.jsx)("div",{className:"p-6",children:S.length>0?(0,Tn.jsx)("div",{className:"space-y-3",children:S.map(e=>(0,Tn.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Tn.jsx)("p",{className:"text-sm text-gray-500",children:e.location})]}),(0,Tn.jsx)("div",{className:"text-right",children:(0,Tn.jsxs)("p",{className:"text-sm font-medium text-blue-600",children:[e.availablePositions||0," positions"]})})]})},e._id))}):(0,Tn.jsxs)("div",{className:"text-center py-6",children:[(0,Tn.jsx)(ki,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,Tn.jsx)("p",{className:"text-gray-500",children:"No stations available"})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(Ni,{className:"w-6 h-6 mr-3"}),"Session History"]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsx)(Uc,{sessionId:e})})]})]})]}):(0,Tn.jsxs)("div",{className:"text-center py-12",children:[(0,Tn.jsx)(Nc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-3",children:"Session Not Found"}),(0,Tn.jsx)("p",{className:"text-gray-600 mb-6",children:"The bid session you're looking for doesn't exist or has been removed."}),(0,Tn.jsx)(ic,{onClick:()=>t("/bidding"),variant:"primary",children:"Back to Bidding"})]}),N&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-10 mx-auto p-6 border w-full max-w-md shadow-xl rounded-xl bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Place Your Bid"}),(0,Tn.jsx)(ic,{onClick:()=>w(!1),variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("form",{onSubmit:async()=>{if(b.station&&b.shift&&b.position)if(r)try{console.log("Submitting bid:",{sessionId:e,stationId:b.station,shift:b.shift,position:b.position}),console.log("Socket connected:",!!r),console.log("Socket ID:",null===r||void 0===r?void 0:r.id),r.emit("submit_bid",{sessionId:e,stationId:b.station,shift:b.shift,position:b.position}),j({station:"",shift:"",position:""}),w(!1),p(!1),ts.success("Bid submitted successfully!")}catch(t){console.error("Error submitting bid:",t),ts.error("Failed to submit bid. Please try again.")}else ts.error("Not connected to server");else ts.error("Please fill in all fields")},className:"space-y-6",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Station"}),(0,Tn.jsxs)("select",{value:b.station,onChange:e=>j(Me(Me({},b),{},{station:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Tn.jsx)("option",{value:"",children:"Select a station"}),S.map(e=>(0,Tn.jsxs)("option",{value:e._id,children:[e.name," - ",e.location]},e._id))]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),(0,Tn.jsxs)("select",{value:b.position,onChange:e=>j(Me(Me({},b),{},{position:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Tn.jsx)("option",{value:"",children:"Select a position"}),(0,Tn.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,Tn.jsx)("option",{value:"Engineer",children:"Engineer"}),(0,Tn.jsx)("option",{value:"Lieutenant",children:"Lieutenant"}),(0,Tn.jsx)("option",{value:"Captain",children:"Captain"})]})]}),(0,Tn.jsxs)("div",{className:"flex space-x-4",children:[(0,Tn.jsx)(ic,{type:"submit",variant:"primary",className:"flex-1",disabled:!1,children:"Submit Bid"}),(0,Tn.jsx)(ic,{type:"button",onClick:()=>w(!1),variant:"secondary",className:"flex-1",children:"Cancel"})]})]})]})})]})},Vc=yi("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Hc=yi("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Wc=e=>{let{onClose:t}=e;const[s,r]=(0,n.useState)(!1),[a,i]=(0,n.useState)(!1),{register:l,handleSubmit:o,formState:{isDirty:c},reset:d,watch:u}=ro(),m=u("autoBid"),h=(0,n.useCallback)(async()=>{try{r(!0);const e=(await On.get("/users/preferences")).data.preferences||{};d({preferredShifts:e.preferredShifts||[],preferredStations:e.preferredStations||[],autoBid:e.autoBid||!1,notifications:e.notifications||!1,emailNotifications:e.emailNotifications||!1,smsNotifications:e.smsNotifications||!1,bidReminders:e.bidReminders||!1,autoBidStrategy:e.autoBidStrategy||"preferred",maxBidAttempts:e.maxBidAttempts||3,bidTimeout:e.bidTimeout||30})}catch(e){console.error("Error fetching preferences:",e),ts.error("Failed to load preferences")}finally{r(!1)}},[d]);(0,n.useEffect)(()=>{h()},[h]);return s?(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,Tn.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Tn.jsx)(Ec,{size:"lg"})})})}):(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-xl rounded-xl bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Bid Preferences"}),(0,Tn.jsx)("p",{className:"mt-2 text-gray-600",children:"Customize your bidding experience"})]}),(0,Tn.jsx)(ic,{onClick:t,variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-5 h-5"})})]}),(0,Tn.jsxs)("form",{onSubmit:o(async e=>{try{i(!0),await On.put("/users/preferences",e),ts.success("Preferences updated successfully!"),t()}catch(n){var s,r;console.error("Error updating preferences:",n),ts.error((null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||"Failed to update preferences")}finally{i(!1)}}),className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(Ci,{className:"w-6 h-6 mr-3"}),"Preferred Shifts"]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["Day","Night","Swing","24/48","48/96"].map(e=>(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox",value:e},l("preferredShifts")),{},{className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(ki,{className:"w-6 h-6 mr-3"}),"Preferred Stations"]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["Station 1","Station 2","Station 3","Station 4","Station 5","Station 6"].map(e=>(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox",value:e},l("preferredStations")),{},{className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(bi,{className:"w-6 h-6 mr-3"}),"Auto-Bid Settings"]})}),(0,Tn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Enable Auto-Bid"}),(0,Tn.jsx)("p",{className:"text-xs text-gray-500",children:"Automatically place bids based on your preferences"})]}),(0,Tn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},l("autoBid")),{},{className:"sr-only peer"})),(0,Tn.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),m&&(0,Tn.jsxs)("div",{className:"space-y-4 pl-4 border-l-2 border-primary-200",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto-Bid Strategy"}),(0,Tn.jsxs)("select",Me(Me({},l("autoBidStrategy")),{},{className:"input",children:[(0,Tn.jsx)("option",{value:"preferred",children:"Preferred stations first"}),(0,Tn.jsx)("option",{value:"closest",children:"Closest to home"}),(0,Tn.jsx)("option",{value:"seniority",children:"Highest seniority"}),(0,Tn.jsx)("option",{value:"random",children:"Random selection"})]}))]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Bid Attempts"}),(0,Tn.jsx)("input",Me(Me({type:"number"},l("maxBidAttempts",{min:1,max:10})),{},{className:"input",min:"1",max:"10"}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bid Timeout (seconds)"}),(0,Tn.jsx)("input",Me(Me({type:"number"},l("bidTimeout",{min:10,max:300})),{},{className:"input",min:"10",max:"300"}))]})]})]})]})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(Sc,{className:"w-6 h-6 mr-3"}),"Notification Settings"]})}),(0,Tn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Enable Notifications"}),(0,Tn.jsx)("p",{className:"text-xs text-gray-500",children:"Receive notifications about bid sessions"})]}),(0,Tn.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},l("notifications")),{},{className:"sr-only peer"})),(0,Tn.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},l("emailNotifications")),{},{className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Email Notifications"})]}),(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},l("smsNotifications")),{},{className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"SMS Notifications"})]}),(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},l("bidReminders")),{},{className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Bid Reminders"})]})]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-8 border-t border-rigroster-border",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:t,disabled:a,children:"Cancel"}),(0,Tn.jsxs)(ic,{type:"submit",variant:"primary",loading:a,disabled:a||!c,children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Save Preferences"]})]})]})]})})},Qc=()=>{var e,t,s;const{user:r,updateUser:a}=qn(),[i,l]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)(!1),[x,g]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),[b,j]=(0,n.useState)([]),[N,w]=(0,n.useState)([]),[S,k]=(0,n.useState)({}),[C,E]=(0,n.useState)(!0),[_,A]=(0,n.useState)(!0),[P,O]=(0,n.useState)(!1),{register:T,handleSubmit:R,formState:{errors:F,isDirty:L},reset:D}=ro({defaultValues:{firstName:(null===r||void 0===r?void 0:r.firstName)||"",lastName:(null===r||void 0===r?void 0:r.lastName)||"",email:(null===r||void 0===r?void 0:r.email)||"",phone:(null===r||void 0===r?void 0:r.phone)||"",address:(null===r||void 0===r?void 0:r.address)||"",rank:(null===r||void 0===r?void 0:r.rank)||"",position:(null===r||void 0===r?void 0:r.position)||"",yearsOfService:(null===r||void 0===r?void 0:r.yearsOfService)||0,employeeId:(null===r||void 0===r?void 0:r.employeeId)||"",emergencyContact:(null===r||void 0===r?void 0:r.emergencyContact)||{name:"",phone:"",relationship:""}}}),{register:B,handleSubmit:z,formState:{errors:I},reset:M,watch:U}=ro(),q=U("newPassword");(0,n.useEffect)(()=>{r&&D({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",address:r.address||"",rank:r.rank||"",position:r.position||"",yearsOfService:r.yearsOfService||0,employeeId:r.employeeId||"",emergencyContact:r.emergencyContact||{name:"",phone:"",relationship:""}})},[r,D]),(0,n.useEffect)(()=>{V(),H(),W()},[]);const V=async()=>{try{E(!0);const e=await On.get(Pn.current);j(e.data.sessions||[])}catch(e){console.error("Error fetching bid sessions:",e)}finally{E(!1)}},H=async()=>{try{A(!0);const e=await On.get("/users/bid-history");w(e.data.bidHistory||[])}catch(e){console.error("Error fetching bid history:",e)}finally{A(!1)}},W=async()=>{try{const e=await On.get("/users/preferences");k(e.data.preferences||{})}catch(e){console.error("Error fetching bid preferences:",e)}},Q=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"draft":default:return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"paused":return"bg-orange-100 text-orange-800";case"completed":return"bg-purple-100 text-purple-800"}},K=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"active":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r?(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Management"}),(0,Tn.jsx)("p",{className:"mt-3 text-gray-600",children:"Manage your personal information and bid session preferences"})]}),!i&&(0,Tn.jsxs)(ic,{onClick:()=>l(!0),variant:"primary",size:"sm",children:[(0,Tn.jsx)(Pc,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Tn.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Personal Information"})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("form",{onSubmit:R(async e=>{g(!0);try{const t=await On.put("/users/profile",e);a(t.data.user),l(!1),ts.success("Profile updated successfully!")}catch(r){var t,s;console.error("Error updating profile:",r),ts.error((null===(t=r.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to update profile")}finally{g(!1)}}),className:"space-y-6",children:[(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(ji,{className:"w-4 h-4 inline mr-1"}),"First Name"]}),(0,Tn.jsx)("input",Me(Me({type:"text"},T("firstName",{required:"First name is required"})),{},{disabled:!i,className:"input ".concat(F.firstName?"input-error":""," ").concat(i?"":"bg-gray-50")})),F.firstName&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.firstName.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(ji,{className:"w-4 h-4 inline mr-1"}),"Last Name"]}),(0,Tn.jsx)("input",Me(Me({type:"text"},T("lastName",{required:"Last name is required"})),{},{disabled:!i,className:"input ".concat(F.lastName?"input-error":""," ").concat(i?"":"bg-gray-50")})),F.lastName&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.lastName.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(no,{className:"w-4 h-4 inline mr-1"}),"Email"]}),(0,Tn.jsx)("input",Me(Me({type:"email"},T("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{disabled:!i,className:"input ".concat(F.email?"input-error":""," ").concat(i?"":"bg-gray-50")})),F.email&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.email.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(Vc,{className:"w-4 h-4 inline mr-1"}),"Phone Number"]}),(0,Tn.jsx)("input",Me(Me({type:"tel"},T("phone")),{},{disabled:!i,className:"input ".concat(F.phone?"input-error":""," ").concat(i?"":"bg-gray-50"),placeholder:"(555) 123-4567"})),F.phone&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.phone.message})]}),(0,Tn.jsxs)("div",{className:"md:col-span-2",children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(hc,{className:"w-4 h-4 inline mr-1"}),"Address"]}),(0,Tn.jsx)("input",Me(Me({type:"text"},T("address")),{},{disabled:!i,className:"input ".concat(F.address?"input-error":""," ").concat(i?"":"bg-gray-50"),placeholder:"123 Main St, City, State 12345"})),F.address&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.address.message})]})]}),i&&(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:()=>{l(!1),D()},disabled:x,children:"Cancel"}),(0,Tn.jsxs)(ic,{type:"submit",variant:"primary",loading:x,disabled:x||!L,children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Professional Information"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(oc,{className:"w-4 h-4 inline mr-1"}),"Employee ID"]}),(0,Tn.jsx)("input",Me(Me({type:"text"},T("employeeId")),{},{disabled:!i,className:"input ".concat(F.employeeId?"input-error":""," ").concat(i?"":"bg-gray-50")}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(dc,{className:"w-4 h-4 inline mr-1"}),"Rank"]}),(0,Tn.jsxs)("select",Me(Me({},T("rank")),{},{disabled:!i,className:"input ".concat(F.rank?"input-error":""," ").concat(i?"":"bg-gray-50"),children:[(0,Tn.jsx)("option",{value:"",children:"Select Rank"}),(0,Tn.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,Tn.jsx)("option",{value:"Engineer",children:"Engineer"}),(0,Tn.jsx)("option",{value:"Lieutenant",children:"Lieutenant"}),(0,Tn.jsx)("option",{value:"Captain",children:"Captain"}),(0,Tn.jsx)("option",{value:"Battalion Chief",children:"Battalion Chief"}),(0,Tn.jsx)("option",{value:"Deputy Chief",children:"Deputy Chief"}),(0,Tn.jsx)("option",{value:"Chief",children:"Chief"})]}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(dc,{className:"w-4 h-4 inline mr-1"}),"Position"]}),(0,Tn.jsxs)("select",Me(Me({},T("position")),{},{disabled:!i,className:"input ".concat(F.position?"input-error":""," ").concat(i?"":"bg-gray-50"),children:[(0,Tn.jsx)("option",{value:"",children:"Select Position"}),(0,Tn.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,Tn.jsx)("option",{value:"Paramedic",children:"Paramedic"}),(0,Tn.jsx)("option",{value:"EMT",children:"EMT"}),(0,Tn.jsx)("option",{value:"Driver",children:"Driver"}),(0,Tn.jsx)("option",{value:"Operator",children:"Operator"}),(0,Tn.jsx)("option",{value:"Officer",children:"Officer"})]}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(Ci,{className:"w-4 h-4 inline mr-1"}),"Years of Service"]}),(0,Tn.jsx)("input",Me(Me({type:"number"},T("yearsOfService",{min:{value:0,message:"Years must be 0 or greater"},max:{value:50,message:"Years cannot exceed 50"}})),{},{disabled:!i,className:"input ".concat(F.yearsOfService?"input-error":""," ").concat(i?"":"bg-gray-50"),min:"0",max:"50"})),F.yearsOfService&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.yearsOfService.message})]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Emergency Contact"})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(ji,{className:"w-4 h-4 inline mr-1"}),"Contact Name"]}),(0,Tn.jsx)("input",Me(Me({type:"text"},T("emergencyContact.name")),{},{disabled:!i,className:"input ".concat(i?"":"bg-gray-50"),placeholder:"Full Name"}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(Vc,{className:"w-4 h-4 inline mr-1"}),"Contact Phone"]}),(0,Tn.jsx)("input",Me(Me({type:"tel"},T("emergencyContact.phone")),{},{disabled:!i,className:"input ".concat(i?"":"bg-gray-50"),placeholder:"(555) 123-4567"}))]}),(0,Tn.jsxs)("div",{className:"md:col-span-2",children:[(0,Tn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Tn.jsx)(ji,{className:"w-4 h-4 inline mr-1"}),"Relationship"]}),(0,Tn.jsx)("input",Me(Me({type:"text"},T("emergencyContact.relationship")),{},{disabled:!i,className:"input ".concat(i?"":"bg-gray-50"),placeholder:"Spouse, Parent, etc."}))]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Current Bid Sessions"})}),(0,Tn.jsx)("div",{className:"p-6",children:C?(0,Tn.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Tn.jsx)(Ec,{size:"md"})}):b.length>0?(0,Tn.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,Tn.jsxs)("div",{className:"border rounded-xl p-6 hover:bg-gray-50",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(mc,{className:"w-5 h-5 text-primary-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,Tn.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat($(e.status)),children:e.status}),"active"===e.status&&(0,Tn.jsx)(gc,{className:"w-4 h-4 text-green-600"}),"paused"===e.status&&(0,Tn.jsx)(vc,{className:"w-4 h-4 text-orange-600"})]})]}),(0,Tn.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-4 text-sm",children:[(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(Ci,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsxs)("span",{className:"text-gray-600",children:[Q(e.scheduledStart)," - ",Q(e.scheduledEnd)]})]}),(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(wi,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsxs)("span",{className:"text-gray-600",children:[e.participantCount||0," participants"]})]})]})]},e._id))}):(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)(mc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Sessions"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:"There are no active bid sessions at the moment."})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Bid History"})}),(0,Tn.jsx)("div",{className:"card-body",children:_?(0,Tn.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Tn.jsx)(Ec,{size:"md"})}):N.length>0?(0,Tn.jsx)("div",{className:"overflow-x-auto",children:(0,Tn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Tn.jsx)("thead",{className:"bg-gray-50",children:(0,Tn.jsxs)("tr",{children:[(0,Tn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Tn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),(0,Tn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Station"}),(0,Tn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Tn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"})]})}),(0,Tn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.slice(0,5).map(e=>{var t,s;return(0,Tn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Tn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:Q(e.createdAt)}),(0,Tn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:(null===(t=e.session)||void 0===t?void 0:t.name)||"N/A"}),(0,Tn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:(null===(s=e.station)||void 0===s?void 0:s.name)||"N/A"}),(0,Tn.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(K(e.status)),children:e.status||"Unknown"})}),(0,Tn.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:["#",e.bidPriority||"N/A"]})]},e._id)})})]})}):(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)(Ni,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Bid History"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:"You haven't participated in any bid sessions yet."})]})})]})]}),(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Profile Summary"})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(ji,{className:"w-6 h-6 text-primary-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("p",{className:"font-medium text-gray-900",children:[r.firstName," ",r.lastName]}),(0,Tn.jsx)("p",{className:"text-sm text-gray-500",children:r.rank})]})]}),(0,Tn.jsxs)("div",{className:"space-y-2",children:[(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(ki,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Current Station:"}),(0,Tn.jsx)("span",{className:"ml-auto font-medium text-gray-900",children:(null===(e=r.currentStation)||void 0===e?void 0:e.name)||"Unassigned"})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Ci,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Years of Service:"}),(0,Tn.jsx)("span",{className:"ml-auto font-medium text-gray-900",children:r.yearsOfService||0})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Si,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Seniority Score:"}),(0,Tn.jsx)("span",{className:"ml-auto font-medium text-gray-900",children:(e=>{if(!e)return 0;let t=10*(e.yearsOfService||0);return t*={Firefighter:1,Engineer:1.2,Lieutenant:1.5,Captain:2,"Battalion Chief":3,"Deputy Chief":4,Chief:5}[e.rank]||1,t*={Firefighter:1,Paramedic:1.3,EMT:1.1,Driver:1.2,Operator:1.4,Officer:1.5}[e.position]||1,Math.round(t)})(r)})]}),(0,Tn.jsx)("div",{className:"flex items-center text-sm",children:(0,Tn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat((Y=r.yearsOfService||0,Y>=15?"text-purple-600 bg-purple-100":Y>=10?"text-blue-600 bg-blue-100":Y>=5?"text-green-600 bg-green-100":"text-orange-600 bg-orange-100")),children:[(e=>e>=15?"Senior":e>=10?"Experienced":e>=5?"Mid-level":"Junior")(r.yearsOfService||0)," Level"]})}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(dc,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Bid Priority:"}),(0,Tn.jsxs)("span",{className:"ml-auto font-medium text-gray-900",children:["#",r.bidPriority||"N/A"]})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Oc,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Position:"}),(0,Tn.jsx)("span",{className:"ml-auto font-medium text-gray-900",children:r.position||"N/A"})]})]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Bid Statistics"})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Total Bids"}),(0,Tn.jsx)("span",{className:"font-medium text-gray-900",children:N.length})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Successful"}),(0,Tn.jsx)("span",{className:"font-medium text-green-600",children:N.filter(e=>"completed"===e.status).length})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Success Rate"}),(0,Tn.jsxs)("span",{className:"font-medium text-blue-600",children:[N.length>0?Math.round(N.filter(e=>"completed"===e.status).length/N.length*100):0,"%"]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Active Sessions"}),(0,Tn.jsx)("span",{className:"font-medium text-orange-600",children:b.filter(e=>"active"===e.status).length})]})]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Bid Preferences"})}),(0,Tn.jsxs)("div",{className:"p-6",children:[(0,Tn.jsxs)("div",{className:"space-y-3",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Preferred Shifts"}),(0,Tn.jsx)("span",{className:"font-medium text-gray-900",children:(null===(t=S.preferredShifts)||void 0===t?void 0:t.join(", "))||"Any"})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Preferred Stations"}),(0,Tn.jsx)("span",{className:"font-medium text-gray-900",children:(null===(s=S.preferredStations)||void 0===s?void 0:s.join(", "))||"Any"})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Auto-Bid"}),(0,Tn.jsx)("span",{className:"font-medium ".concat(S.autoBid?"text-green-600":"text-gray-600"),children:S.autoBid?"Enabled":"Disabled"})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Notifications"}),(0,Tn.jsx)("span",{className:"font-medium ".concat(S.notifications?"text-green-600":"text-gray-600"),children:S.notifications?"On":"Off"})]})]}),(0,Tn.jsxs)(ic,{onClick:()=>O(!0),variant:"secondary",size:"sm",className:"w-full mt-4",children:[(0,Tn.jsx)(kc,{className:"w-4 h-4 mr-2"}),"Manage Preferences"]})]})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Security"})}),(0,Tn.jsx)("div",{className:"p-6",children:o?(0,Tn.jsxs)("form",{onSubmit:z(async e=>{v(!0);try{await On.put("/users/change-password",{currentPassword:e.currentPassword,newPassword:e.newPassword}),c(!1),M(),ts.success("Password changed successfully!")}catch(r){var t,s;console.error("Error changing password:",r),ts.error((null===(t=r.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to change password")}finally{v(!1)}}),className:"space-y-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsx)("input",Me(Me({type:d?"text":"password"},B("currentPassword",{required:"Current password is required"})),{},{className:"input pr-10 ".concat(I.currentPassword?"input-error":"")})),(0,Tn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!d),children:d?(0,Tn.jsx)(io,{className:"w-4 h-4 text-gray-400"}):(0,Tn.jsx)(lo,{className:"w-4 h-4 text-gray-400"})})]}),I.currentPassword&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.currentPassword.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsx)("input",Me(Me({type:m?"text":"password"},B("newPassword",{required:"New password is required",minLength:{value:8,message:"Password must be at least 8 characters"}})),{},{className:"input pr-10 ".concat(I.newPassword?"input-error":"")})),(0,Tn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!m),children:m?(0,Tn.jsx)(io,{className:"w-4 h-4 text-gray-400"}):(0,Tn.jsx)(lo,{className:"w-4 h-4 text-gray-400"})})]}),I.newPassword&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.newPassword.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsx)("input",Me(Me({type:f?"text":"password"},B("confirmPassword",{required:"Please confirm your password",validate:e=>e===q||"Passwords do not match"})),{},{className:"input pr-10 ".concat(I.confirmPassword?"input-error":"")})),(0,Tn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!f),children:f?(0,Tn.jsx)(io,{className:"w-4 h-4 text-gray-400"}):(0,Tn.jsx)(lo,{className:"w-4 h-4 text-gray-400"})})]}),I.confirmPassword&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:I.confirmPassword.message})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-3 pt-2",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:()=>{c(!1),M()},disabled:y,size:"sm",children:"Cancel"}),(0,Tn.jsx)(ic,{type:"submit",variant:"primary",loading:y,disabled:y,size:"sm",children:"Update Password"})]})]}):(0,Tn.jsxs)(ic,{onClick:()=>c(!0),variant:"secondary",className:"w-full",children:[(0,Tn.jsx)(oc,{className:"w-4 h-4 mr-2"}),"Change Password"]})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Account Status"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"space-y-3",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(yc,{className:"w-4 h-4 text-green-500"}),(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Account Active"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(yc,{className:"w-4 h-4 text-green-500"}),(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Email Verified"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(yc,{className:"w-4 h-4 text-green-500"}),(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Profile Complete"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(Tc,{className:"w-4 h-4 text-yellow-500"}),(0,Tn.jsxs)("span",{className:"text-sm text-gray-600",children:["Last Updated: ",(new Date).toLocaleDateString()]})]})]})})]})]})]}),P&&(0,Tn.jsx)(Wc,{onClose:()=>O(!1),onUpdate:()=>{W()}})]}):(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})});var Y},$c=()=>{const[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(!0),[a,i]=(0,n.useState)(null);(0,n.useEffect)(()=>{l()},[]);const l=async()=>{try{r(!0);const e=await On.get("/stations");t(e.data.stations||[])}catch(Nd){i("Failed to load stations"),console.error("Error fetching stations:",Nd)}finally{r(!1)}};return s?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):a?(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)("p",{className:"text-red-600 mb-4",children:a}),(0,Tn.jsx)(ic,{onClick:l,variant:"primary",children:"Try Again"})]}):(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsx)("div",{className:"flex items-center justify-between",children:(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Fire Stations"}),(0,Tn.jsx)("p",{className:"mt-2 text-gray-600",children:"View all available fire stations and their current staffing"})]})}),(0,Tn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,Tn.jsxs)("div",{className:"card hover:shadow-lg transition-shadow",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(ki,{className:"w-6 h-6 text-primary-600 mr-3"}),(0,Tn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Station ",e.number]})]}),(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})]})}),(0,Tn.jsxs)("div",{className:"card-body",children:[(0,Tn.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:e.name}),e.address&&(0,Tn.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[(0,Tn.jsx)(hc,{className:"w-4 h-4 mr-1"}),(0,Tn.jsxs)("span",{children:[e.address.street,", ",e.address.city]})]}),e.description&&(0,Tn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),(0,Tn.jsxs)("div",{className:"space-y-2",children:[(0,Tn.jsx)("h5",{className:"text-sm font-medium text-gray-700",children:"Capacity by Shift:"}),(0,Tn.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["A","B","C"].map(t=>{var s,r,n;const a=(null===(s=e.shiftCapacity)||void 0===s?void 0:s[t])||0,i=(null===(r=e.currentAssignments)||void 0===r||null===(n=r[t])||void 0===n?void 0:n.length)||0,l=a-i;return(0,Tn.jsxs)("div",{className:"text-center p-2 bg-gray-50 rounded",children:[(0,Tn.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["Shift ",t]}),(0,Tn.jsxs)("div",{className:"text-xs text-gray-600",children:[i,"/",a," filled"]}),(0,Tn.jsxs)("div",{className:"text-xs font-medium ".concat(l>0?"text-green-600":"text-red-600"),children:[l," available"]})]},t)})})]}),e.currentAssignments&&(0,Tn.jsxs)("div",{className:"mt-4",children:[(0,Tn.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Staff:"}),(0,Tn.jsx)("div",{className:"space-y-1",children:["A","B","C"].map(t=>{const s=e.currentAssignments[t]||[];return(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Ci,{className:"w-3 h-3 text-gray-400 mr-2"}),(0,Tn.jsxs)("span",{className:"text-gray-600 mr-2",children:["Shift ",t,":"]}),(0,Tn.jsxs)("span",{className:"text-gray-900",children:[s.length," assigned"]})]},t)})})]})]})]},e._id))}),0===e.length&&(0,Tn.jsxs)("div",{className:"text-center py-12",children:[(0,Tn.jsx)(ki,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Stations Found"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:"There are no stations available at the moment."})]})]})},Kc=()=>{const[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(!0),[a,i]=(0,n.useState)(null);(0,n.useEffect)(()=>{l()},[]);const l=async()=>{try{r(!0);const e=await On.get("/users/bid-history");t(e.data.bidHistory||[])}catch(Nd){i("Failed to load bid history"),console.error("Error fetching bid history:",Nd)}finally{r(!1)}},o=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"active":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):a?(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)("p",{className:"text-red-600 mb-4",children:a}),(0,Tn.jsx)(ic,{onClick:l,variant:"primary",children:"Try Again"})]}):(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsx)("div",{className:"flex items-center justify-between",children:(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Bid History"}),(0,Tn.jsx)("p",{className:"mt-2 text-gray-600",children:"View your past bidding activity and assignments"})]})}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(mc,{className:"w-8 h-8 text-blue-600 mr-3"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Bids"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(dc,{className:"w-8 h-8 text-green-600 mr-3"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Successful"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>"completed"===e.status).length})]})]})})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(ki,{className:"w-8 h-8 text-purple-600 mr-3"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Stations Bid"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:new Set(e.map(e=>{var t;return null===(t=e.station)||void 0===t?void 0:t.name})).size})]})]})})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(Ci,{className:"w-8 h-8 text-orange-600 mr-3"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Last Bid"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length>0?o(e[0].createdAt).split(",")[0]:"Never"})]})]})})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Bids"})}),(0,Tn.jsx)("div",{className:"card-body",children:e.length>0?(0,Tn.jsx)("div",{className:"overflow-x-auto",children:(0,Tn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Tn.jsx)("thead",{className:"bg-gray-50",children:(0,Tn.jsxs)("tr",{children:[(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Station"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shift"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Tn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"})]})}),(0,Tn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{var t,s;return(0,Tn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(e.createdAt)}),(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(t=e.session)||void 0===t?void 0:t.name)||"N/A"}),(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(s=e.station)||void 0===s?void 0:s.name)||"N/A"}),(0,Tn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["Shift ",e.shift||"N/A"]}),(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.position||"N/A"}),(0,Tn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(c(e.status)),children:e.status||"Unknown"})}),(0,Tn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["#",e.bidPriority||"N/A"]})]},e._id)})})]})}):(0,Tn.jsxs)("div",{className:"text-center py-12",children:[(0,Tn.jsx)(mc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Bid History"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:"You haven't participated in any bid sessions yet."})]})})]})]})},Yc=()=>{const{user:e}=qn(),[t,s]=(0,n.useState)(!0),[r,a]=(0,n.useState)(null);(0,n.useEffect)(()=>{i()},[]);const i=async()=>{try{s(!0),await On.get("/users/seniority")}catch(Nd){a("Failed to load seniority information"),console.error("Error fetching seniority data:",Nd)}finally{s(!1)}},l={Firefighter:1,Engineer:1.2,Lieutenant:1.5,Captain:2,"Battalion Chief":3,"Deputy Chief":4,Chief:5},o={Firefighter:1,Paramedic:1.3,EMT:1.1,Driver:1.2,Operator:1.4,Officer:1.5},c=e=>({Firefighter:"text-gray-600",Engineer:"text-blue-600",Lieutenant:"text-green-600",Captain:"text-purple-600","Battalion Chief":"text-orange-600","Deputy Chief":"text-red-600",Chief:"text-indigo-600"}[e]||"text-gray-600");if(t)return(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})});if(r)return(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)("p",{className:"text-red-600 mb-4",children:r}),(0,Tn.jsx)(ic,{onClick:i,variant:"primary",children:"Try Again"})]});const d=(()=>{if(!e)return 0;let t=10*e.yearsOfService;return t*=l[e.rank]||1,t*=o[e.position]||1,Math.round(t)})();return(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsx)("div",{className:"flex items-center justify-between",children:(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Seniority Information"}),(0,Tn.jsx)("p",{className:"mt-2 text-gray-600",children:"Your seniority ranking and bid priority details"})]})}),(0,Tn.jsx)("div",{className:"card bg-gradient-to-r from-primary-600 to-primary-700",children:(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"text-white",children:[(0,Tn.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Seniority Score"}),(0,Tn.jsx)("p",{className:"text-primary-100",children:"This score determines your position in the bidding queue"})]}),(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsx)("div",{className:"text-4xl font-bold text-white mb-1",children:d}),(0,Tn.jsx)("div",{className:"text-primary-100 text-sm",children:"Points"})]})]})})}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Personal Information"})}),(0,Tn.jsxs)("div",{className:"card-body space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(ji,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Name"})]}),(0,Tn.jsxs)("span",{className:"font-medium text-gray-900",children:[null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(dc,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Rank"})]}),(0,Tn.jsx)("span",{className:"font-medium ".concat(c(null===e||void 0===e?void 0:e.rank)),children:null===e||void 0===e?void 0:e.rank})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(Oc,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Position"})]}),(0,Tn.jsx)("span",{className:"font-medium text-gray-900",children:null===e||void 0===e?void 0:e.position})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(Ci,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Years of Service"})]}),(0,Tn.jsxs)("span",{className:"font-medium text-gray-900",children:[null===e||void 0===e?void 0:e.yearsOfService," years"]})]})]})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Score Calculation"})}),(0,Tn.jsxs)("div",{className:"card-body space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Base Score (Years \xd7 10)"}),(0,Tn.jsx)("span",{className:"font-medium text-gray-900",children:10*((null===e||void 0===e?void 0:e.yearsOfService)||0)})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Rank Multiplier"}),(0,Tn.jsxs)("span",{className:"font-medium text-gray-900",children:["\xd7 ",l[null===e||void 0===e?void 0:e.rank]||1]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Position Multiplier"}),(0,Tn.jsxs)("span",{className:"font-medium text-gray-900",children:["\xd7 ",o[null===e||void 0===e?void 0:e.position]||1]})]}),(0,Tn.jsx)("div",{className:"border-t pt-3",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-lg font-medium text-gray-900",children:"Total Score"}),(0,Tn.jsx)("span",{className:"text-lg font-bold text-primary-600",children:d})]})})]})]})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Rank Multipliers"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsx)("div",{className:"space-y-2",children:Object.entries(l).map(e=>{let[t,s]=e;return(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-sm ".concat(c(t)),children:t}),(0,Tn.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["\xd7 ",s]})]},t)})})})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Position Multipliers"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsx)("div",{className:"space-y-2",children:Object.entries(o).map(e=>{let[t,s]=e;return(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:t}),(0,Tn.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["\xd7 ",s]})]},t)})})})]})]}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Bidding Priority"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-gray-600 mb-2",children:"Your current bid priority determines your position in the queue during bid sessions."}),(0,Tn.jsx)("p",{className:"text-sm text-gray-500",children:"Higher scores = earlier bidding position"})]}),(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsxs)("div",{className:"text-2xl font-bold text-primary-600",children:["#",(null===e||void 0===e?void 0:e.bidPriority)||"N/A"]}),(0,Tn.jsx)("div",{className:"text-sm text-gray-500",children:"Queue Position"})]})]})})]}),(0,Tn.jsx)("div",{className:"card bg-blue-50 border-blue-200",children:(0,Tn.jsxs)("div",{className:"card-body",children:[(0,Tn.jsxs)("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:[(0,Tn.jsx)(Si,{className:"w-5 h-5 inline mr-2"}),"How to Improve Your Seniority Score"]}),(0,Tn.jsxs)("ul",{className:"space-y-2 text-sm text-blue-800",children:[(0,Tn.jsx)("li",{children:"\u2022 Gain more years of service"}),(0,Tn.jsx)("li",{children:"\u2022 Advance in rank through promotions"}),(0,Tn.jsx)("li",{children:"\u2022 Obtain additional certifications (Paramedic, EMT, etc.)"}),(0,Tn.jsx)("li",{children:"\u2022 Take on specialized positions (Driver, Operator, Officer)"})]})]})})]})},Jc=yi("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Gc=yi("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Xc=yi("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Zc=yi("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ed=yi("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),td=yi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),sd=()=>{const{user:e}=qn(),{socket:t,isConnected:s}=hi(),r=se(),[a,i]=(0,n.useState)(!0),[l,o]=(0,n.useState)({totalUsers:0,activeUsers:0,totalStations:0,activeBidSessions:0,completedBidSessions:0,pendingApprovals:0}),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[h,f]=(0,n.useState)([]),[p,x]=(0,n.useState)([]),g={database:"online",email:"online",notifications:"online",lastBackup:(new Date).toISOString()},[y,v]=(0,n.useState)(new Date),b=(0,n.useCallback)(()=>{const e=u.filter(e=>"active"===e.status&&e.currentParticipant);x(e)},[u]),j=(0,n.useCallback)(()=>{o(e=>Me(Me({},e),{},{activeUsers:h.filter(e=>e.isOnline).length,activeBidSessions:u.filter(e=>"active"===e.status).length,completedBidSessions:u.filter(e=>"completed"===e.status).length}))},[h,u]),N=(0,n.useCallback)(async()=>{try{i(!0);const[e,t]=await Promise.all([On.get("/admin/stats"),On.get("/admin/recent-activity")]);o(e.data),d(t.data.activities||[])}catch(e){console.error("Error fetching dashboard data:",e),ts.error("Failed to load dashboard data")}finally{i(!1)}},[]),w=(0,n.useCallback)(async()=>{try{const e=await On.get(Pn.list);m(e.data.sessions||[])}catch(e){console.error("Error fetching bid sessions:",e)}},[]),S=(0,n.useCallback)(async()=>{try{const e=await On.get("/admin/online-users");f(e.data.users||[])}catch(e){console.error("Error fetching online users:",e)}},[]);(0,n.useEffect)(()=>{N(),w(),S()},[N,w,S]),(0,n.useEffect)(()=>{const e=setInterval(()=>{v(new Date)},1e3);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{b()},[u,b]),(0,n.useEffect)(()=>{if(!t||!s)return;const e=e=>{j()},r=e=>{m(t=>t.map(t=>t.id===e.sessionId?Me(Me({},t),e.updates):t)),b()},n=e=>{f(t=>{const s=t.find(t=>t.userId===e.userId);return s?t.map(t=>t.userId===e.userId?Me(Me({},t),{},{isOnline:e.isOnline,lastSeen:e.lastSeen}):t):[...t,e]})},a=e=>{m(t=>[e.session,...t]),j()},i=e=>{m(t=>t.map(t=>t.id===e.sessionId?Me(Me({},t),{},{status:"active",startedAt:e.startedAt}):t)),b(),ts.success('Bid session "'.concat(e.sessionName,'" has started!'))},l=e=>{m(t=>t.map(t=>t.id===e.sessionId?Me(Me({},t),{},{status:"completed",completedAt:e.completedAt}):t)),b(),ts.success('Bid session "'.concat(e.sessionName,'" has completed!'))};return t.on("user-activity",e),t.on("bid-session-update",r),t.on("user-online-status",n),t.on("new-bid-session",a),t.on("bid-session-started",i),t.on("bid-session-completed",l),t.emit("join-admin-room"),()=>{t.off("user-activity",e),t.off("bid-session-update",r),t.off("user-online-status",n),t.off("new-bid-session",a),t.off("bid-session-started",i),t.off("bid-session-completed",l)}},[t,s,j,b]);const k=e=>{switch(e){case"create-user":r("/admin/users");break;case"create-station":r("/admin/stations");break;case"start-bid-session":r("/admin/bid-sessions");break;case"view-live-draft":const e=document.querySelector('[data-section="live-draft"]');e&&e.scrollIntoView({behavior:"smooth"});break;case"view-seniority":r("/admin/seniority");break;case"export-data":ts.success("Exporting data...")}},C=e=>{switch(e){case"online":return"text-green-600 bg-green-100";case"offline":return"text-red-600 bg-red-100";case"warning":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},E=e=>{switch(e){case"online":return(0,Tn.jsx)(yc,{className:"w-4 h-4"});case"offline":case"warning":return(0,Tn.jsx)(Nc,{className:"w-4 h-4"});default:return(0,Tn.jsx)(Jc,{className:"w-4 h-4"})}},_=e=>{switch(e){case"draft":default:return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"active":return"bg-green-100 text-green-800";case"paused":return"bg-orange-100 text-orange-800";case"completed":return"bg-purple-100 text-purple-800"}},A=e=>{if(!e)return"N/A";const t=new Date(e)-y;if(t<=0)return"Expired";const s=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3);return"".concat(s,":").concat(r.toString().padStart(2,"0"))};return a?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,Tn.jsxs)("p",{className:"mt-3 text-gray-600",children:["Welcome back, ",null===e||void 0===e?void 0:e.firstName,". Here's what's happening with your shift bidding system."]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(s?"bg-green-500":"bg-red-500")}),(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:s?"Connected":"Disconnected"})]}),p.length>0&&p[0]&&(0,Tn.jsx)(Lc,{session:p[0],socket:t,isConnected:s}),(0,Tn.jsxs)(ic,{onClick:()=>N(),variant:"secondary",size:"sm",children:[(0,Tn.jsx)(wc,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Tn.jsxs)(ic,{onClick:()=>k("export-data"),variant:"primary",size:"sm",children:[(0,Tn.jsx)(Gc,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-8",children:[(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsxs)("div",{className:"p-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.totalUsers})]}),(0,Tn.jsx)("div",{className:"w-14 h-14 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(wi,{className:"w-7 h-7 text-blue-600"})})]}),(0,Tn.jsxs)("div",{className:"mt-5 flex items-center text-sm",children:[(0,Tn.jsx)(Si,{className:"w-4 h-4 text-green-500 mr-2"}),(0,Tn.jsx)("span",{className:"text-green-600",children:"+12% from last month"})]})]})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsxs)("div",{className:"p-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.activeUsers})]}),(0,Tn.jsx)("div",{className:"w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(Jc,{className:"w-7 h-7 text-green-600"})})]}),(0,Tn.jsxs)("div",{className:"mt-5 flex items-center text-sm",children:[(0,Tn.jsx)(Si,{className:"w-4 h-4 text-green-500 mr-2"}),(0,Tn.jsx)("span",{className:"text-green-600",children:"+8% from last week"})]})]})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsxs)("div",{className:"p-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Stations"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.totalStations})]}),(0,Tn.jsx)("div",{className:"w-14 h-14 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(ki,{className:"w-7 h-7 text-purple-600"})})]}),(0,Tn.jsx)("div",{className:"mt-5 flex items-center text-sm",children:(0,Tn.jsx)("span",{className:"text-gray-500",children:"No change"})})]})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsxs)("div",{className:"p-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Sessions"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.activeBidSessions})]}),(0,Tn.jsx)("div",{className:"w-14 h-14 bg-orange-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(Ci,{className:"w-7 h-7 text-orange-600"})})]}),(0,Tn.jsxs)("div",{className:"mt-5 flex items-center text-sm",children:[(0,Tn.jsx)(Si,{className:"w-4 h-4 text-green-500 mr-2"}),(0,Tn.jsx)("span",{className:"text-green-600",children:"+2 this week"})]})]})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsxs)("div",{className:"p-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.completedBidSessions})]}),(0,Tn.jsx)("div",{className:"w-14 h-14 bg-indigo-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(dc,{className:"w-7 h-7 text-indigo-600"})})]}),(0,Tn.jsxs)("div",{className:"mt-5 flex items-center text-sm",children:[(0,Tn.jsx)(Si,{className:"w-4 h-4 text-green-500 mr-2"}),(0,Tn.jsx)("span",{className:"text-green-600",children:"+15% this month"})]})]})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsxs)("div",{className:"p-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.pendingApprovals})]}),(0,Tn.jsx)("div",{className:"w-14 h-14 bg-yellow-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(Nc,{className:"w-7 h-7 text-yellow-600"})})]}),(0,Tn.jsxs)("div",{className:"mt-5 flex items-center text-sm",children:[(0,Tn.jsx)(Xc,{className:"w-4 h-4 text-red-500 mr-2"}),(0,Tn.jsx)("span",{className:"text-red-600",children:"-3 from yesterday"})]})]})})]}),p.length>0&&(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Active Bid Windows"}),(0,Tn.jsxs)("span",{className:"text-sm text-gray-500",children:[p.length," active session",1!==p.length?"s":""]})]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(e=>(0,Tn.jsxs)("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-green-50 to-blue-50",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tn.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(_(e.status)),children:"Active"})]}),(0,Tn.jsxs)("div",{className:"space-y-2",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Current Participant:"}),(0,Tn.jsx)("span",{className:"font-medium",children:e.currentParticipant||"N/A"})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Time Remaining:"}),(0,Tn.jsx)("span",{className:"font-medium text-orange-600",children:A(e.currentBidEnd)})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Progress:"}),(0,Tn.jsxs)("span",{className:"font-medium",children:[e.completedBids||0,"/",e.totalParticipants||0]})]})]}),(0,Tn.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,Tn.jsxs)(ic,{onClick:()=>r("/admin/bid-sessions"),variant:"secondary",size:"sm",className:"flex-1",children:[(0,Tn.jsx)(lo,{className:"w-4 h-4 mr-1"}),"View"]}),(0,Tn.jsxs)(ic,{onClick:()=>r("/admin/bid-sessions"),variant:"primary",size:"sm",className:"flex-1",children:[(0,Tn.jsx)(vc,{className:"w-4 h-4 mr-1"}),"Pause"]})]})]},e.id))})})]}),p.length>0&&p[0]&&(0,Tn.jsxs)("div",{className:"card","data-section":"live-draft",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(Ni,{className:"w-6 h-6 mr-3"}),"Live Draft Experience - Admin View"]}),(0,Tn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor the bidding process in real-time with comprehensive analytics"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsxs)("span",{className:"text-sm text-gray-500",children:["Session: ",p[0].name]}),(0,Tn.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsx)(Fc,{session:p[0],currentUser:e,isAdmin:!0})})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Tn.jsxs)("div",{className:"lg:col-span-1",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"space-y-3",children:[(0,Tn.jsxs)(ic,{onClick:()=>k("create-user"),variant:"secondary",className:"w-full justify-start",children:[(0,Tn.jsx)(Zc,{className:"w-4 h-4 mr-3"}),"Create New User"]}),(0,Tn.jsxs)(ic,{onClick:()=>k("create-station"),variant:"secondary",className:"w-full justify-start",children:[(0,Tn.jsx)(ed,{className:"w-4 h-4 mr-3"}),"Add New Station"]}),(0,Tn.jsxs)(ic,{onClick:()=>k("start-bid-session"),variant:"secondary",className:"w-full justify-start",children:[(0,Tn.jsx)(mc,{className:"w-4 h-4 mr-3"}),"Start Bid Session"]}),p.length>0&&(0,Tn.jsxs)(ic,{onClick:()=>k("view-live-draft"),variant:"primary",className:"w-full justify-start",children:[(0,Tn.jsx)(Ni,{className:"w-4 h-4 mr-3"}),"View Live Draft"]}),(0,Tn.jsxs)(ic,{onClick:()=>k("view-seniority"),variant:"secondary",className:"w-full justify-start",children:[(0,Tn.jsx)(Si,{className:"w-4 h-4 mr-3"}),"View Seniority List"]}),(0,Tn.jsxs)(ic,{onClick:()=>k("manage-permissions"),variant:"secondary",className:"w-full justify-start",children:[(0,Tn.jsx)(oc,{className:"w-4 h-4 mr-3"}),"Manage Permissions"]}),(0,Tn.jsxs)(ic,{onClick:()=>k("system-settings"),variant:"secondary",className:"w-full justify-start",children:[(0,Tn.jsx)(kc,{className:"w-4 h-4 mr-3"}),"System Settings"]})]})})]}),(0,Tn.jsxs)("div",{className:"card mt-6",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Online Users"}),(0,Tn.jsxs)("span",{className:"text-sm text-gray-500",children:[h.filter(e=>e.isOnline).length," online"]})]})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"space-y-3",children:[h.filter(e=>e.isOnline).slice(0,5).map(e=>(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(ji,{className:"w-4 h-4 text-green-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,Tn.jsx)("p",{className:"text-xs text-gray-500",children:e.rank})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Tn.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Tn.jsx)("span",{className:"text-xs text-gray-500",children:"Online"})]})]},e.userId)),0===h.filter(e=>e.isOnline).length&&(0,Tn.jsxs)("div",{className:"text-center py-4",children:[(0,Tn.jsx)(zc,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,Tn.jsx)("p",{className:"text-sm text-gray-500",children:"No users online"})]})]})})]}),(0,Tn.jsxs)("div",{className:"card mt-6",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"System Status"})}),(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"space-y-4",children:[Object.entries(g).map(e=>{let[t,s]=e;return(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center",children:[E(s),(0,Tn.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700 capitalize",children:t.replace(/([A-Z])/g," $1").trim()})]}),(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(C(s)),children:s})]},t)}),(0,Tn.jsx)("div",{className:"pt-3 border-t",children:(0,Tn.jsxs)("p",{className:"text-xs text-gray-500",children:["Last backup: ",new Date(g.lastBackup).toLocaleString()]})})]})})]})]}),(0,Tn.jsx)("div",{className:"lg:col-span-2",children:(0,Tn.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent System Activity"}),(0,Tn.jsx)(ic,{variant:"secondary",size:"sm",children:"View All"})]})}),(0,Tn.jsx)("div",{className:"card-body",children:c.length>0?(0,Tn.jsx)("div",{className:"space-y-4",children:c.slice(0,6).map((e,t)=>(0,Tn.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Tn.jsxs)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:["user"===e.type&&(0,Tn.jsx)(wi,{className:"w-4 h-4 text-gray-600"}),"station"===e.type&&(0,Tn.jsx)(ki,{className:"w-4 h-4 text-gray-600"}),"bid"===e.type&&(0,Tn.jsx)(Ci,{className:"w-4 h-4 text-gray-600"}),"system"===e.type&&(0,Tn.jsx)(kc,{className:"w-4 h-4 text-gray-600"})]}),(0,Tn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Tn.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,Tn.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.timestamp).toLocaleString()})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:["view"===e.action&&(0,Tn.jsx)(ic,{variant:"ghost",size:"sm",children:(0,Tn.jsx)(lo,{className:"w-4 h-4"})}),"edit"===e.action&&(0,Tn.jsx)(ic,{variant:"ghost",size:"sm",children:(0,Tn.jsx)(Pc,{className:"w-4 h-4"})}),"delete"===e.action&&(0,Tn.jsx)(ic,{variant:"ghost",size:"sm",children:(0,Tn.jsx)(td,{className:"w-4 h-4"})})]})]},t))}):(0,Tn.jsxs)("div",{className:"text-center py-8",children:[(0,Tn.jsx)(Ni,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("p",{className:"text-gray-500",children:"No recent activity"})]})})]})})})]})]})},rd=yi("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),nd=yi("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ad=yi("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),id=yi("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ld=()=>{const[e,t]=(0,n.useState)(null),[s,r]=(0,n.useState)(!1),[a,i]=(0,n.useState)(null),[l,o]=(0,n.useState)(!1),c=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?o(!0):"dragleave"===e.type&&o(!1)},d=e=>{const t=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(e.type),s=[".xlsx",".xls"].some(t=>e.name.toLowerCase().endsWith(t));return t||s?!(e.size>5242880)||(ts.error("File size must be less than 5MB"),!1):(ts.error("Please select a valid Excel file (.xlsx or .xls)"),!1)};return(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsxs)("div",{className:"card-header",children:[(0,Tn.jsx)("h3",{className:"text-lg font-semibold",children:"Import Users from Excel"}),(0,Tn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Upload an Excel file to bulk import users into the system"})]}),(0,Tn.jsxs)("div",{className:"card-body",children:[(0,Tn.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(l?"border-rigroster-red bg-rigroster-red/5":"border-gray-300 hover:border-rigroster-red"),onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){const s=e.dataTransfer.files[0];d(s)&&t(s)}},children:[(0,Tn.jsx)(rd,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e?(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)(yc,{className:"mx-auto h-12 w-12 text-green-500 mb-4"}),(0,Tn.jsxs)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:["File selected: ",e.name]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Size: ",(e.size/1024/1024).toFixed(2)," MB"]}),(0,Tn.jsxs)("div",{className:"space-x-2",children:[(0,Tn.jsx)(ic,{onClick:async()=>{if(e){r(!0),i(null);try{const s=new FormData;s.append("file",e);const r=await On.post("/admin/import-users",s,{headers:{"Content-Type":"multipart/form-data"}});i(r.data.results),ts.success("Import completed! ".concat(r.data.results.created," users created, ").concat(r.data.results.skipped," skipped.")),t(null)}catch(a){var s,n;console.error("Upload error:",a),ts.error((null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||a.message||"Upload failed")}finally{r(!1)}}else ts.error("Please select a file to upload")},loading:s,children:s?"Uploading...":"Upload & Import"}),(0,Tn.jsx)(ic,{variant:"outline",onClick:()=>t(null),disabled:s,children:"Remove File"})]})]}):(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop your Excel file here, or click to browse"}),(0,Tn.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Supports .xlsx and .xls files up to 5MB"}),(0,Tn.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:e=>{const s=e.target.files[0];s&&d(s)&&t(s)},className:"hidden",id:"file-upload"}),(0,Tn.jsx)("label",{htmlFor:"file-upload",children:(0,Tn.jsx)(ic,{as:"span",variant:"outline",children:"Choose File"})})]})]}),(0,Tn.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h4",{className:"font-medium text-blue-900",children:"Need a template?"}),(0,Tn.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Download our Excel template with the correct column headers"})]}),(0,Tn.jsxs)(ic,{variant:"outline",onClick:()=>{const e=[["firstName","lastName","email","employeeId","rank","position","yearsOfService"],["John","Doe","john.doe@example.com","1234","Firefighter","Firefighter","5"],["Jane","Smith","jane.smith@example.com","5678","Lieutenant","Paramedic","8"]].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="user_import_template.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s)},children:[(0,Tn.jsx)(Gc,{className:"w-4 h-4 mr-2"}),"Download Template"]})]})}),(0,Tn.jsxs)("div",{className:"mt-6",children:[(0,Tn.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Required Columns:"}),(0,Tn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{name:"firstName",required:!0},{name:"lastName",required:!0},{name:"email",required:!0},{name:"employeeId",required:!0},{name:"rank",required:!1},{name:"position",required:!1},{name:"yearsOfService",required:!1}].map(e=>(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)("span",{className:"text-sm ".concat(e.required?"text-red-600":"text-gray-600"),children:e.name}),e.required&&(0,Tn.jsx)("span",{className:"text-red-500",children:"*"})]},e.name))})]})]})]}),a&&(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-semibold",children:"Import Results"})}),(0,Tn.jsxs)("div",{className:"card-body",children:[(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Tn.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,Tn.jsx)("div",{className:"text-2xl font-bold text-green-600",children:a.created}),(0,Tn.jsx)("div",{className:"text-sm text-green-700",children:"Users Created"})]}),(0,Tn.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,Tn.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:a.skipped}),(0,Tn.jsx)("div",{className:"text-sm text-yellow-700",children:"Users Skipped"})]}),(0,Tn.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Tn.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:a.total}),(0,Tn.jsx)("div",{className:"text-sm text-gray-700",children:"Total Rows"})]})]}),a.errors.length>0&&(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Errors:"}),(0,Tn.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.errors.map((e,t)=>(0,Tn.jsxs)("div",{className:"flex items-start space-x-2 p-3 bg-red-50 rounded-lg",children:[(0,Tn.jsx)(id,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("div",{className:"text-sm font-medium text-red-900",children:["Row ",e.row]}),(0,Tn.jsx)("div",{className:"text-sm text-red-700",children:e.error})]})]},t))})]})]})]})]})},od=()=>{var e,t;const{user:s}=qn(),[r,a]=(0,n.useState)([]),[i,l]=(0,n.useState)([]),[o,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(""),[m,h]=(0,n.useState)("all"),[f,p]=(0,n.useState)(null),[x,g]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),[b,j]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),[S,k]=(0,n.useState)("name"),[C,E]=(0,n.useState)("asc"),[_,A]=(0,n.useState)([]),[P,O]=(0,n.useState)(!1),[T,R]=(0,n.useState)("list"),{register:F,handleSubmit:L,formState:{errors:D},reset:B}=ro(),{register:z,handleSubmit:I,formState:{errors:M},reset:U,setValue:q}=ro(),{register:V,handleSubmit:H,formState:{errors:W},reset:Q,setValue:$}=ro(),K=e=>{let t=10*(e.yearsOfService||0);return t*={Firefighter:1,Engineer:1.2,Lieutenant:1.5,Captain:2,"Battalion Chief":3,"Deputy Chief":4,Chief:5}[e.rank]||1,t*={Firefighter:1,Paramedic:1.3,EMT:1.1,Driver:1.2,Operator:1.4,Officer:1.5}[e.position]||1,Math.round(t)},Y=async()=>{try{c(!0);const e=await On.get("/admin/users");a(e.data.users||[])}catch(e){console.error("Error fetching users:",e),ts.error("Failed to load users")}finally{c(!1)}},J=e=>{var t;p(e),$("stationId",(null===(t=e.currentStation)||void 0===t?void 0:t._id)||""),$("shift",e.currentShift||"A"),w(!0)},G=(0,n.useCallback)(()=>{let e=r;switch(d&&(e=e.filter(e=>{var t,s,r,n,a;return(null===(t=e.firstName)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(s=e.lastName)||void 0===s?void 0:s.toLowerCase().includes(d.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(d.toLowerCase()))||(null===(n=e.employeeId)||void 0===n?void 0:n.toLowerCase().includes(d.toLowerCase()))||(null===(a=e.rank)||void 0===a?void 0:a.toLowerCase().includes(d.toLowerCase()))})),m){case"active":e=e.filter(e=>e.isActive);break;case"inactive":e=e.filter(e=>!e.isActive);break;case"admin":e=e.filter(e=>e.isAdmin);break;case"pending":e=e.filter(e=>"pending"===e.status);break;case"senior":e=e.filter(e=>(e.yearsOfService||0)>=10);break;case"junior":e=e.filter(e=>(e.yearsOfService||0)<5);break;case"assigned":e=e.filter(e=>e.currentStation);break;case"unassigned":e=e.filter(e=>!e.currentStation)}e.sort((e,t)=>{let s,r;switch(S){case"name":s="".concat(e.firstName," ").concat(e.lastName).toLowerCase(),r="".concat(t.firstName," ").concat(t.lastName).toLowerCase();break;case"seniority":s=K(e),r=K(t);break;case"yearsOfService":s=e.yearsOfService||0,r=t.yearsOfService||0;break;case"rank":s=e.rank||"",r=t.rank||"";break;case"email":s=e.email||"",r=t.email||"";break;default:s=e.firstName||"",r=t.firstName||""}return"asc"===C?s>r?1:-1:s<r?1:-1}),l(e)},[r,d,m,S,C]);(0,n.useEffect)(()=>{Y(),(async()=>{try{O(!0);const e=await On.get("/stations");A(e.data.stations||[])}catch(e){console.error("Error fetching stations:",e),ts.error("Failed to load stations")}finally{O(!1)}})()},[]),(0,n.useEffect)(()=>{G()},[G]);const X=e=>{p(e),q("firstName",e.firstName||""),q("lastName",e.lastName||""),q("email",e.email||""),q("phone",e.phone||""),q("rank",e.rank||""),q("position",e.position||""),q("yearsOfService",e.yearsOfService||0),q("employeeId",e.employeeId||""),q("isAdmin",e.isAdmin||!1),q("isActive",!1!==e.isActive),g(!0)},Z=e=>{S===e?E("asc"===C?"desc":"asc"):(k(e),E("asc"))},ee=e=>e.isActive?e.isAdmin?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800":"bg-red-100 text-red-800",te=e=>e.isActive?e.isAdmin?"Admin":"Active":"Inactive",se=e=>e>=15?"Senior":e>=10?"Experienced":e>=5?"Mid-level":"Junior",re=e=>e>=15?"text-purple-600 bg-purple-100":e>=10?"text-blue-600 bg-blue-100":e>=5?"text-green-600 bg-green-100":"text-orange-600 bg-orange-100";return o?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),(0,Tn.jsx)("p",{className:"mt-3 text-gray-600",children:"Manage all users in the shift bidding system"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)(ic,{onClick:()=>Y(),variant:"secondary",size:"sm",children:[(0,Tn.jsx)(wc,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Tn.jsxs)(ic,{onClick:()=>v(!0),variant:"primary",size:"sm",children:[(0,Tn.jsx)(Zc,{className:"w-4 h-4 mr-2"}),"Add User"]})]})]}),(0,Tn.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,Tn.jsxs)(ic,{variant:"list"===T?"primary":"secondary",size:"sm",onClick:()=>R("list"),children:[(0,Tn.jsx)(wi,{className:"w-4 h-4 mr-2"}),"User List"]}),(0,Tn.jsxs)(ic,{variant:"import"===T?"primary":"secondary",size:"sm",onClick:()=>R("import"),children:[(0,Tn.jsx)(rd,{className:"w-4 h-4 mr-2"}),"Import Users"]})]}),"list"===T?(0,Tn.jsx)(Tn.Fragment,{children:(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,Tn.jsx)("div",{className:"flex-1",children:(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsx)(nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Tn.jsx)("input",{type:"text",placeholder:"Search users by name, email, or employee ID...",value:d,onChange:e=>u(e.target.value),className:"input pl-10 w-full"})]})}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(ad,{className:"w-4 h-4 text-gray-400"}),(0,Tn.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"input",children:[(0,Tn.jsx)("option",{value:"all",children:"All Users"}),(0,Tn.jsx)("option",{value:"active",children:"Active"}),(0,Tn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Tn.jsx)("option",{value:"admin",children:"Admins"}),(0,Tn.jsx)("option",{value:"pending",children:"Pending"}),(0,Tn.jsx)("option",{value:"senior",children:"Senior (10+ years)"}),(0,Tn.jsx)("option",{value:"junior",children:"Junior (<5 years)"}),(0,Tn.jsx)("option",{value:"assigned",children:"Assigned to Station"}),(0,Tn.jsx)("option",{value:"unassigned",children:"Unassigned"})]})]})]})})})}):(0,Tn.jsx)(ld,{}),"list"===T&&(0,Tn.jsx)(Tn.Fragment,{children:(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900",children:["Users (",i.length,")"]}),(0,Tn.jsxs)(ic,{variant:"secondary",size:"sm",children:[(0,Tn.jsx)(Gc,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),(0,Tn.jsxs)("div",{className:"p-6",children:[(0,Tn.jsx)("div",{className:"overflow-x-auto",children:(0,Tn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Tn.jsx)("thead",{className:"bg-gray-50",children:(0,Tn.jsxs)("tr",{children:[(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Z("name"),children:(0,Tn.jsxs)("div",{className:"flex items-center",children:["User","name"===S&&(0,Tn.jsx)("span",{className:"ml-1",children:"asc"===C?"\u2191":"\u2193"})]})}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Z("rank"),children:(0,Tn.jsxs)("div",{className:"flex items-center",children:["Position","rank"===S&&(0,Tn.jsx)("span",{className:"ml-1",children:"asc"===C?"\u2191":"\u2193"})]})}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Z("seniority"),children:(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)(Si,{className:"w-4 h-4 mr-1"}),"Seniority","seniority"===S&&(0,Tn.jsx)("span",{className:"ml-1",children:"asc"===C?"\u2191":"\u2193"})]})}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Station"}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Tn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(e=>{var t;return(0,Tn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Tn.jsx)("td",{className:"px-6 py-3 whitespace-nowrap",children:(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(wi,{className:"w-5 h-5 text-primary-600"})}),(0,Tn.jsxs)("div",{className:"ml-4",children:[(0,Tn.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,Tn.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.employeeId]})]})]})}),(0,Tn.jsxs)("td",{className:"px-6 py-3 whitespace-nowrap",children:[(0,Tn.jsx)("div",{className:"text-sm text-gray-900",children:e.email}),(0,Tn.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,Tn.jsxs)("td",{className:"px-6 py-3 whitespace-nowrap",children:[(0,Tn.jsx)("div",{className:"text-sm text-gray-900",children:e.rank}),(0,Tn.jsx)("div",{className:"text-sm text-gray-500",children:e.position})]}),(0,Tn.jsxs)("td",{className:"px-6 py-3 whitespace-nowrap",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:K(e)}),(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(re(e.yearsOfService||0)),children:se(e.yearsOfService||0)})]}),(0,Tn.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,Tn.jsx)(mc,{className:"w-3 h-3 mr-1"}),e.yearsOfService||0," years"]})]}),(0,Tn.jsx)("td",{className:"px-6 py-3 whitespace-nowrap",children:(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(ee(e)),children:te(e)})}),(0,Tn.jsx)("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-900",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(ki,{className:"w-4 h-4 text-gray-400"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("div",{className:"font-medium",children:(null===(t=e.currentStation)||void 0===t?void 0:t.name)||"Unassigned"}),e.currentStation&&e.currentShift&&(0,Tn.jsxs)("div",{className:"text-xs text-gray-500",children:["Shift ",e.currentShift]})]})]})}),(0,Tn.jsx)("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-medium",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(ic,{onClick:()=>(e=>{p(e),j(!0)})(e),variant:"ghost",size:"sm",children:(0,Tn.jsx)(lo,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>X(e),variant:"ghost",size:"sm",children:(0,Tn.jsx)(Pc,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>J(e),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800",title:"Assign Station",children:(0,Tn.jsx)(hc,{className:"w-4 h-4"})}),e._id!==(null===s||void 0===s?void 0:s._id)&&(0,Tn.jsx)(ic,{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await On.delete("/admin/users/".concat(e)),a(r.filter(t=>t._id!==e)),ts.success("User deleted successfully")}catch(n){var t,s;console.error("Error deleting user:",n),ts.error((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to delete user")}})(e._id),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",children:(0,Tn.jsx)(td,{className:"w-4 h-4"})})]})})]},e._id)})})]})}),0===i.length&&(0,Tn.jsxs)("div",{className:"text-center py-12",children:[(0,Tn.jsx)(wi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:d||"all"!==m?"Try adjusting your search or filters.":"No users have been added yet."})]})]})]})}),y&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Create New User"}),(0,Tn.jsx)(ic,{onClick:()=>{v(!1),B()},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("form",{onSubmit:L(async e=>{try{const t=await On.post("/admin/users",e);a([...r,t.data.user]),v(!1),B(),ts.success("User created successfully")}catch(n){var t,s;console.error("Error creating user:",n),ts.error((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to create user")}}),className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,Tn.jsx)("input",Me(Me({type:"text"},F("firstName",{required:"First name is required"})),{},{className:"input"})),D.firstName&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:D.firstName.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,Tn.jsx)("input",Me(Me({type:"text"},F("lastName",{required:"Last name is required"})),{},{className:"input"})),D.lastName&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:D.lastName.message})]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Tn.jsx)("input",Me(Me({type:"email"},F("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{className:"input"})),D.email&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:D.email.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID"}),(0,Tn.jsx)("input",Me(Me({type:"text"},F("employeeId",{required:"Employee ID is required"})),{},{className:"input"})),D.employeeId&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:D.employeeId.message})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rank"}),(0,Tn.jsxs)("select",Me(Me({},F("rank")),{},{className:"input",children:[(0,Tn.jsx)("option",{value:"",children:"Select Rank"}),(0,Tn.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,Tn.jsx)("option",{value:"Engineer",children:"Engineer"}),(0,Tn.jsx)("option",{value:"Lieutenant",children:"Lieutenant"}),(0,Tn.jsx)("option",{value:"Captain",children:"Captain"}),(0,Tn.jsx)("option",{value:"Battalion Chief",children:"Battalion Chief"}),(0,Tn.jsx)("option",{value:"Deputy Chief",children:"Deputy Chief"}),(0,Tn.jsx)("option",{value:"Chief",children:"Chief"})]}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,Tn.jsxs)("select",Me(Me({},F("position")),{},{className:"input",children:[(0,Tn.jsx)("option",{value:"",children:"Select Position"}),(0,Tn.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,Tn.jsx)("option",{value:"Paramedic",children:"Paramedic"}),(0,Tn.jsx)("option",{value:"EMT",children:"EMT"}),(0,Tn.jsx)("option",{value:"Driver",children:"Driver"}),(0,Tn.jsx)("option",{value:"Operator",children:"Operator"}),(0,Tn.jsx)("option",{value:"Officer",children:"Officer"})]}))]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Years of Service"}),(0,Tn.jsx)("input",Me(Me({type:"number"},F("yearsOfService",{min:{value:0,message:"Years must be 0 or greater"},max:{value:50,message:"Years cannot exceed 50"}})),{},{className:"input",min:"0",max:"50",placeholder:"0"})),D.yearsOfService&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:D.yearsOfService.message})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},F("isAdmin")),{},{className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Admin Access"})]}),(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},F("isActive")),{},{defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:()=>{v(!1),B()},children:"Cancel"}),(0,Tn.jsxs)(ic,{type:"submit",variant:"primary",children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Create User"]})]})]})]})}),x&&f&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Edit User"}),(0,Tn.jsx)(ic,{onClick:()=>{g(!1),p(null),U()},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("form",{onSubmit:I(async e=>{try{const t=await On.put("/admin/users/".concat(f._id),e);a(r.map(e=>e._id===f._id?t.data.user:e)),g(!1),p(null),U(),ts.success("User updated successfully")}catch(n){var t,s;console.error("Error updating user:",n),ts.error((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to update user")}}),className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,Tn.jsx)("input",Me(Me({type:"text"},z("firstName",{required:"First name is required"})),{},{className:"input"})),M.firstName&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:M.firstName.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,Tn.jsx)("input",Me(Me({type:"text"},z("lastName",{required:"Last name is required"})),{},{className:"input"})),M.lastName&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:M.lastName.message})]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Tn.jsx)("input",Me(Me({type:"email"},z("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{className:"input"})),M.email&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:M.email.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Tn.jsx)("input",Me(Me({type:"tel"},z("phone")),{},{className:"input"}))]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rank"}),(0,Tn.jsxs)("select",Me(Me({},z("rank")),{},{className:"input",children:[(0,Tn.jsx)("option",{value:"",children:"Select Rank"}),(0,Tn.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,Tn.jsx)("option",{value:"Engineer",children:"Engineer"}),(0,Tn.jsx)("option",{value:"Lieutenant",children:"Lieutenant"}),(0,Tn.jsx)("option",{value:"Captain",children:"Captain"}),(0,Tn.jsx)("option",{value:"Battalion Chief",children:"Battalion Chief"}),(0,Tn.jsx)("option",{value:"Deputy Chief",children:"Deputy Chief"}),(0,Tn.jsx)("option",{value:"Chief",children:"Chief"})]}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,Tn.jsxs)("select",Me(Me({},z("position")),{},{className:"input",children:[(0,Tn.jsx)("option",{value:"",children:"Select Position"}),(0,Tn.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,Tn.jsx)("option",{value:"Paramedic",children:"Paramedic"}),(0,Tn.jsx)("option",{value:"EMT",children:"EMT"}),(0,Tn.jsx)("option",{value:"Driver",children:"Driver"}),(0,Tn.jsx)("option",{value:"Operator",children:"Operator"}),(0,Tn.jsx)("option",{value:"Officer",children:"Officer"})]}))]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Years of Service"}),(0,Tn.jsx)("input",Me(Me({type:"number"},z("yearsOfService",{min:{value:0,message:"Years must be 0 or greater"},max:{value:50,message:"Years cannot exceed 50"}})),{},{className:"input",min:"0",max:"50"})),M.yearsOfService&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:M.yearsOfService.message})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},z("isAdmin")),{},{className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Admin Access"})]}),(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},z("isActive")),{},{className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:()=>{g(!1),p(null),U()},children:"Cancel"}),(0,Tn.jsxs)(ic,{type:"submit",variant:"primary",children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Update User"]})]})]})]})}),b&&f&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"User Details"}),(0,Tn.jsx)(ic,{onClick:()=>{j(!1),p(null)},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(wi,{className:"w-6 h-6 text-primary-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("h4",{className:"font-medium text-gray-900",children:[f.firstName," ",f.lastName]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: ",f.employeeId]})]})]}),(0,Tn.jsxs)("div",{className:"space-y-3",children:[(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(no,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:f.email})]}),f.phone&&(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Vc,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:f.phone})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(dc,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsxs)("span",{className:"text-gray-600",children:[f.rank," - ",f.position]})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Ci,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsxs)("span",{className:"text-gray-600",children:[f.yearsOfService||0," years of service"]})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Si,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsxs)("span",{className:"text-gray-600",children:["Seniority Score: ",K(f)]})]}),(0,Tn.jsx)("div",{className:"flex items-center text-sm",children:(0,Tn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(re(f.yearsOfService||0)),children:[se(f.yearsOfService||0)," Level"]})}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(ki,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:(null===(e=f.currentStation)||void 0===e?void 0:e.name)||"Unassigned"})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(oc,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:f.isAdmin?"Administrator":"Standard User"})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[f.isActive?(0,Tn.jsx)(yc,{className:"w-4 h-4 text-green-500 mr-2"}):(0,Tn.jsx)(Tc,{className:"w-4 h-4 text-red-500 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:f.isActive?"Active Account":"Inactive Account"})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{onClick:()=>{j(!1),p(null)},variant:"secondary",children:"Close"}),(0,Tn.jsxs)(ic,{onClick:()=>{j(!1),J(f)},variant:"secondary",children:[(0,Tn.jsx)(hc,{className:"w-4 h-4 mr-2"}),"Assign Station"]}),(0,Tn.jsxs)(ic,{onClick:()=>{j(!1),X(f)},variant:"primary",children:[(0,Tn.jsx)(Pc,{className:"w-4 h-4 mr-2"}),"Edit User"]})]})]})]})}),N&&f&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Assign Station"}),(0,Tn.jsx)(ic,{onClick:()=>{w(!1),p(null),Q()},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsx)("div",{className:"mb-4",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(wi,{className:"w-5 h-5 text-blue-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("h4",{className:"font-medium text-gray-900",children:[f.firstName," ",f.lastName]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:[f.rank," - ",f.position]})]})]})}),(0,Tn.jsxs)("form",{onSubmit:H(async e=>{try{console.log("Station assignment data:",e),console.log("Selected user:",f);const t=await On.put("/admin/users/".concat(f._id,"/station"),{stationId:e.stationId,shift:e.shift});a(r.map(e=>e._id===f._id?t.data.user:e)),w(!1),p(null),Q(),ts.success("Station assignment updated successfully")}catch(i){var t,s,n;console.error("Error updating station assignment:",i),console.error("Error response:",null===(t=i.response)||void 0===t?void 0:t.data),ts.error((null===(s=i.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||"Failed to update station assignment")}}),className:"space-y-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Station"}),(0,Tn.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[(null===(t=f.currentStation)||void 0===t?void 0:t.name)||"Unassigned",f.currentShift&&" - Shift ".concat(f.currentShift)]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to Station"}),(0,Tn.jsxs)("select",Me(Me({},V("stationId")),{},{className:"input",children:[(0,Tn.jsx)("option",{value:"",children:"Select Station"}),_.map(e=>(0,Tn.jsxs)("option",{value:e._id,children:[e.name," (Station ",e.number,")"]},e._id))]})),W.stationId&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:W.stationId.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift"}),(0,Tn.jsxs)("select",Me(Me({},V("shift",{required:"Shift is required"})),{},{className:"input",children:[(0,Tn.jsx)("option",{value:"A",children:"Shift A"}),(0,Tn.jsx)("option",{value:"B",children:"Shift B"}),(0,Tn.jsx)("option",{value:"C",children:"Shift C"})]})),W.shift&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:W.shift.message})]}),(0,Tn.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,Tn.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Tn.jsx)(kc,{className:"w-4 h-4 text-blue-600 mt-0.5"}),(0,Tn.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Tn.jsx)("p",{className:"font-medium",children:"Station Assignment Rules:"}),(0,Tn.jsxs)("ul",{className:"mt-1 space-y-1 text-xs",children:[(0,Tn.jsx)("li",{children:"\u2022 Users can only be assigned to one station at a time"}),(0,Tn.jsx)("li",{children:"\u2022 Station capacity will be checked automatically"}),(0,Tn.jsx)("li",{children:"\u2022 Previous assignments will be cleared"})]})]})]})}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:()=>{w(!1),p(null),Q()},children:"Cancel"}),(0,Tn.jsxs)(ic,{type:"submit",variant:"primary",children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Assign Station"]})]})]})]})})]})},cd=()=>{const[e,t]=(0,n.useState)(null),[s,r]=(0,n.useState)(!1),[a,i]=(0,n.useState)(null),[l,o]=(0,n.useState)(!1),c=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?o(!0):"dragleave"===e.type&&o(!1)},d=e=>{const t=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(e.type),s=[".xlsx",".xls"].some(t=>e.name.toLowerCase().endsWith(t));return t||s?!(e.size>5242880)||(ts.error("File size must be less than 5MB"),!1):(ts.error("Please select a valid Excel file (.xlsx or .xls)"),!1)};return(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsxs)("div",{className:"card-header",children:[(0,Tn.jsx)("h3",{className:"text-lg font-semibold",children:"Import Stations from Excel"}),(0,Tn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Upload an Excel file to bulk import fire stations into the system"})]}),(0,Tn.jsxs)("div",{className:"card-body",children:[(0,Tn.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(l?"border-rigroster-red bg-rigroster-red/5":"border-gray-300 hover:border-rigroster-red"),onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){const s=e.dataTransfer.files[0];d(s)&&t(s)}},children:[(0,Tn.jsx)(rd,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e?(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)(yc,{className:"mx-auto h-12 w-12 text-green-500 mb-4"}),(0,Tn.jsxs)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:["File selected: ",e.name]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Size: ",(e.size/1024/1024).toFixed(2)," MB"]}),(0,Tn.jsxs)("div",{className:"space-x-2",children:[(0,Tn.jsx)(ic,{onClick:async()=>{if(e){r(!0),i(null);try{const s=new FormData;s.append("file",e);const r=await On.post("/admin/import-stations",s,{headers:{"Content-Type":"multipart/form-data"}});i(r.data.results),ts.success("Import completed! ".concat(r.data.results.created," stations created, ").concat(r.data.results.skipped," skipped.")),t(null)}catch(a){var s,n;console.error("Upload error:",a),ts.error((null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||a.message||"Upload failed")}finally{r(!1)}}else ts.error("Please select a file to upload")},loading:s,children:s?"Uploading...":"Upload & Import"}),(0,Tn.jsx)(ic,{variant:"outline",onClick:()=>t(null),disabled:s,children:"Remove File"})]})]}):(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop your Excel file here, or click to browse"}),(0,Tn.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Supports .xlsx and .xls files up to 5MB"}),(0,Tn.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:e=>{const s=e.target.files[0];s&&d(s)&&t(s)},className:"hidden",id:"file-upload"}),(0,Tn.jsx)("label",{htmlFor:"file-upload",children:(0,Tn.jsx)(ic,{as:"span",variant:"outline",children:"Choose File"})})]})]}),(0,Tn.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h4",{className:"font-medium text-blue-900",children:"Need a template?"}),(0,Tn.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Download our Excel template with the correct column headers"})]}),(0,Tn.jsxs)(ic,{variant:"outline",onClick:()=>{const e=[["name","number","address","totalCapacity","shiftACapacity","shiftBCapacity","shiftCCapacity","description","phoneNumber","email","isActive","preferredRanks"],["Central Fire Station","1","123 Main St, City, State 12345","18","6","6","6","Main downtown fire station","555-1234","station1@city.gov","true","Firefighter,Engineer,Lieutenant"],["North Fire Station","2","456 North Ave, City, State 12345","15","5","5","5","North district station","555-5678","station2@city.gov","true","Firefighter,Paramedic"],["South Fire Station","3","789 South Blvd, City, State 12345","12","4","4","4","South district station","555-9012","station3@city.gov","true","Firefighter,EMT"]].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="station_import_template.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s)},children:[(0,Tn.jsx)(Gc,{className:"w-4 h-4 mr-2"}),"Download Template"]})]})}),(0,Tn.jsxs)("div",{className:"mt-6",children:[(0,Tn.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Required Columns:"}),(0,Tn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{name:"name",required:!0,description:"Station name"},{name:"number",required:!0,description:"Station number"},{name:"address",required:!0,description:"Full address"},{name:"totalCapacity",required:!0,description:"Total capacity"},{name:"shiftACapacity",required:!0,description:"Shift A capacity"},{name:"shiftBCapacity",required:!0,description:"Shift B capacity"},{name:"shiftCCapacity",required:!0,description:"Shift C capacity"},{name:"description",required:!1,description:"Station description"},{name:"phoneNumber",required:!1,description:"Contact phone"},{name:"email",required:!1,description:"Contact email"},{name:"isActive",required:!1,description:"Active status (true/false)"},{name:"preferredRanks",required:!1,description:"Preferred ranks (comma-separated)"}].map(e=>(0,Tn.jsx)("div",{className:"flex items-start space-x-2",children:(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-sm font-medium ".concat(e.required?"text-red-600":"text-gray-600"),children:e.name}),e.required&&(0,Tn.jsx)("span",{className:"text-red-500 ml-1",children:"*"}),(0,Tn.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.description})]})},e.name))})]}),(0,Tn.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[(0,Tn.jsx)("h4",{className:"font-medium text-yellow-900 mb-2",children:"Important Notes:"}),(0,Tn.jsxs)("ul",{className:"text-sm text-yellow-800 space-y-1",children:[(0,Tn.jsx)("li",{children:"\u2022 Station numbers must be unique and greater than 0"}),(0,Tn.jsx)("li",{children:"\u2022 Capacity values must be non-negative numbers"}),(0,Tn.jsx)("li",{children:"\u2022 The sum of shift capacities should equal total capacity"}),(0,Tn.jsx)("li",{children:'\u2022 Preferred ranks should be comma-separated (e.g., "Firefighter,Engineer,Lieutenant")'}),(0,Tn.jsx)("li",{children:'\u2022 isActive should be "true" or "false" (defaults to true if not specified)'})]})]})]})]}),a&&(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsx)("h3",{className:"text-lg font-semibold",children:"Import Results"})}),(0,Tn.jsxs)("div",{className:"card-body",children:[(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Tn.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,Tn.jsx)("div",{className:"text-2xl font-bold text-green-600",children:a.created}),(0,Tn.jsx)("div",{className:"text-sm text-green-700",children:"Stations Created"})]}),(0,Tn.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,Tn.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:a.skipped}),(0,Tn.jsx)("div",{className:"text-sm text-yellow-700",children:"Stations Skipped"})]}),(0,Tn.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Tn.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:a.total}),(0,Tn.jsx)("div",{className:"text-sm text-gray-700",children:"Total Rows"})]})]}),a.errors.length>0&&(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Errors:"}),(0,Tn.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.errors.map((e,t)=>(0,Tn.jsxs)("div",{className:"flex items-start space-x-2 p-3 bg-red-50 rounded-lg",children:[(0,Tn.jsx)(id,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("div",{className:"text-sm font-medium text-red-900",children:["Row ",e.row]}),(0,Tn.jsx)("div",{className:"text-sm text-red-700",children:e.error})]})]},t))})]})]})]})]})},dd=()=>{var e,t,s;const[r,a]=(0,n.useState)([]),[i,l]=(0,n.useState)([]),[o,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(""),[m,h]=(0,n.useState)("all"),[f,p]=(0,n.useState)(null),[x,g]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),[b,j]=(0,n.useState)(!1),[N,w]=(0,n.useState)("list"),{register:S,handleSubmit:k,formState:{errors:C},reset:E}=ro(),{register:_,handleSubmit:A,formState:{errors:P},reset:O,setValue:T}=ro(),R=async()=>{try{c(!0);const e=await On.get("/stations");a(e.data.stations||[])}catch(e){console.error("Error fetching stations:",e),ts.error("Failed to load stations")}finally{c(!1)}},F=(0,n.useCallback)(()=>{let e=r;switch(d&&(e=e.filter(e=>{var t,s,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||(null===(s=e.number)||void 0===s?void 0:s.toString().includes(d))||(null===(r=e.address)||void 0===r?void 0:r.toLowerCase().includes(d.toLowerCase()))})),m){case"active":e=e.filter(e=>e.isActive);break;case"inactive":e=e.filter(e=>!e.isActive);break;case"full":e=e.filter(e=>e.currentOccupancy>=e.capacity);break;case"available":e=e.filter(e=>e.currentOccupancy<e.capacity)}l(e)},[r,d,m]);(0,n.useEffect)(()=>{R()},[]),(0,n.useEffect)(()=>{F()},[F]);const L=e=>{var t,s,r;p(e),T("name",e.name||""),T("number",e.number||""),T("address",e.address||""),T("capacity",e.capacity?Object.values(e.capacity).reduce((e,t)=>e+t,0):0),T("shiftACapacity",(null===(t=e.capacity)||void 0===t?void 0:t.A)||0),T("shiftBCapacity",(null===(s=e.capacity)||void 0===s?void 0:s.B)||0),T("shiftCCapacity",(null===(r=e.capacity)||void 0===r?void 0:r.C)||0),T("isActive",!1!==e.isActive),g(!0)},D=e=>e.isActive?e.currentOccupancy>=e.capacity?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800":"bg-red-100 text-red-800",B=e=>e.isActive?e.currentOccupancy>=e.capacity?"Full":"Available":"Inactive",z=e=>{if(!e.capacity||!e.occupancy)return 0;const t=Object.values(e.capacity).reduce((e,t)=>e+t,0),s=Object.values(e.occupancy).reduce((e,t)=>e+t,0);return Math.round(s/t*100)};return o?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Station Management"}),(0,Tn.jsx)("p",{className:"mt-3 text-gray-600",children:"Manage all fire stations and their capacity"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)(ic,{onClick:()=>R(),variant:"secondary",size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,Tn.jsx)(wc,{className:"w-4 h-4 mr-2"}),"Refresh Stations"]}),(0,Tn.jsxs)(ic,{onClick:()=>v(!0),variant:"primary",size:"sm",children:[(0,Tn.jsx)(ed,{className:"w-4 h-4 mr-2"}),"Add Station"]})]})]}),(0,Tn.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,Tn.jsxs)(ic,{variant:"list"===N?"primary":"secondary",size:"sm",onClick:()=>w("list"),children:[(0,Tn.jsx)(ki,{className:"w-4 h-4 mr-2"}),"Station List"]}),(0,Tn.jsxs)(ic,{variant:"import"===N?"primary":"secondary",size:"sm",onClick:()=>w("import"),children:[(0,Tn.jsx)(rd,{className:"w-4 h-4 mr-2"}),"Import Stations"]})]}),"list"===N?(0,Tn.jsx)(Tn.Fragment,{children:(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,Tn.jsx)("div",{className:"flex-1",children:(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsx)(nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Tn.jsx)("input",{type:"text",placeholder:"Search stations by name, number, or address...",value:d,onChange:e=>u(e.target.value),className:"input pl-10 w-full"})]})}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(ad,{className:"w-4 h-4 text-gray-400"}),(0,Tn.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"input",children:[(0,Tn.jsx)("option",{value:"all",children:"All Stations"}),(0,Tn.jsx)("option",{value:"active",children:"Active"}),(0,Tn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Tn.jsx)("option",{value:"full",children:"Full"}),(0,Tn.jsx)("option",{value:"available",children:"Available"})]})]})]})})})}):(0,Tn.jsx)(cd,{}),"list"===N&&(0,Tn.jsxs)(Tn.Fragment,{children:[(0,Tn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(e=>{var t,s,n;return(0,Tn.jsxs)("div",{className:"card hover:shadow-lg transition-shadow",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(ki,{className:"w-5 h-5 text-primary-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["Station #",e.number]})]})]}),(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(D(e)),children:B(e)})]})}),(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(hc,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600 truncate",children:e.address})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Tn.jsx)("span",{className:"text-gray-600",children:"Capacity:"}),(0,Tn.jsxs)("span",{className:"font-medium",children:[e.occupancy?Object.values(e.occupancy).reduce((e,t)=>e+t,0):0,"/",e.capacity?Object.values(e.capacity).reduce((e,t)=>e+t,0):0]})]}),(0,Tn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Tn.jsx)("div",{className:"h-2 rounded-full ".concat(z(e)>=90?"bg-red-500":z(e)>=75?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(z(e),100),"%")}})}),(0,Tn.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsx)("div",{className:"font-medium text-blue-600",children:"Shift A"}),(0,Tn.jsx)("div",{children:(null===(t=e.capacity)||void 0===t?void 0:t.A)||0})]}),(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsx)("div",{className:"font-medium text-green-600",children:"Shift B"}),(0,Tn.jsx)("div",{children:(null===(s=e.capacity)||void 0===s?void 0:s.B)||0})]}),(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsx)("div",{className:"font-medium text-purple-600",children:"Shift C"}),(0,Tn.jsx)("div",{children:(null===(n=e.capacity)||void 0===n?void 0:n.C)||0})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{onClick:()=>(e=>{p(e),j(!0)})(e),variant:"ghost",size:"sm",children:(0,Tn.jsx)(lo,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>L(e),variant:"ghost",size:"sm",children:(0,Tn.jsx)(Pc,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this station? This action cannot be undone."))try{await On.delete("/stations/".concat(e)),a(r.filter(t=>(t._id||t.id)!==e)),ts.success("Station deleted successfully")}catch(n){var t,s;console.error("Error deleting station:",n),ts.error((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to delete station")}})(e._id||e.id),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",children:(0,Tn.jsx)(td,{className:"w-4 h-4"})})]})]})})]},e._id||e.id)})}),0===i.length&&(0,Tn.jsxs)("div",{className:"text-center py-12",children:[(0,Tn.jsx)(ki,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Stations Found"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:d||"all"!==m?"Try adjusting your search or filters.":"No stations have been added yet."})]})]}),y&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Station"}),(0,Tn.jsx)(ic,{onClick:()=>{v(!1),E()},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("form",{onSubmit:k(async e=>{try{const t={name:e.name,number:e.number,address:e.address,totalCapacity:e.capacity,shiftCapacity:{A:e.shiftACapacity||0,B:e.shiftBCapacity||0,C:e.shiftCCapacity||0}},s=await On.post("/stations",t);a([...r,s.data.station]),v(!1),E(),ts.success("Station created successfully")}catch(n){var t,s;console.error("Error creating station:",n),ts.error((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to create station")}}),className:"space-y-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Station Name"}),(0,Tn.jsx)("input",Me(Me({type:"text"},S("name",{required:"Station name is required"})),{},{className:"input",placeholder:"e.g., Central Fire Station"})),C.name&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.name.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Station Number"}),(0,Tn.jsx)("input",Me(Me({type:"number"},S("number",{required:"Station number is required",min:1})),{},{className:"input",placeholder:"1"})),C.number&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.number.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Tn.jsx)("input",Me(Me({type:"text"},S("address",{required:"Address is required"})),{},{className:"input",placeholder:"123 Main St, City, State"})),C.address&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.address.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Capacity"}),(0,Tn.jsx)("input",Me(Me({type:"number"},S("capacity",{required:"Capacity is required",min:1})),{},{className:"input",placeholder:"20"})),C.capacity&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:C.capacity.message})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift A"}),(0,Tn.jsx)("input",Me(Me({type:"number"},S("shiftACapacity",{min:0})),{},{className:"input",placeholder:"6"}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift B"}),(0,Tn.jsx)("input",Me(Me({type:"number"},S("shiftBCapacity",{min:0})),{},{className:"input",placeholder:"6"}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift C"}),(0,Tn.jsx)("input",Me(Me({type:"number"},S("shiftCCapacity",{min:0})),{},{className:"input",placeholder:"6"}))]})]}),(0,Tn.jsx)("div",{className:"flex items-center space-x-4",children:(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},S("isActive")),{},{defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:()=>{v(!1),E()},children:"Cancel"}),(0,Tn.jsxs)(ic,{type:"submit",variant:"primary",children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Create Station"]})]})]})]})}),x&&f&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Station"}),(0,Tn.jsx)(ic,{onClick:()=>{g(!1),p(null),O()},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("form",{onSubmit:A(async e=>{try{const t={name:e.name,number:e.number,address:e.address,totalCapacity:e.capacity,shiftCapacity:{A:e.shiftACapacity||0,B:e.shiftBCapacity||0,C:e.shiftCCapacity||0},isActive:e.isActive},s=await On.put("/stations/".concat(f._id||f.id),t);a(r.map(e=>(e._id||e.id)===(f._id||f.id)?s.data.station:e)),g(!1),p(null),O(),ts.success("Station updated successfully")}catch(n){var t,s;console.error("Error updating station:",n),ts.error((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to update station")}}),className:"space-y-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Station Name"}),(0,Tn.jsx)("input",Me(Me({type:"text"},_("name",{required:"Station name is required"})),{},{className:"input"})),P.name&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:P.name.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Station Number"}),(0,Tn.jsx)("input",Me(Me({type:"number"},_("number",{required:"Station number is required",min:1})),{},{className:"input"})),P.number&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:P.number.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Tn.jsx)("input",Me(Me({type:"text"},_("address",{required:"Address is required"})),{},{className:"input"})),P.address&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:P.address.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Capacity"}),(0,Tn.jsx)("input",Me(Me({type:"number"},_("capacity",{required:"Capacity is required",min:1})),{},{className:"input"})),P.capacity&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:P.capacity.message})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift A"}),(0,Tn.jsx)("input",Me(Me({type:"number"},_("shiftACapacity",{min:0})),{},{className:"input"}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift B"}),(0,Tn.jsx)("input",Me(Me({type:"number"},_("shiftBCapacity",{min:0})),{},{className:"input"}))]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift C"}),(0,Tn.jsx)("input",Me(Me({type:"number"},_("shiftCCapacity",{min:0})),{},{className:"input"}))]})]}),(0,Tn.jsx)("div",{className:"flex items-center space-x-4",children:(0,Tn.jsxs)("label",{className:"flex items-center",children:[(0,Tn.jsx)("input",Me(Me({type:"checkbox"},_("isActive")),{},{className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})),(0,Tn.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:()=>{g(!1),p(null),O()},children:"Cancel"}),(0,Tn.jsxs)(ic,{type:"submit",variant:"primary",children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Update Station"]})]})]})]})}),b&&f&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Station Details"}),(0,Tn.jsx)(ic,{onClick:()=>{j(!1),p(null)},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(ki,{className:"w-6 h-6 text-primary-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h4",{className:"font-medium text-gray-900",children:f.name}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["Station #",f.number]})]})]}),(0,Tn.jsxs)("div",{className:"space-y-3",children:[(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(hc,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:f.address})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(wi,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsxs)("span",{className:"text-gray-600",children:[f.occupancy?Object.values(f.occupancy).reduce((e,t)=>e+t,0):0,"/",f.capacity?Object.values(f.capacity).reduce((e,t)=>e+t,0):0," assigned"]})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Ci,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:f.isActive?"Active Station":"Inactive Station"})]})]}),(0,Tn.jsxs)("div",{className:"border-t pt-4",children:[(0,Tn.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Shift Capacity"}),(0,Tn.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,Tn.jsxs)("div",{className:"text-center p-2 bg-blue-50 rounded",children:[(0,Tn.jsx)("div",{className:"font-medium text-blue-600",children:"Shift A"}),(0,Tn.jsx)("div",{children:(null===(e=f.capacity)||void 0===e?void 0:e.A)||0})]}),(0,Tn.jsxs)("div",{className:"text-center p-2 bg-green-50 rounded",children:[(0,Tn.jsx)("div",{className:"font-medium text-green-600",children:"Shift B"}),(0,Tn.jsx)("div",{children:(null===(t=f.capacity)||void 0===t?void 0:t.B)||0})]}),(0,Tn.jsxs)("div",{className:"text-center p-2 bg-purple-50 rounded",children:[(0,Tn.jsx)("div",{className:"font-medium text-purple-600",children:"Shift C"}),(0,Tn.jsx)("div",{children:(null===(s=f.capacity)||void 0===s?void 0:s.C)||0})]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{onClick:()=>{j(!1),p(null)},variant:"secondary",children:"Close"}),(0,Tn.jsxs)(ic,{onClick:()=>{j(!1),L(f)},variant:"primary",children:[(0,Tn.jsx)(Pc,{className:"w-4 h-4 mr-2"}),"Edit Station"]})]})]})]})})]})},ud=yi("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),md=yi("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),hd=e=>{var t,s,r,a,i,l,o,c,d,u,m,h,f,p,x;let{session:g,onPauseSession:y,onResumeSession:v,onAutoAssign:b}=e;const[j,N]=(0,n.useState)(new Date),[w,S]=(0,n.useState)(0),[k,C]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{const e=setInterval(()=>{N(new Date)},1e3);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{if(null!==g&&void 0!==g&&g.currentBidEnd){const e=new Date(g.currentBidEnd)-j;S(Math.max(0,e))}else S(0)},[null===g||void 0===g?void 0:g.currentBidEnd,j]),(0,n.useEffect)(()=>{if(!g||"active"!==g.status||k)return;const e=setInterval(async()=>{if(w<=0&&w>-5e3){C(!0);try{const e=await fetch("/api/bid-sessions/".concat(g.id||g._id,"/check-time-expiration"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(e.ok){(await e.json()).timeExpired&&window.location.reload()}}catch(e){console.error("Error checking time expiration:",e)}finally{C(!1)}}},5e3);return()=>clearInterval(e)},[g,w,k]),!g||"active"!==g.status&&"paused"!==g.status&&"scheduled"!==g.status)return null;const E=null===(t=g.participants)||void 0===t?void 0:t.find(e=>e.position===g.currentParticipant-1),_=null===(s=g.participants)||void 0===s?void 0:s.find(e=>e.position===g.currentParticipant),A=null===(r=g.participants)||void 0===r?void 0:r.slice(g.currentParticipant,g.currentParticipant+3),P=e=>{if(e<=0)return"00:00";const t=Math.floor(e/6e4),s=Math.floor(e%6e4/1e3);return"".concat(t.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"))};return(0,Tn.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,Tn.jsx)(gc,{className:"w-5 h-5 mr-2 text-green-600"}),"Admin Session Control"]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-500",children:"Session:"}),(0,Tn.jsx)("span",{className:"font-medium text-gray-900",children:g.name})]})]}),(0,Tn.jsxs)("div",{className:"mb-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Tn.jsxs)("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[(0,Tn.jsx)(ji,{className:"w-4 h-4 mr-2"}),"Current Turn"]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full ".concat(w<=0?"bg-red-100":w<=6e4?"bg-orange-100":w<=18e4?"bg-yellow-100":"bg-green-100"),children:[(0,Tn.jsx)(bc,{className:"w-4 h-4"}),(0,Tn.jsx)("span",{className:"font-mono font-bold text-lg ".concat(w<=0?"text-red-600":w<=6e4?"text-orange-600":w<=18e4?"text-yellow-600":"text-green-600"),children:P(w)})]})]}),E&&E.user?(0,Tn.jsxs)("div",{className:"p-4 rounded-lg border-2 border-blue-500 bg-blue-50",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-blue-100",children:(0,Tn.jsx)(ji,{className:"w-5 h-5 text-blue-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("p",{className:"font-medium text-gray-900",children:[null===(a=E.user)||void 0===a?void 0:a.firstName," ",null===(i=E.user)||void 0===i?void 0:i.lastName]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:[null===(l=E.user)||void 0===l?void 0:l.rank," - ",null===(o=E.user)||void 0===o?void 0:o.position]}),(0,Tn.jsxs)("p",{className:"text-xs text-gray-400",children:["Priority: #",E.bidPriority," | Employee ID: ",null===(c=E.user)||void 0===c?void 0:c.employeeId]})]})]}),(0,Tn.jsxs)("div",{className:"text-right",children:[(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["Position: ",E.position+1," of ",(null===(d=g.participants)||void 0===d?void 0:d.length)||0]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["Has Bid: ",E.hasBid?"Yes":"No"]})]})]}),(0,Tn.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,Tn.jsx)("div",{className:"flex items-center space-x-2",children:(0,Tn.jsxs)(ic,{onClick:()=>{if(b&&E){const e=E.user.id||E.user._id;b(g.id||g._id,e)}},variant:"secondary",size:"sm",className:"text-purple-600 hover:text-purple-800",children:[(0,Tn.jsx)(md,{className:"w-4 h-4 mr-1"}),"Move to Back"]})}),(0,Tn.jsx)("div",{className:"flex items-center space-x-2",children:"active"===g.status?(0,Tn.jsxs)(ic,{onClick:()=>null===y||void 0===y?void 0:y(g.id||g._id),variant:"secondary",size:"sm",className:"text-yellow-600 hover:text-yellow-800",children:[(0,Tn.jsx)(vc,{className:"w-4 h-4 mr-1"}),"Pause"]}):(0,Tn.jsxs)(ic,{onClick:()=>null===v||void 0===v?void 0:v(g.id||g._id),variant:"secondary",size:"sm",className:"text-green-600 hover:text-green-800",children:[(0,Tn.jsx)(gc,{className:"w-4 h-4 mr-1"}),"Resume"]})})]})]}):(0,Tn.jsx)("div",{className:"p-4 rounded-lg border-2 border-gray-200 bg-gray-50",children:(0,Tn.jsx)("p",{className:"text-gray-500 text-center",children:"No current participant"})})]}),_&&_.user&&(0,Tn.jsxs)("div",{className:"mb-4",children:[(0,Tn.jsxs)("h4",{className:"text-md font-medium text-gray-900 flex items-center mb-3",children:[(0,Tn.jsx)(wi,{className:"w-4 h-4 mr-2"}),"Next in Queue"]}),(0,Tn.jsx)("div",{className:"p-3 rounded-lg border border-gray-200 bg-gray-50",children:(0,Tn.jsx)("div",{className:"flex items-center justify-between",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-gray-100",children:(0,Tn.jsx)(ji,{className:"w-4 h-4 text-gray-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("p",{className:"font-medium text-gray-900",children:[null===(u=_.user)||void 0===u?void 0:u.firstName," ",null===(m=_.user)||void 0===m?void 0:m.lastName]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:[null===(h=_.user)||void 0===h?void 0:h.rank," - Priority: #",_.bidPriority]})]})]})})})]}),A&&A.length>0&&A.some(e=>e.user)&&(0,Tn.jsxs)("div",{className:"mb-4",children:[(0,Tn.jsxs)("h4",{className:"text-md font-medium text-gray-900 flex items-center mb-3",children:[(0,Tn.jsx)(lo,{className:"w-4 h-4 mr-2"}),"Upcoming (Next 3)"]}),(0,Tn.jsx)("div",{className:"space-y-2",children:A.filter(e=>e.user).map((e,t)=>{var s,r,n;return(0,Tn.jsx)("div",{className:"p-2 rounded-lg border border-gray-200 bg-gray-50",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center bg-gray-100",children:(0,Tn.jsx)("span",{className:"text-xs font-medium text-gray-600",children:t+1})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[null===(s=e.user)||void 0===s?void 0:s.firstName," ",null===(r=e.user)||void 0===r?void 0:r.lastName]}),(0,Tn.jsxs)("p",{className:"text-xs text-gray-500",children:[null===(n=e.user)||void 0===n?void 0:n.rank," - Priority: #",e.bidPriority]})]})]}),(0,Tn.jsxs)("span",{className:"text-xs text-gray-400",children:["Position ",e.position+1]})]})},e.user.id||e.user._id)})})]}),(0,Tn.jsxs)("div",{className:"border-t pt-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-600",children:"Session Progress"}),(0,Tn.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[g.completedBids||0," of ",(null===(f=g.participants)||void 0===f?void 0:f.length)||0," completed"]})]}),(0,Tn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Tn.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((null===(p=g.participants)||void 0===p?void 0:p.length)>0?Math.round((g.completedBids||0)/g.participants.length*100):0,"%")}})}),(0,Tn.jsxs)("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[(0,Tn.jsxs)("span",{children:["Moved to Back: ",g.movedToBackCount||0]}),(0,Tn.jsxs)("span",{children:["Total Participants: ",(null===(x=g.participants)||void 0===x?void 0:x.length)||0]})]})]}),w<=6e4&&w>0&&(0,Tn.jsx)("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(Nc,{className:"w-4 h-4 text-orange-600"}),(0,Tn.jsxs)("span",{className:"text-sm text-orange-800 font-medium",children:["Time is running out! ",P(w)," remaining"]})]})}),"paused"===g.status&&(0,Tn.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(vc,{className:"w-4 h-4 text-yellow-600"}),(0,Tn.jsx)("span",{className:"text-sm text-yellow-800 font-medium",children:"Session is currently paused"})]})})]})},fd=()=>{var e;const[t,s]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[i,l]=(0,n.useState)(!0),[o,c]=(0,n.useState)(""),[d,u]=(0,n.useState)("all"),[m,h]=(0,n.useState)(null),[f,p]=(0,n.useState)(!1),[x,g]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),[b,j]=(0,n.useState)([]),[N,w]=(0,n.useState)([]),[S,k]=(0,n.useState)(null),[C,E]=(0,n.useState)(null),{register:_,handleSubmit:A,formState:{errors:P},reset:O}=ro(),{register:T,handleSubmit:R,formState:{errors:F},reset:L,setValue:D}=ro(),B=async()=>{try{l(!0);const e=(await On.get(Pn.list)).data.sessions||[];s(e);const t=e.find(e=>"active"===e.status||"paused"===e.status||"scheduled"===e.status);k(t)}catch(e){console.error("Error fetching bid sessions:",e),ts.error("Failed to load bid sessions")}finally{l(!1)}},z=(0,n.useCallback)(()=>{let e=t;switch(o&&(e=e.filter(e=>{var t,s;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(o.toLowerCase()))})),d){case"active":e=e.filter(e=>"active"===e.status);break;case"draft":e=e.filter(e=>"draft"===e.status);break;case"scheduled":e=e.filter(e=>"scheduled"===e.status);break;case"completed":e=e.filter(e=>"completed"===e.status);break;case"paused":e=e.filter(e=>"paused"===e.status)}a(e)},[t,o,d]);(0,n.useEffect)(()=>{B(),(async()=>{try{const e=await On.get("/admin/users");j(e.data.users||[])}catch(e){console.error("Error fetching users:",e),ts.error("Failed to load users")}})()},[]),(0,n.useEffect)(()=>{z()},[z]),(0,n.useEffect)(()=>{console.log("selectedSessionForHistory changed to:",C)},[C]);const I=async e=>{try{console.log("Attempting to pause session:",e);const t=await On.post(Pn.pause(e));console.log("Pause response:",t.data),await B(),ts.success("Bid session paused successfully")}catch(i){var t,s,r,n,a;console.error("Error pausing bid session:",i),console.error("Error response:",null===(t=i.response)||void 0===t?void 0:t.data),ts.error((null===(s=i.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||(null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.details)||"Failed to pause bid session")}},M=async e=>{try{console.log("Attempting to resume session:",e);const t=await On.post(Pn.resume(e));console.log("Resume response:",t.data),await B(),ts.success("Bid session resumed successfully")}catch(i){var t,s,r,n,a;console.error("Error resuming bid session:",i),console.error("Error response:",null===(t=i.response)||void 0===t?void 0:t.data),ts.error((null===(s=i.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||(null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.details)||"Failed to resume bid session")}},U=e=>{w(t=>{const s=t.find(t=>t._id===e._id);return s?t.filter(t=>t._id!==e._id):[...t,e]})},q=e=>{if(!e)return 0;if(e.manualSeniorityScore&&e.manualSeniorityScore>0)return e.manualSeniorityScore;let t=10*(e.yearsOfService||0);return t*={Firefighter:1,Engineer:1.2,Lieutenant:1.5,Captain:2,"Battalion Chief":3,"Deputy Chief":4,Chief:5}[e.rank]||1,t*={Firefighter:1,Paramedic:1.3,EMT:1.1,Driver:1.2,Operator:1.4,Officer:1.5}[e.position]||1,Math.round(t)},V=e=>{h(e),D("name",e.name||""),D("description",e.description||""),D("scheduledStart",e.scheduledStart?new Date(e.scheduledStart).toISOString().slice(0,16):""),D("scheduledEnd",e.scheduledEnd?new Date(e.scheduledEnd).toISOString().slice(0,16):""),D("year",e.year||2024),D("bidWindowDuration",e.bidWindowDuration||5),D("autoAssignTimeout",e.autoAssignTimeout||2),p(!0)},H=e=>{switch(e.status){case"draft":default:return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"active":return"bg-green-100 text-green-800";case"paused":return"bg-orange-100 text-orange-800";case"completed":return"bg-purple-100 text-purple-800"}},W=e=>{switch(e.status){case"draft":return"Draft";case"scheduled":return"Scheduled";case"active":return"Active";case"paused":return"Paused";case"completed":return"Completed";default:return"Unknown"}},Q=e=>e?new Date(e).toLocaleDateString():"Not set";return i?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):(0,Tn.jsxs)("div",{className:"space-y-6",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Bid Session Management"}),(0,Tn.jsx)("p",{className:"mt-2 text-gray-600",children:"Create and manage shift bidding sessions"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsxs)(ic,{onClick:()=>{console.log("Test history button clicked"),console.log("Setting selectedSessionForHistory to test-session-id"),E("test-session-id"),console.log("State should now be set")},variant:"secondary",size:"sm",children:[(0,Tn.jsx)(ud,{className:"w-4 h-4 mr-2"}),"Test History"]}),(0,Tn.jsxs)(ic,{onClick:()=>B(),variant:"secondary",size:"sm",children:[(0,Tn.jsx)(wc,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Tn.jsxs)(ic,{onClick:()=>g(!0),variant:"primary",size:"sm",children:[(0,Tn.jsx)(ed,{className:"w-4 h-4 mr-2"}),"Create Session"]})]})]}),S&&(0,Tn.jsx)(hd,{session:S,onPauseSession:I,onResumeSession:M,onAutoAssign:async(e,t)=>{try{await On.post("/bid-sessions/".concat(e,"/move-to-back"),{userId:t}),await B(),ts.success("User moved to back of queue successfully")}catch(n){var s,r;console.error("Error moving user to back of queue:",n),ts.error((null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||"Failed to move user to back of queue")}}}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"card-body",children:(0,Tn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Tn.jsx)("div",{className:"flex-1",children:(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsx)(nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Tn.jsx)("input",{type:"text",placeholder:"Search sessions by name or description...",value:o,onChange:e=>c(e.target.value),className:"input pl-10 w-full"})]})}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(ad,{className:"w-4 h-4 text-gray-400"}),(0,Tn.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"input",children:[(0,Tn.jsx)("option",{value:"all",children:"All Sessions"}),(0,Tn.jsx)("option",{value:"draft",children:"Draft"}),(0,Tn.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,Tn.jsx)("option",{value:"active",children:"Active"}),(0,Tn.jsx)("option",{value:"paused",children:"Paused"}),(0,Tn.jsx)("option",{value:"completed",children:"Completed"})]})]})]})})}),(0,Tn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>{var r,n;return(0,Tn.jsxs)("div",{className:"card hover:shadow-md transition-shadow",children:[(0,Tn.jsx)("div",{className:"card-header",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(H(e)),children:W(e)})]})}),(0,Tn.jsxs)("div",{className:"card-body",children:[(0,Tn.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,Tn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"Year:"}),(0,Tn.jsx)("span",{className:"font-medium",children:e.year})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"Start Date:"}),(0,Tn.jsx)("span",{className:"font-medium",children:Q(e.scheduledStart)})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"End Date:"}),(0,Tn.jsx)("span",{className:"font-medium",children:Q(e.scheduledEnd)})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"Participants:"}),(0,Tn.jsx)("span",{className:"font-medium",children:(null===(r=e.participants)||void 0===r?void 0:r.length)||0})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"Bid Window:"}),(0,Tn.jsxs)("span",{className:"font-medium",children:[e.bidWindowDuration," min"]})]}),"active"===e.status&&(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"Progress:"}),(0,Tn.jsxs)("span",{className:"font-medium",children:[e.completedBids||0," / ",(null===(n=e.participants)||void 0===n?void 0:n.length)||0]})]})]})]}),(0,Tn.jsx)("div",{className:"card-footer",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(ic,{onClick:()=>(e=>{h(e),v(!0)})(e),variant:"ghost",size:"sm",children:(0,Tn.jsx)(lo,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>V(e),variant:"ghost",size:"sm",children:(0,Tn.jsx)(Pc,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>{console.log("History button clicked for session:",e.id||e._id),E(e.id||e._id)},variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800",title:"View Session History",children:(0,Tn.jsx)(ud,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this bid session? This action cannot be undone."))try{console.log("Attempting to delete session:",e);const r=await On.delete(Pn.delete(e));console.log("Delete response:",r.data),s(t.filter(t=>(t.id||t._id)!==e)),ts.success("Bid session deleted successfully")}catch(i){var r,n,a;console.error("Error deleting bid session:",i),console.error("Error response:",null===(r=i.response)||void 0===r?void 0:r.data),ts.error((null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to delete bid session")}})(e.id||e._id),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",children:(0,Tn.jsx)(td,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:["draft"===e.status&&(0,Tn.jsxs)(ic,{onClick:()=>(async e=>{try{await On.post(Pn.start(e)),await B(),ts.success("Bid session started successfully")}catch(r){var t,s;console.error("Error starting bid session:",r),ts.error((null===(t=r.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to start bid session")}})(e.id||e._id),variant:"primary",size:"sm",children:[(0,Tn.jsx)(gc,{className:"w-4 h-4 mr-1"}),"Start"]}),"active"===e.status&&(0,Tn.jsxs)(ic,{onClick:()=>I(e.id||e._id),variant:"secondary",size:"sm",children:[(0,Tn.jsx)(vc,{className:"w-4 h-4 mr-1"}),"Pause"]}),"paused"===e.status&&(0,Tn.jsxs)(ic,{onClick:()=>M(e.id||e._id),variant:"primary",size:"sm",children:[(0,Tn.jsx)(gc,{className:"w-4 h-4 mr-1"}),"Resume"]})]})]})})]},e.id||e._id)})}),0===r.length&&(0,Tn.jsxs)("div",{className:"text-center py-12",children:[(0,Tn.jsx)(mc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Bid Sessions Found"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:o||"all"!==d?"Try adjusting your search or filters.":"No bid sessions have been created yet."})]}),x&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Bid Session"}),(0,Tn.jsx)(ic,{onClick:()=>{g(!1),w([]),O()},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("form",{onSubmit:A(async e=>{try{const r=Me(Me({},e),{},{participantIds:N.map(e=>e._id)}),n=await On.post(Pn.create,r);s([...t,n.data.session]),g(!1),w([]),O(),ts.success("Bid session created successfully")}catch(a){var r,n;console.error("Error creating bid session:",a),ts.error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to create bid session")}}),className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Name"}),(0,Tn.jsx)("input",Me(Me({type:"text"},_("name",{required:"Session name is required"})),{},{className:"input",placeholder:"e.g., Annual 2024 Bid"})),P.name&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:P.name.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),(0,Tn.jsx)("input",Me(Me({type:"number"},_("year",{required:"Year is required",min:{value:2024,message:"Year must be 2024 or later"}})),{},{className:"input",min:"2024",defaultValue:"2024"})),P.year&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:P.year.message})]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Tn.jsx)("textarea",Me(Me({},_("description")),{},{className:"input",rows:"3",placeholder:"Optional description of the bid session"}))]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Start"}),(0,Tn.jsx)("input",Me(Me({type:"datetime-local"},_("scheduledStart",{required:"Start date is required"})),{},{className:"input"})),P.scheduledStart&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:P.scheduledStart.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled End"}),(0,Tn.jsx)("input",Me(Me({type:"datetime-local"},_("scheduledEnd",{required:"End date is required"})),{},{className:"input"})),P.scheduledEnd&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:P.scheduledEnd.message})]})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bid Window Duration (minutes)"}),(0,Tn.jsx)("input",Me(Me({type:"number"},_("bidWindowDuration",{required:"Bid window duration is required",min:{value:1,message:"Minimum 1 minute"},max:{value:60,message:"Maximum 60 minutes"}})),{},{className:"input",min:"1",max:"60",defaultValue:"5"})),P.bidWindowDuration&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:P.bidWindowDuration.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auto-Assign Timeout (minutes)"}),(0,Tn.jsx)("input",Me(Me({type:"number"},_("autoAssignTimeout",{required:"Auto-assign timeout is required",min:{value:1,message:"Minimum 1 minute"},max:{value:30,message:"Maximum 30 minutes"}})),{},{className:"input",min:"1",max:"30",defaultValue:"2"})),P.autoAssignTimeout&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:P.autoAssignTimeout.message})]})]}),(0,Tn.jsxs)("div",{className:"border-t pt-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h4",{className:"text-md font-medium text-gray-900",children:"Select Participants"}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",size:"sm",onClick:()=>{w(b.filter(e=>e.isActive))},children:"Select All"}),(0,Tn.jsx)(ic,{type:"button",variant:"secondary",size:"sm",onClick:()=>{w([])},children:"Clear All"})]})]}),(0,Tn.jsx)("div",{className:"max-h-60 overflow-y-auto border rounded-lg p-4",children:(0,Tn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:b.filter(e=>e.isActive).map(e=>{const t=N.find(t=>t._id===e._id);return(0,Tn.jsxs)("div",{className:"flex items-center space-x-3 p-2 rounded-lg cursor-pointer border ".concat(t?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"),onClick:()=>U(e),children:[(0,Tn.jsx)("input",{type:"checkbox",checked:t,onChange:()=>U(e),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Tn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Tn.jsxs)("p",{className:"text-sm font-medium text-gray-900 truncate",children:[e.firstName," ",e.lastName]}),(0,Tn.jsxs)("p",{className:"text-xs text-gray-500",children:[e.rank," - Priority: ",q(e)]})]})]},e._id)})})}),(0,Tn.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",N.length," users"]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:()=>{g(!1),w([]),O()},children:"Cancel"}),(0,Tn.jsxs)(ic,{type:"submit",variant:"primary",disabled:0===N.length,children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Create Session"]})]})]})]})}),f&&m&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Bid Session"}),(0,Tn.jsx)(ic,{onClick:()=>{p(!1),h(null),L()},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("form",{onSubmit:R(async e=>{try{const r=await On.put(Pn.update(m.id||m._id),e);s(t.map(e=>(e.id||e._id)===(m.id||m._id)?r.data.session:e)),p(!1),h(null),L(),ts.success("Bid session updated successfully")}catch(a){var r,n;console.error("Error updating bid session:",a),ts.error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to update bid session")}}),className:"space-y-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Name"}),(0,Tn.jsx)("input",Me(Me({type:"text"},T("name",{required:"Session name is required"})),{},{className:"input"})),F.name&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.name.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Tn.jsx)("textarea",Me(Me({},T("description")),{},{className:"input",rows:"3"}))]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Start"}),(0,Tn.jsx)("input",Me(Me({type:"datetime-local"},T("scheduledStart",{required:"Start date is required"})),{},{className:"input"})),F.scheduledStart&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.scheduledStart.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled End"}),(0,Tn.jsx)("input",Me(Me({type:"datetime-local"},T("scheduledEnd",{required:"End date is required"})),{},{className:"input"})),F.scheduledEnd&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.scheduledEnd.message})]})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),(0,Tn.jsx)("input",Me(Me({type:"number"},T("year",{required:"Year is required",min:{value:2024,message:"Year must be 2024 or later"}})),{},{className:"input",min:"2024"})),F.year&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.year.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bid Window (min)"}),(0,Tn.jsx)("input",Me(Me({type:"number"},T("bidWindowDuration",{required:"Bid window duration is required",min:{value:1,message:"Minimum 1 minute"},max:{value:60,message:"Maximum 60 minutes"}})),{},{className:"input",min:"1",max:"60"})),F.bidWindowDuration&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.bidWindowDuration.message})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auto Timeout (min)"}),(0,Tn.jsx)("input",Me(Me({type:"number"},T("autoAssignTimeout",{required:"Auto-assign timeout is required",min:{value:1,message:"Minimum 1 minute"},max:{value:30,message:"Maximum 30 minutes"}})),{},{className:"input",min:"1",max:"30"})),F.autoAssignTimeout&&(0,Tn.jsx)("p",{className:"mt-1 text-sm text-red-600",children:F.autoAssignTimeout.message})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{type:"button",variant:"secondary",onClick:()=>{p(!1),h(null),L()},children:"Cancel"}),(0,Tn.jsxs)(ic,{type:"submit",variant:"primary",children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Update Session"]})]})]})]})}),y&&m&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Session Details"}),(0,Tn.jsx)(ic,{onClick:()=>{v(!1),h(null)},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h4",{className:"font-medium text-gray-900",children:m.name}),(0,Tn.jsx)("p",{className:"text-sm text-gray-600",children:m.description})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,Tn.jsx)("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full ".concat(H(m)),children:W(m)})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"Year:"}),(0,Tn.jsx)("span",{className:"ml-2 font-medium",children:m.year})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"Start Date:"}),(0,Tn.jsx)("span",{className:"ml-2 font-medium",children:Q(m.scheduledStart)})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"End Date:"}),(0,Tn.jsx)("span",{className:"ml-2 font-medium",children:Q(m.scheduledEnd)})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"Participants:"}),(0,Tn.jsx)("span",{className:"ml-2 font-medium",children:(null===(e=m.participants)||void 0===e?void 0:e.length)||0})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("span",{className:"text-gray-500",children:"Bid Window:"}),(0,Tn.jsxs)("span",{className:"ml-2 font-medium",children:[m.bidWindowDuration," minutes"]})]})]}),m.participants&&m.participants.length>0&&(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Participants"}),(0,Tn.jsx)("div",{className:"max-h-60 overflow-y-auto border rounded-lg p-4",children:(0,Tn.jsx)("div",{className:"space-y-2",children:m.participants.map((e,t)=>(0,Tn.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("span",{className:"font-medium",children:[t+1,"."]}),(0,Tn.jsxs)("span",{className:"ml-2",children:[e.user.firstName," ",e.user.lastName]}),(0,Tn.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",e.user.rank,")"]})]}),(0,Tn.jsxs)("span",{className:"text-sm text-gray-500",children:["Priority: ",e.bidPriority]})]},e.user.id||e.user._id))})})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{onClick:()=>{v(!1),h(null)},variant:"secondary",children:"Close"}),(0,Tn.jsxs)(ic,{onClick:()=>{v(!1),V(m)},variant:"primary",children:[(0,Tn.jsx)(Pc,{className:"w-4 h-4 mr-2"}),"Edit Session"]})]})]})}),C&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Bid Session History"}),(0,Tn.jsx)(ic,{onClick:()=>{console.log("Closing history modal"),E(null)},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-6 h-6"})})]}),(0,Tn.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,Tn.jsx)(Uc,{sessionId:C})}),(0,Tn.jsx)("div",{className:"flex items-center justify-end pt-4",children:(0,Tn.jsx)(ic,{onClick:()=>{console.log("Closing history modal"),E(null)},variant:"secondary",children:"Close"})})]})})]})},pd=yi("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),xd=()=>{var e;const{user:t}=qn(),[s,r]=(0,n.useState)([]),[a,i]=(0,n.useState)([]),[l,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(""),[h,f]=(0,n.useState)("all"),[p,x]=(0,n.useState)("seniority"),[g,y]=(0,n.useState)("desc"),[v,b]=(0,n.useState)(null),[j,N]=(0,n.useState)(!1),[w,S]=(0,n.useState)(!1),[k,C]=(0,n.useState)(null),[E,_]=(0,n.useState)({yearsOfService:0,rank:"",position:"",manualSeniorityScore:0}),[A,P]=(0,n.useState)(!1),[O,T]=(0,n.useState)({stationId:"",shift:"A"}),R=e=>{if(!e)return 0;if(e.manualSeniorityScore&&e.manualSeniorityScore>0)return e.manualSeniorityScore;let t=10*(e.yearsOfService||0);return t*={Firefighter:1,Engineer:1.2,Lieutenant:1.5,Captain:2,"Battalion Chief":3,"Deputy Chief":4,Chief:5}[e.rank]||1,t*={Firefighter:1,Paramedic:1.3,EMT:1.1,Driver:1.2,Operator:1.4,Officer:1.5}[e.position]||1,Math.round(t)},F=e=>e>=15?"Senior":e>=10?"Experienced":e>=5?"Mid-level":"Junior",L=e=>e>=15?"text-purple-600 bg-purple-100":e>=10?"text-blue-600 bg-blue-100":e>=5?"text-green-600 bg-green-100":"text-orange-600 bg-orange-100",D=async()=>{try{d(!0);const e=await On.get("/admin/users");r(e.data.users||[])}catch(e){console.error("Error fetching users:",e),ts.error("Failed to load users")}finally{d(!1)}},B=(0,n.useCallback)(()=>{let e=s;switch(u&&(e=e.filter(e=>{var t,s,r,n,a;return(null===(t=e.firstName)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(s=e.lastName)||void 0===s?void 0:s.toLowerCase().includes(u.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(u.toLowerCase()))||(null===(n=e.employeeId)||void 0===n?void 0:n.toLowerCase().includes(u.toLowerCase()))||(null===(a=e.rank)||void 0===a?void 0:a.toLowerCase().includes(u.toLowerCase()))})),h){case"active":e=e.filter(e=>e.isActive);break;case"inactive":e=e.filter(e=>!e.isActive);break;case"senior":e=e.filter(e=>(e.yearsOfService||0)>=15);break;case"experienced":e=e.filter(e=>(e.yearsOfService||0)>=10&&(e.yearsOfService||0)<15);break;case"mid-level":e=e.filter(e=>(e.yearsOfService||0)>=5&&(e.yearsOfService||0)<10);break;case"junior":e=e.filter(e=>(e.yearsOfService||0)<5);break;case"admin":e=e.filter(e=>e.isAdmin);break;case"manual":e=e.filter(e=>e.manualSeniorityScore&&e.manualSeniorityScore>0)}e.sort((e,t)=>{let s,r;switch(p){case"seniority":default:s=R(e),r=R(t);break;case"yearsOfService":s=e.yearsOfService||0,r=t.yearsOfService||0;break;case"rank":s=e.rank||"",r=t.rank||"";break;case"name":s="".concat(e.firstName," ").concat(e.lastName).toLowerCase(),r="".concat(t.firstName," ").concat(t.lastName).toLowerCase();break;case"position":s=e.position||"",r=t.position||""}return"asc"===g?s>r?1:-1:s<r?1:-1}),i(e)},[s,u,h,p,g]);(0,n.useEffect)(()=>{D(),(async()=>{try{const e=await On.get("/stations");o(e.data.stations||[])}catch(e){console.error("Error fetching stations:",e),ts.error("Failed to load stations")}})()},[]),(0,n.useEffect)(()=>{B()},[B]);const z=e=>{C(e),_({yearsOfService:e.yearsOfService||0,rank:e.rank||"",position:e.position||"",manualSeniorityScore:e.manualSeniorityScore||0}),S(!0)},I=()=>{S(!1),C(null),_({yearsOfService:0,rank:"",position:"",manualSeniorityScore:0})},M=async(e,t)=>{try{const n=Math.max(0,(e.yearsOfService||0)+t),a=await On.put("/admin/users/".concat(e._id),{yearsOfService:n});r(s.map(t=>t._id===e._id?a.data.user:t)),ts.success("Years of service ".concat(t>0?"increased":"decreased"," by ").concat(Math.abs(t)))}catch(n){console.error("Error adjusting seniority:",n),ts.error("Failed to adjust seniority")}},U=async e=>{var t;C(e),T({stationId:(null===(t=e.currentStation)||void 0===t?void 0:t._id)||"",shift:e.currentShift||"A"}),P(!0)},q=()=>{P(!1),C(null),T({stationId:"",shift:"A"})};return c?(0,Tn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Tn.jsx)(Ec,{size:"lg"})}):(0,Tn.jsxs)("div",{className:"space-y-8",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Seniority Management"}),(0,Tn.jsx)("p",{className:"mt-3 text-gray-600",children:"View and manage seniority rankings for all users"})]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Tn.jsxs)(ic,{onClick:()=>D(),variant:"secondary",size:"sm",children:[(0,Tn.jsx)(wc,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Tn.jsxs)(ic,{onClick:()=>{const e=[["Rank","Name","Employee ID","Rank","Position","Years of Service","Seniority Score","Seniority Level","Station","Manual Score"],...a.map((e,t)=>{var s;return[t+1,"".concat(e.firstName," ").concat(e.lastName),e.employeeId,e.rank,e.position,e.yearsOfService||0,R(e),F(e.yearsOfService||0),(null===(s=e.currentStation)||void 0===s?void 0:s.name)||"Unassigned",e.manualSeniorityScore||"Auto-calculated"]})].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="seniority-list.csv",r.click(),window.URL.revokeObjectURL(s),ts.success("Seniority list exported successfully")},variant:"primary",size:"sm",children:[(0,Tn.jsx)(Gc,{className:"w-4 h-4 mr-2"}),"Export List"]})]})]}),(0,Tn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),(0,Tn.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Tn.jsx)(wi,{className:"w-6 h-6 text-blue-600"})})]})})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Senior (15+ years)"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:a.filter(e=>(e.yearsOfService||0)>=15).length})]}),(0,Tn.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(Oc,{className:"w-6 h-6 text-purple-600"})})]})})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Manual Adjustments"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:a.filter(e=>e.manualSeniorityScore&&e.manualSeniorityScore>0).length})]}),(0,Tn.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(Pc,{className:"w-6 h-6 text-orange-600"})})]})})}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),(0,Tn.jsx)("p",{className:"text-2xl font-bold text-green-600",children:a.length>0?Math.round(a.reduce((e,t)=>e+R(t),0)/a.length):0})]}),(0,Tn.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,Tn.jsx)(Si,{className:"w-6 h-6 text-green-600"})})]})})})]}),(0,Tn.jsx)("div",{className:"card",children:(0,Tn.jsx)("div",{className:"p-6",children:(0,Tn.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,Tn.jsx)("div",{className:"flex-1",children:(0,Tn.jsxs)("div",{className:"relative",children:[(0,Tn.jsx)(nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Tn.jsx)("input",{type:"text",placeholder:"Search users by name, email, or employee ID...",value:u,onChange:e=>m(e.target.value),className:"input pl-10 w-full"})]})}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)(ad,{className:"w-4 h-4 text-gray-400"}),(0,Tn.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"input",children:[(0,Tn.jsx)("option",{value:"all",children:"All Users"}),(0,Tn.jsx)("option",{value:"active",children:"Active"}),(0,Tn.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Tn.jsx)("option",{value:"senior",children:"Senior (15+ years)"}),(0,Tn.jsx)("option",{value:"experienced",children:"Experienced (10-14 years)"}),(0,Tn.jsx)("option",{value:"mid-level",children:"Mid-level (5-9 years)"}),(0,Tn.jsx)("option",{value:"junior",children:"Junior (<5 years)"}),(0,Tn.jsx)("option",{value:"admin",children:"Admins"}),(0,Tn.jsx)("option",{value:"manual",children:"Manual Adjustments"})]})]})]})})}),(0,Tn.jsxs)("div",{className:"card",children:[(0,Tn.jsx)("div",{className:"px-6 py-5 border-b border-rigroster-border",children:(0,Tn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Tn.jsxs)("h3",{className:"text-xl font-medium text-gray-900",children:["Seniority Rankings (",a.length,")"]}),(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("span",{className:"text-sm text-gray-500",children:"Sort by:"}),(0,Tn.jsxs)("select",{value:p,onChange:e=>{return t=e.target.value,void(p===t?y("asc"===g?"desc":"asc"):(x(t),y("desc")));var t},className:"input text-sm",children:[(0,Tn.jsx)("option",{value:"seniority",children:"Seniority Score"}),(0,Tn.jsx)("option",{value:"yearsOfService",children:"Years of Service"}),(0,Tn.jsx)("option",{value:"rank",children:"Rank"}),(0,Tn.jsx)("option",{value:"name",children:"Name"}),(0,Tn.jsx)("option",{value:"position",children:"Position"})]})]})]})}),(0,Tn.jsxs)("div",{className:"p-6",children:[(0,Tn.jsx)("div",{className:"overflow-x-auto",children:(0,Tn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Tn.jsx)("thead",{className:"bg-gray-50",children:(0,Tn.jsxs)("tr",{children:[(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seniority"}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Station"}),(0,Tn.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Tn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((e,t)=>{var s,r;return(0,Tn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Tn.jsx)("td",{className:"px-6 py-3 whitespace-nowrap",children:(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["#",t+1]}),(0,Tn.jsxs)("div",{className:"text-xs text-gray-500",children:[e.isAdmin&&(0,Tn.jsx)("span",{className:"text-purple-600",children:"Admin"}),e.manualSeniorityScore&&e.manualSeniorityScore>0&&(0,Tn.jsx)("span",{className:"text-orange-600 ml-1",children:"Manual"})]})]})}),(0,Tn.jsx)("td",{className:"px-6 py-3 whitespace-nowrap",children:(0,Tn.jsxs)("div",{className:"flex items-center",children:[(0,Tn.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(ji,{className:"w-5 h-5 text-primary-600"})}),(0,Tn.jsxs)("div",{className:"ml-4",children:[(0,Tn.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,Tn.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.employeeId]})]})]})}),(0,Tn.jsxs)("td",{className:"px-6 py-3 whitespace-nowrap",children:[(0,Tn.jsx)("div",{className:"text-sm text-gray-900",children:(0,Tn.jsx)("span",{className:"font-medium ".concat((r=e.rank,{Firefighter:"text-gray-600",Engineer:"text-blue-600",Lieutenant:"text-green-600",Captain:"text-purple-600","Battalion Chief":"text-orange-600","Deputy Chief":"text-red-600",Chief:"text-indigo-600"}[r]||"text-gray-600")),children:e.rank})}),(0,Tn.jsx)("div",{className:"text-sm text-gray-500",children:e.position})]}),(0,Tn.jsxs)("td",{className:"px-6 py-3 whitespace-nowrap",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[R(e),e.manualSeniorityScore&&e.manualSeniorityScore>0&&(0,Tn.jsx)("span",{className:"text-orange-600 ml-1",children:"*"})]}),(0,Tn.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(L(e.yearsOfService||0)),children:F(e.yearsOfService||0)})]}),(0,Tn.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,Tn.jsx)(mc,{className:"w-3 h-3 mr-1"}),e.yearsOfService||0," years"]})]}),(0,Tn.jsx)("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-900",children:(null===(s=e.currentStation)||void 0===s?void 0:s.name)||"Unassigned"}),(0,Tn.jsx)("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-medium",children:(0,Tn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Tn.jsx)(ic,{onClick:()=>(e=>{b(e),N(!0)})(e),variant:"ghost",size:"sm",children:(0,Tn.jsx)(lo,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>z(e),variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-800",children:(0,Tn.jsx)(Pc,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>U(e),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800",title:"Assign Station",children:(0,Tn.jsx)(hc,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>M(e,1),variant:"ghost",size:"sm",className:"text-green-600 hover:text-green-800",children:(0,Tn.jsx)(ed,{className:"w-4 h-4"})}),(0,Tn.jsx)(ic,{onClick:()=>M(e,-1),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",children:(0,Tn.jsx)(pd,{className:"w-4 h-4"})})]})})]},e._id)})})]})}),0===a.length&&(0,Tn.jsxs)("div",{className:"text-center py-12",children:[(0,Tn.jsx)(Si,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),(0,Tn.jsx)("p",{className:"text-gray-600",children:u||"all"!==h?"Try adjusting your search or filters.":"No users have been added yet."})]})]})]}),w&&k&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Seniority"}),(0,Tn.jsx)(ic,{onClick:I,variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(ji,{className:"w-6 h-6 text-primary-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("h4",{className:"font-medium text-gray-900",children:[k.firstName," ",k.lastName]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: ",k.employeeId]})]})]}),(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Years of Service"}),(0,Tn.jsx)("input",{type:"number",value:E.yearsOfService,onChange:e=>_(Me(Me({},E),{},{yearsOfService:parseInt(e.target.value)||0})),className:"input",min:"0",max:"50"})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rank"}),(0,Tn.jsxs)("select",{value:E.rank,onChange:e=>_(Me(Me({},E),{},{rank:e.target.value})),className:"input",children:[(0,Tn.jsx)("option",{value:"",children:"Select Rank"}),(0,Tn.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,Tn.jsx)("option",{value:"Engineer",children:"Engineer"}),(0,Tn.jsx)("option",{value:"Lieutenant",children:"Lieutenant"}),(0,Tn.jsx)("option",{value:"Captain",children:"Captain"}),(0,Tn.jsx)("option",{value:"Battalion Chief",children:"Battalion Chief"}),(0,Tn.jsx)("option",{value:"Deputy Chief",children:"Deputy Chief"}),(0,Tn.jsx)("option",{value:"Chief",children:"Chief"})]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,Tn.jsxs)("select",{value:E.position,onChange:e=>_(Me(Me({},E),{},{position:e.target.value})),className:"input",children:[(0,Tn.jsx)("option",{value:"",children:"Select Position"}),(0,Tn.jsx)("option",{value:"Firefighter",children:"Firefighter"}),(0,Tn.jsx)("option",{value:"Paramedic",children:"Paramedic"}),(0,Tn.jsx)("option",{value:"EMT",children:"EMT"}),(0,Tn.jsx)("option",{value:"Driver",children:"Driver"}),(0,Tn.jsx)("option",{value:"Operator",children:"Operator"}),(0,Tn.jsx)("option",{value:"Officer",children:"Officer"})]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manual Seniority Score (0 = Auto-calculated)"}),(0,Tn.jsx)("input",{type:"number",value:E.manualSeniorityScore,onChange:e=>_(Me(Me({},E),{},{manualSeniorityScore:parseInt(e.target.value)||0})),className:"input",min:"0",placeholder:"0"}),(0,Tn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Set to 0 to use auto-calculated score based on years, rank, and position"})]}),(0,Tn.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,Tn.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Tn.jsx)("strong",{children:"Current Score:"})," ",R(k)]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Tn.jsx)("strong",{children:"Seniority Level:"})," ",F(k.yearsOfService||0)]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{onClick:I,variant:"secondary",children:"Cancel"}),(0,Tn.jsxs)(ic,{onClick:async()=>{try{const e=await On.put("/admin/users/".concat(k._id),{yearsOfService:E.yearsOfService,rank:E.rank,position:E.position,manualSeniorityScore:E.manualSeniorityScore});r(s.map(t=>t._id===k._id?e.data.user:t)),S(!1),C(null),_({yearsOfService:0,rank:"",position:"",manualSeniorityScore:0}),ts.success("Seniority updated successfully")}catch(n){var e,t;console.error("Error updating seniority:",n),ts.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to update seniority")}},variant:"primary",children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})}),A&&k&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Assign Station"}),(0,Tn.jsx)(ic,{onClick:q,variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsx)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Tn.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,Tn.jsx)("strong",{children:"Note:"})," After assigning a station, you may need to refresh the Station Management tab to see the updated assignments."]})}),(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(ji,{className:"w-6 h-6 text-primary-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("h4",{className:"font-medium text-gray-900",children:[k.firstName," ",k.lastName]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: ",k.employeeId]})]})]}),(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Station"}),(0,Tn.jsxs)("select",{value:O.stationId,onChange:e=>T(Me(Me({},O),{},{stationId:e.target.value})),className:"input",children:[(0,Tn.jsx)("option",{value:"",children:"Select Station"}),l.map(e=>(0,Tn.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift"}),(0,Tn.jsxs)("select",{value:O.shift,onChange:e=>T(Me(Me({},O),{},{shift:e.target.value})),className:"input",children:[(0,Tn.jsx)("option",{value:"A",children:"A Shift"}),(0,Tn.jsx)("option",{value:"B",children:"B Shift"}),(0,Tn.jsx)("option",{value:"C",children:"C Shift"})]})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{onClick:q,variant:"secondary",children:"Cancel"}),(0,Tn.jsxs)(ic,{onClick:async()=>{try{const e=await On.put("/admin/users/".concat(k._id,"/station"),{stationId:O.stationId,shift:O.shift});r(s.map(t=>t._id===k._id?e.data.user:t)),P(!1),C(null),T({stationId:"",shift:"A"}),ts.success("Station assigned successfully")}catch(n){var e,t;console.error("Error assigning station:",n),ts.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to assign station")}},variant:"primary",children:[(0,Tn.jsx)(Hc,{className:"w-4 h-4 mr-2"}),"Save Assignment"]})]})]})]})}),j&&v&&(0,Tn.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Tn.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,Tn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Tn.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"User Seniority Details"}),(0,Tn.jsx)(ic,{onClick:()=>{N(!1),b(null)},variant:"ghost",size:"sm",children:(0,Tn.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Tn.jsxs)("div",{className:"space-y-4",children:[(0,Tn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Tn.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Tn.jsx)(ji,{className:"w-6 h-6 text-primary-600"})}),(0,Tn.jsxs)("div",{children:[(0,Tn.jsxs)("h4",{className:"font-medium text-gray-900",children:[v.firstName," ",v.lastName]}),(0,Tn.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: ",v.employeeId]})]})]}),(0,Tn.jsxs)("div",{className:"space-y-3",children:[(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(dc,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Rank:"}),(0,Tn.jsx)("span",{className:"ml-auto font-medium text-gray-900",children:v.rank})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Oc,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Position:"}),(0,Tn.jsx)("span",{className:"ml-auto font-medium text-gray-900",children:v.position})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Ci,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Years of Service:"}),(0,Tn.jsx)("span",{className:"ml-auto font-medium text-gray-900",children:v.yearsOfService||0})]}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Si,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Seniority Score:"}),(0,Tn.jsxs)("span",{className:"ml-auto font-medium text-gray-900",children:[R(v),v.manualSeniorityScore&&v.manualSeniorityScore>0&&(0,Tn.jsx)("span",{className:"text-orange-600 ml-1",children:"*"})]})]}),v.manualSeniorityScore&&v.manualSeniorityScore>0&&(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(Pc,{className:"w-4 h-4 text-orange-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Manual Score:"}),(0,Tn.jsx)("span",{className:"ml-auto font-medium text-orange-600",children:v.manualSeniorityScore})]}),(0,Tn.jsx)("div",{className:"flex items-center text-sm",children:(0,Tn.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(L(v.yearsOfService||0)),children:[F(v.yearsOfService||0)," Level"]})}),(0,Tn.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Tn.jsx)(ki,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,Tn.jsx)("span",{className:"text-gray-600",children:"Current Station:"}),(0,Tn.jsx)("span",{className:"ml-auto font-medium text-gray-900",children:(null===(e=v.currentStation)||void 0===e?void 0:e.name)||"Unassigned"})]})]}),(0,Tn.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,Tn.jsx)(ic,{onClick:()=>{N(!1),b(null)},variant:"secondary",children:"Close"}),(0,Tn.jsxs)(ic,{onClick:()=>{N(!1),U(v)},variant:"secondary",children:[(0,Tn.jsx)(hc,{className:"w-4 h-4 mr-2"}),"Assign Station"]}),(0,Tn.jsxs)(ic,{onClick:()=>{N(!1),z(v)},variant:"primary",children:[(0,Tn.jsx)(Pc,{className:"w-4 h-4 mr-2"}),"Edit Seniority"]})]})]})]})})]})},gd=e=>{let{children:t,requireAdmin:s=!1}=e;const{user:r,loading:a}=qn();return a?(0,Tn.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Tn.jsx)(Ec,{size:"lg"})}):r?s&&!r.isAdmin?(0,Tn.jsx)(ye,{to:"/dashboard",replace:!0}):n.isValidElement(t)?t:(0,Tn.jsx)("div",{children:"Invalid component"}):(0,Tn.jsx)(ye,{to:"/login",replace:!0})},yd=e=>{let{children:t}=e;const{user:s,loading:r}=qn();return r?(0,Tn.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Tn.jsx)(Ec,{size:"lg"})}):s?(0,Tn.jsx)(ye,{to:"/dashboard",replace:!0}):n.isValidElement(t)?t:(0,Tn.jsx)("div",{children:"Invalid component"})};const vd=function(){return(0,Tn.jsx)(fi,{children:(0,Tn.jsx)("div",{className:"App",children:(0,Tn.jsxs)(Ne,{children:[(0,Tn.jsx)(be,{path:"/login",element:(0,Tn.jsx)(yd,{children:(0,Tn.jsx)(lc,{})})}),(0,Tn.jsx)(be,{path:"/register",element:(0,Tn.jsx)(yd,{children:(0,Tn.jsx)(fc,{})})}),(0,Tn.jsx)(be,{path:"/forgot-password",element:(0,Tn.jsx)(yd,{children:(0,Tn.jsx)(pc,{})})}),(0,Tn.jsx)(be,{path:"/reset-password/:token",element:(0,Tn.jsx)(yd,{children:(0,Tn.jsx)(xc,{})})}),(0,Tn.jsxs)(be,{path:"/",element:(0,Tn.jsx)(gd,{children:(0,Tn.jsx)(Oi,{})}),children:[(0,Tn.jsx)(be,{index:!0,element:(0,Tn.jsx)(ye,{to:"/dashboard",replace:!0})}),(0,Tn.jsx)(be,{path:"dashboard",element:(0,Tn.jsx)(_c,{})}),(0,Tn.jsx)(be,{path:"bidding",element:(0,Tn.jsx)(Dc,{})}),(0,Tn.jsx)(be,{path:"live-bid/:sessionId",element:(0,Tn.jsx)(qc,{})}),(0,Tn.jsx)(be,{path:"bid/:sessionId",element:(0,Tn.jsx)(Ac,{})}),(0,Tn.jsx)(be,{path:"profile",element:(0,Tn.jsx)(Qc,{})}),(0,Tn.jsx)(be,{path:"stations",element:(0,Tn.jsx)($c,{})}),(0,Tn.jsx)(be,{path:"bid-history",element:(0,Tn.jsx)(Kc,{})}),(0,Tn.jsx)(be,{path:"seniority",element:(0,Tn.jsx)(Yc,{})}),(0,Tn.jsx)(be,{path:"admin",element:(0,Tn.jsx)(gd,{requireAdmin:!0,children:(0,Tn.jsx)(sd,{})})}),(0,Tn.jsx)(be,{path:"admin/users",element:(0,Tn.jsx)(gd,{requireAdmin:!0,children:(0,Tn.jsx)(od,{})})}),(0,Tn.jsx)(be,{path:"admin/stations",element:(0,Tn.jsx)(gd,{requireAdmin:!0,children:(0,Tn.jsx)(dd,{})})}),(0,Tn.jsx)(be,{path:"admin/bid-sessions",element:(0,Tn.jsx)(gd,{requireAdmin:!0,children:(0,Tn.jsx)(fd,{})})}),(0,Tn.jsx)(be,{path:"admin/seniority",element:(0,Tn.jsx)(gd,{requireAdmin:!0,children:(0,Tn.jsx)(xd,{})})})]}),(0,Tn.jsx)(be,{path:"*",element:(0,Tn.jsx)(ye,{to:"/dashboard",replace:!0})})]})})})};class bd extends n.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t)}render(){return this.state.hasError?(0,Tn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Tn.jsxs)("div",{className:"text-center",children:[(0,Tn.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),(0,Tn.jsx)("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened."}),(0,Tn.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Reload Page"})]})}):this.props.children}}const jd=new Fe.QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e5}}});i.createRoot(document.getElementById("root")).render((0,Tn.jsx)(n.StrictMode,{children:(0,Tn.jsx)(bd,{children:(0,Tn.jsx)(Fe.QueryClientProvider,{client:jd,children:(0,Tn.jsxs)(_e,{children:[(0,Tn.jsx)(Un,{children:(0,Tn.jsx)(vd,{})}),(0,Tn.jsx)(es,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})}))})()})();